import{r,bs as Ye,O as f,u as qe,U as We,bw as m,k as ce,bt as Ze,bx as X,c as _,bM as Qe,bu as et,bz as de,bg as tt,C as nt,by as Y,bv as lt,a9 as at,I as rt,bA as se,j as N,a8 as it,aa as ot,R as ut,av as ct,bN as st,ac as me,bO as mt}from"./index-e8217573.js";import{s as ft}from"./search_icon-459d6871.js";import{w as dt}from"./withAuth-6de36ebf.js";import{V as vt}from"./virtualscroller.esm-9939945c.js";function A(){return A=Object.assign?Object.assign.bind():function(e){for(var l=1;l<arguments.length;l++){var a=arguments[l];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o])}return e},A.apply(this,arguments)}function q(e,l){(l==null||l>e.length)&&(l=e.length);for(var a=0,o=new Array(l);a<l;a++)o[a]=e[a];return o}function yt(e){if(Array.isArray(e))return q(e)}function bt(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ve(e,l){if(e){if(typeof e=="string")return q(e,l);var a=Object.prototype.toString.call(e).slice(8,-1);if(a==="Object"&&e.constructor&&(a=e.constructor.name),a==="Map"||a==="Set")return Array.from(e);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return q(e,l)}}function gt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ct(e){return yt(e)||bt(e)||ve(e)||gt()}function ht(e){if(Array.isArray(e))return e}function Et(e,l){var a=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(a!=null){var o,y,k,x,I=[],S=!0,C=!1;try{if(k=(a=a.call(e)).next,l===0){if(Object(a)!==a)return;S=!1}else for(;!(S=(o=k.call(a)).done)&&(I.push(o.value),I.length!==l);S=!0);}catch(s){C=!0,y=s}finally{try{if(!S&&a.return!=null&&(x=a.return(),Object(x)!==x))return}finally{if(C)throw y}}return I}}function St(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j(e,l){return ht(e)||Et(e,l)||ve(e,l)||St()}function G(e){"@babel/helpers - typeof";return G=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},G(e)}function wt(e,l){if(G(e)!=="object"||e===null)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var o=a.call(e,l||"default");if(G(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(l==="string"?String:Number)(e)}function Ot(e){var l=wt(e,"string");return G(l)==="symbol"?l:String(l)}function It(e,l,a){return l=Ot(l),l in e?Object.defineProperty(e,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[l]=a,e}function fe(e,l){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);l&&(o=o.filter(function(y){return Object.getOwnPropertyDescriptor(e,y).enumerable})),a.push.apply(a,o)}return a}function F(e){for(var l=1;l<arguments.length;l++){var a=arguments[l]!=null?arguments[l]:{};l%2?fe(Object(a),!0).forEach(function(o){It(e,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fe(Object(a)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(a,o))})}return e}var ye=r.memo(r.forwardRef(function(e,l){var a=function(s){return f.resolveFieldData(s,e.optionGroupLabel)},o=function(s,v,w){var h=e.getOptionGroupChildren(s);return h.map(function(d,g){var E=v+"_"+g,P=e.selectedItem===d,p=e.itemTemplate?f.getJSXElement(e.itemTemplate,d,g):e.field?f.resolveFieldData(d,e.field):d;return r.createElement("li",{key:E,role:"option","aria-selected":P,className:"p-autocomplete-item",style:w,onClick:function(c){return e.onItemClick(c,d)},"data-group":v,"data-index":g},p,r.createElement(se,null))})},y=function(s,v){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},h={height:w.props?w.props.itemSize:void 0};if(e.optionGroupLabel){var d=e.optionGroupTemplate?f.getJSXElement(e.optionGroupTemplate,s,v):e.getOptionGroupLabel(s),g=o(s,v,h),E=v+"_"+a(s);return r.createElement(r.Fragment,{key:E},r.createElement("li",{className:"p-autocomplete-item-group",style:h},d),g)}else{var P=e.itemTemplate?f.getJSXElement(e.itemTemplate,s,v):e.field?f.resolveFieldData(s,e.field):s;return r.createElement("li",{key:v,role:"option","aria-selected":e.selectedItem===s,className:"p-autocomplete-item",style:h,onClick:function(b){return e.onItemClick(b,s)}},P,r.createElement(se,null))}},k=function(){return e.suggestions?e.suggestions.map(y):null},x=function(){if(e.showEmptyMessage&&f.isEmpty(e.suggestions)){var s=e.emptyMessage||de("emptyMessage");return r.createElement("ul",{className:"p-autocomplete-items"},r.createElement("li",{className:"p-autocomplete-item"},s))}if(e.virtualScrollerOptions){var v=F(F({},e.virtualScrollerOptions),{style:F(F({},e.virtualScrollerOptions.style),{height:e.scrollHeight}),autoSize:!0,items:e.suggestions,itemTemplate:function(d,g){return d&&y(d,g.index,g)},contentTemplate:function(d){var g=_("p-autocomplete-items",d.className);return r.createElement("ul",{ref:d.contentRef,className:g,role:"listbox",id:e.listId},d.children)}});return r.createElement(vt,A({ref:e.virtualScrollerRef},v))}else{var w=k();return r.createElement("ul",{className:"p-autocomplete-items",role:"listbox",id:e.listId},w)}},I=function(){var s=_("p-autocomplete-panel p-component",e.panelClassName),v=F({maxHeight:e.scrollHeight},e.panelStyle||{}),w=x();return r.createElement(nt,{nodeRef:l,classNames:"p-connected-overlay",in:e.in,timeout:{enter:120,exit:100},options:e.transitionOptions,unmountOnExit:!0,onEnter:e.onEnter,onEntering:e.onEntering,onEntered:e.onEntered,onExit:e.onExit,onExited:e.onExited},r.createElement("div",{ref:l,className:s,style:v,onClick:e.onClick},w))},S=I();return r.createElement(et,{element:S,appendTo:e.appendTo})}));ye.displayName="AutoCompletePanel";var V=r.memo(r.forwardRef(function(e,l){var a=r.useState(e.id),o=j(a,2),y=o[0],k=o[1],x=r.useState(!1),I=j(x,2),S=I[0],C=I[1],s=r.useState(!1),v=j(s,2),w=v[0],h=v[1],d=r.useState(!1),g=j(d,2),E=g[0],P=g[1],p=r.useRef(null),b=r.useRef(null),c=r.useRef(e.inputRef),M=r.useRef(null),B=r.useRef(null),L=r.useRef(null),K=r.useRef(null),be=Ye({target:p,overlay:b,listener:function(t,n){var u=n.type,O=n.valid;O&&(u==="outside"?!he(t)&&R():R())},when:E}),W=j(be,2),ge=W[0],Ce=W[1],he=function(t){return e.multiple?t.target===M.current||M.current.contains(t.target):t.target===c.current},Z=function(t){L.current&&clearTimeout(L.current);var n=t.target.value;e.multiple||D(t,n),f.isEmpty(n)?(R(),e.onClear&&e.onClear(t)):n.length>=e.minLength?L.current=setTimeout(function(){U(t,n,"input")},e.delay):R()},U=function(t,n,u){n!=null&&(u==="input"&&n.trim().length===0||e.completeMethod&&(C(!0),e.completeMethod({originalEvent:t,query:n})))},H=function(t,n,u){if(e.multiple){if(c.current.value="",!De(n)&&(!e.value||!e.selectionLimit||e.value.length<e.selectionLimit)){var O=e.value?[].concat(Ct(e.value),[n]):[n];D(t,O)}}else Q(n),D(t,n);e.onSelect&&e.onSelect({originalEvent:t,value:n}),u||(m.focus(c.current),R())},D=function(t,n){K&&f.deepEquals(K.current,n)||(e.onChange&&e.onChange({originalEvent:t,value:n,stopPropagation:function(){},preventDefault:function(){},target:{name:e.name,id:y,value:n}}),K.current=n)},$=function(t){if(t){if(typeof t=="string")return t;if(e.selectedItemTemplate){var n=f.getJSXElement(e.selectedItemTemplate,t);return n||t}else if(e.field){var u=f.resolveFieldData(t,e.field);return u??t}else return t}return""},Q=function(t){c.current.value=$(t)},ee=function(){P(!0)},R=function(){P(!1),C(!1)},Ee=function(){X.set("overlay",b.current,Y.autoZIndex,Y.zIndex.overlay),pe()},Se=function(){if(e.autoHighlight&&e.suggestions&&e.suggestions.length){var t=z().firstChild.firstChild;m.addClass(t,"p-highlight")}},we=function(){ge(),e.onShow&&e.onShow()},Oe=function(){Ce()},Ie=function(){X.clear(b.current),e.onHide&&e.onHide()},pe=function(){var t=e.multiple?M.current:c.current;m.alignOverlay(b.current,t,e.appendTo||Y.appendTo)},Ne=function(t){lt.emit("overlay-click",{originalEvent:t,target:p.current})},xe=function(t){e.dropdownAutoFocus&&m.focus(c.current,e.dropdownAutoFocus),e.dropdownMode==="blank"?U(t,"","dropdown"):e.dropdownMode==="current"&&U(t,c.current.value,"dropdown"),e.onDropdownClick&&e.onDropdownClick({originalEvent:t,query:c.current.value})},ke=function(t,n){var u=e.value[n],O=e.value.filter(function(T,J){return n!==J});D(t,O),e.onUnselect&&e.onUnselect({originalEvent:t,value:u})},te=function(t){if(E){var n=m.findSingle(b.current,"li.p-highlight");switch(t.which){case 40:if(n){var u=le(n);u&&(m.addClass(u,"p-highlight"),m.removeClass(n,"p-highlight"),m.scrollInView(z(),u))}else n=m.findSingle(b.current,"li"),m.hasClass(n,"p-autocomplete-item-group")&&(n=le(n)),n&&m.addClass(n,"p-highlight");t.preventDefault();break;case 38:if(n){var O=Pe(n);O&&(m.addClass(O,"p-highlight"),m.removeClass(n,"p-highlight"),m.scrollInView(z(),O))}t.preventDefault();break;case 13:n&&(ne(t,n),R(),t.preventDefault());break;case 27:R(),t.preventDefault();break;case 9:n&&ne(t,n),R();break}}if(e.multiple)switch(t.which){case 8:if(e.value&&e.value.length&&!c.current.value){var T=e.value[e.value.length-1],J=e.value.slice(0,-1);D(t,J),e.onUnselect&&e.onUnselect({originalEvent:t,value:T})}break}},ne=function(t,n){if(e.optionGroupLabel){var u=e.suggestions[n.dataset.group];H(t,ie(u)[n.dataset.index])}else H(t,e.suggestions[m.index(n)])},le=function i(t){var n=t.nextElementSibling;return n?m.hasClass(n,"p-autocomplete-item-group")?i(n):n:null},Pe=function i(t){var n=t.previousElementSibling;return n?m.hasClass(n,"p-autocomplete-item-group")?i(n):n:null},ae=function(t){h(!0),e.onFocus&&e.onFocus(t)},Re=function(t){var n=t.target.value.trim(),u=(e.suggestions||[]).find(function(O){var T=e.field?f.resolveFieldData(O,e.field):O;return T&&n===T.trim()});u?H(t,u,!0):(c.current.value="",D(t,null),e.onClear&&e.onClear(t))},re=function(t){h(!1),e.forceSelection&&Re(t),e.onBlur&&e.onBlur(t)},Me=function(t){m.focus(c.current),e.onClick&&e.onClick(t)},Ae=function(t){ae(t),m.addClass(M.current,"p-focus")},Te=function(t){re(t),m.removeClass(M.current,"p-focus")},De=function(t){return e.value?e.value.some(function(n){return f.equals(n,t)}):!1},z=function(){return B.current?b.current.firstChild:b.current},Le=function(t){return e.optionGroupLabel?f.resolveFieldData(t,e.optionGroupLabel):t},ie=function(t){return f.resolveFieldData(t,e.optionGroupChildren)};r.useEffect(function(){f.combinedRefs(c,e.inputRef)},[c,e.inputRef]),qe(function(){y||k(We()),e.autoFocus&&m.focus(c.current,e.autoFocus)}),ce(function(){S&&(f.isNotEmpty(e.suggestions)||e.showEmptyMessage?ee():R(),C(!1))},[e.suggestions]),ce(function(){c.current&&!e.multiple&&Q(e.value)}),Ze(function(){L.current&&clearTimeout(L.current),X.clear(b.current)}),r.useImperativeHandle(l,function(){return{props:e,search:U,show:ee,hide:R,getElement:function(){return p.current},getOverlay:function(){return b.current},getInput:function(){return c.current},getVirtualScroller:function(){return B.current}}});var je=function(){var t=$(e.value),n=E?y+"_list":null,u=_("p-autocomplete-input",e.inputClassName,{"p-autocomplete-dd-input":e.dropdown});return r.createElement(at,A({ref:c,id:e.inputId,type:e.type,name:e.name,defaultValue:t,role:"combobox","aria-autocomplete":"list","aria-controls":n,"aria-haspopup":"listbox","aria-expanded":E,className:u,style:e.inputStyle,autoComplete:"off",readOnly:e.readOnly,disabled:e.disabled,placeholder:e.placeholder,size:e.size,maxLength:e.maxLength,tabIndex:e.tabIndex,onBlur:re,onFocus:ae,onChange:Z,onMouseDown:e.onMouseDown,onKeyUp:e.onKeyUp,onKeyDown:te,onKeyPress:e.onKeyPress,onContextMenu:e.onContextMenu,onClick:e.onClick,onDoubleClick:e.onDblClick},ue))},Fe=function(){return f.isNotEmpty(e.value)?e.value.map(function(t,n){var u=n+"multi-item";return r.createElement("li",{key:u,className:"p-autocomplete-token p-highlight"},r.createElement("span",{className:"p-autocomplete-token-label"},$(t)),!e.disabled&&rt.getJSXIcon(e.removeIcon,{className:"p-autocomplete-token-icon",onClick:function(T){return ke(T,n)}},{props:e}))}):null},_e=function(){var t=E?y+"_list":null;return r.createElement("li",{className:"p-autocomplete-input-token"},r.createElement("input",A({ref:c,type:e.type,disabled:e.disabled,placeholder:e.placeholder,role:"combobox","aria-autocomplete":"list","aria-controls":t,"aria-haspopup":"listbox","aria-expanded":E,autoComplete:"off",readOnly:e.readOnly,tabIndex:e.tabIndex,onChange:Z,id:e.inputId,name:e.name,style:e.inputStyle,className:e.inputClassName,maxLength:e.maxLength,onKeyUp:e.onKeyUp,onKeyDown:te,onKeyPress:e.onKeyPress,onFocus:Ae,onBlur:Te},ue)))},Ge=function(){var t=_("p-autocomplete-multiple-container p-component p-inputtext",{"p-disabled":e.disabled}),n=Fe(),u=_e();return r.createElement("ul",{ref:M,className:t,onContextMenu:e.onContextMenu,onMouseDown:e.onMouseDown,onClick:Me,onDoubleClick:e.onDblClick},n,u)},Ke=function(){if(e.dropdown){var t=e.dropdownAriaLabel||e.placeholder||de("choose");return r.createElement(tt,{type:"button",icon:e.dropdownIcon,className:"p-autocomplete-dropdown",disabled:e.disabled,onClick:xe,"aria-label":t})}return null},Ue=function(){return S?r.createElement("i",{className:"p-autocomplete-loader pi pi-spinner pi-spin"}):null},He=function(){return e.multiple?Ge():je()},Ve=y+"_list",Be=f.isNotEmpty(e.tooltip),oe=f.findDiffKeys(e,V.defaultProps),ue=f.reduceKeys(oe,m.ARIA_PROPS),$e=_("p-autocomplete p-component p-inputwrapper",{"p-autocomplete-dd":e.dropdown,"p-autocomplete-multiple":e.multiple,"p-inputwrapper-filled":e.value,"p-inputwrapper-focus":w},e.className),ze=Ue(),Je=He(),Xe=Ke();return r.createElement(r.Fragment,null,r.createElement("span",A({ref:p,id:y,style:e.style,className:$e},oe),Je,ze,Xe,r.createElement(ye,A({ref:b,virtualScrollerRef:B},e,{listId:Ve,onItemClick:H,selectedItem:K,onClick:Ne,getOptionGroupLabel:Le,getOptionGroupChildren:ie,in:E,onEnter:Ee,onEntering:Se,onEntered:we,onExit:Oe,onExited:Ie}))),Be&&r.createElement(Qe,A({target:p,content:e.tooltip},e.tooltipOptions)))}));V.displayName="AutoComplete";V.defaultProps={__TYPE:"AutoComplete",id:null,appendTo:null,autoFocus:!1,autoHighlight:!1,className:null,completeMethod:null,delay:300,disabled:!1,dropdown:!1,dropdownAriaLabel:null,dropdownAutoFocus:!0,dropdownIcon:"pi pi-chevron-down",dropdownMode:"blank",emptyMessage:null,field:null,forceSelection:!1,inputClassName:null,inputId:null,inputRef:null,inputStyle:null,itemTemplate:null,maxLength:null,minLength:1,multiple:!1,name:null,onBlur:null,onChange:null,onClear:null,onClick:null,onContextMenu:null,onDblClick:null,onDropdownClick:null,onFocus:null,onHide:null,onKeyPress:null,onKeyUp:null,onMouseDown:null,onSelect:null,onShow:null,onUnselect:null,optionGroupChildren:null,optionGroupLabel:null,optionGroupTemplate:null,panelClassName:null,panelStyle:null,placeholder:null,readOnly:!1,removeIcon:"pi pi-times-circle",scrollHeight:"200px",selectedItemTemplate:null,selectionLimit:null,showEmptyMessage:!1,size:null,style:null,suggestions:null,tabIndex:null,tooltip:null,tooltipOptions:null,transitionOptions:null,type:"text",value:null,virtualScrollerOptions:null};const pt=e=>{const{hideLabel:l,hideErrorRow:a,label:o,validation:y,labelClassNames:k,errorClassNames:x,disabled:I,isDisabledByAcl:S,showPanel:C,showEmptyMessage:s,emptyMessage:v,reportFormDirty:w,...h}=e,{placeholder:d,className:g,value:E,style:P,name:p,onChange:b}=h,c=r.useRef();return r.useEffect(()=>{var M;C===!0&&((M=c==null?void 0:c.current)==null||M.showOverlay())},[e]),N.jsxs("div",{className:"w-full group grid",children:[!l&&N.jsx(it,{label:o,labelClassNames:k}),N.jsx(V,{appendTo:"self",...h,className:"w-full",inputClassName:`${g} ${S?"!bg-secondary-disabledBGColor border-primary-gray-300 placeholder-secondary-gray-500 !border-primary-gray-300":" "} `,value:E,style:P,onChange:b,name:p,placeholder:d,ref:c,disabled:I||S,showEmptyMessage:s,emptyMessage:v}),!a&&N.jsx(ot,{validation:y,hideErrorRow:a,errorClassNames:x})]})},Nt=dt(pt),xt=e=>{const a=(()=>{const P={...st,overrideStyle:e.styleObj,overrideClasses:e.className,isDisabled:e.disabled,isInvalid:!!e.validation,removeStyleProperty:[],removeClasses:[]},p=me(P,e.variant),b={primaryStyle:mt,overrideStyle:e.panelStyleObj,removeStyleProperty:[],removeClasses:[]},c=me(b,e.variant);return[p,c]})(),o=a[0],y=a[1],{value:k,onChange:x,name:I,placeholder:S,label:C,validation:s,onSelect:v,showPanel:w,loader:h,hideLabel:d,emptyMessage:g,showEmptyMessage:E}=e;return N.jsxs("div",{className:"relative w-full",children:[N.jsx(Nt,{...e,className:o,value:k,onChange:x,name:I,placeholder:S,label:C,validation:s,panelClassName:y,onSelect:v,showPanel:w,labelClassNames:e.labelClassNames?e.labelClassNames:" mb-1 ",emptyMessage:g,showEmptyMessage:E}),h?N.jsx("div",{className:"absolute w-4 h-4 right-3 top-1/2 transform -translate-y-1/2 flex justify-center items-center pointer-events-none cursor-pointer",children:N.jsx("img",{src:ct,className:"animate-spin"})}):N.jsx(N.Fragment,{}),N.jsx("div",{className:d?"absolute top-1.5 left-2":"absolute top-7 left-2",children:N.jsx("img",{src:ft,alt:"search-icon",className:"max-w-fit h-2.5 w-2.5"})})]})},At=ut.memo(xt);export{At as A};
//# sourceMappingURL=AutoComplete-0bca608a.js.map
