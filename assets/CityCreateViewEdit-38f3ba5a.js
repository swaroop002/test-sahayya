import{w as W,r as c,aF as i,y as g,v as F,aP as T,j as a,J as o,o as l,cC as I}from"./index-e8217573.js";import{B as d}from"./ButtonBox-9e46519a.js";import{I as v}from"./InputBox-b9e88f52.js";import{I as A}from"./InputTextArea-b90aad1d.js";import{P as M}from"./PageTitle-b3bba3d4.js";import{C as G}from"./City-7102c574.js";import"./kebab-menu-8835ad2e.js";import"./withAuth-6de36ebf.js";const q=m=>{const[b,x]=c.useState({city:"",state:"",country:"",description:"",alternative_name:"",reason:"",isActive:""}),[J,f]=c.useState({city:"",state:"",country:"",description:"",alternative_name:"",reason:"",isActive:""}),[n,E]=c.useState(i.CREATE),[K,O]=c.useState("");c.useRef(null),c.useEffect(()=>{let e=g.parse(m.location.search);e!=null&&e.mode&&(e==null?void 0:e.mode)!==void 0&&E(e.mode)},[]);const s=e=>{const{name:t,value:r}=e.target;x(u=>({...u,[t]:r}))};c.useEffect(()=>{let e=g.parse(m.location.search);e!=null&&e.mode&&(e==null?void 0:e.mode)!==void 0&&E(e.mode),e!=null&&e.uid&&(e==null?void 0:e.uid)!==void 0&&(O(e.uid),G.findById(e.uid).then(t=>{var r,u,C,h,j,y,p,N;F(t)&&(console.log(t),(Object.keys(t.data).length>0||t.data.id)&&(x({city:((r=t==null?void 0:t.data)==null?void 0:r.name)||"",state:((C=(u=t==null?void 0:t.data)==null?void 0:u.state)==null?void 0:C.name)||"",country:((j=(h=t==null?void 0:t.data)==null?void 0:h.state)==null?void 0:j.country)||"",alternative_name:((y=t==null?void 0:t.data)==null?void 0:y.alternateNames)||"",description:((p=t==null?void 0:t.data)==null?void 0:p.description)||"",reason:(t==null?void 0:t.data.reason)||" ",isActive:(N=t==null?void 0:t.data)!=null&&N.isActive?T.ACTIVE:T.INACTIVE}),f({...t==null?void 0:t.data})))}).catch(t=>{}))},[]);const S=()=>{},_=()=>{m.navigate(I)},R=()=>{},P=()=>{m.navigate(I)},V=()=>{E(i.EDIT)},k=()=>{switch(n){case i.CREATE:return"heading.city.create";case i.VIEW:return"heading.city.view";case i.EDIT:return"heading.city.edit";default:return"heading.city.create"}},{city:D,state:Y,country:w,description:B,alternative_name:L,reason:U,isActive:$}=b;return a.jsxs("div",{className:"h-full mx-6",children:[a.jsxs("div",{className:"flex w-full justify-between pt-6 items-center",children:[a.jsx("div",{className:" h-7.5",children:a.jsx(M,{title:k()})}),a.jsx("div",{className:"flex mr-5",children:n===i.CREATE||n===i.EDIT?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mr-5",children:a.jsx(d,{className:"reset-red",buttonType:o.CANCEL_OUTLINE,onClick:_})}),a.jsx("div",{className:"mr-10",children:a.jsx(d,{buttonType:o.SAVE_OUTLINE,onClick:S})}),a.jsx("div",{children:a.jsx(d,{className:"approve-primary",buttonType:o.SEND_FOR_APPROVAL,onClick:R})})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mr-5",children:a.jsx(d,{buttonType:o.BACK_OUTLINE,onClick:P})}),a.jsx("div",{className:"",children:a.jsx(d,{buttonType:o.EDIT_OUTLINE,className:"blue-primary",onClick:V})})]})})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[a.jsx("div",{className:"col-span-1",children:a.jsx(v,{label:"input.city.city",name:"state",variant:l.SECONDARY,onChange:s,value:D,disabled:n===i.VIEW})}),a.jsx("div",{className:"col-span-1",children:a.jsx(v,{label:"input.city.state",name:"state",variant:l.SECONDARY,onChange:s,value:Y,disabled:n===i.VIEW})}),a.jsx("div",{className:"col-span-1",children:a.jsx(v,{label:"input.city.alternative_name",name:"country",variant:l.SECONDARY,onChange:s,value:L,disabled:n===i.VIEW})}),a.jsx("div",{className:"col-span-1",children:a.jsx(v,{label:"input.city.country",name:"country",variant:l.SECONDARY,onChange:s,value:w,disabled:n===i.VIEW})})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[a.jsx("div",{className:"col-span-2",children:a.jsx(A,{label:"input.city.description",name:"description",variant:l.SECONDARY,maxCount:200,onChange:s,value:B,disabled:n===i.VIEW})}),a.jsx("div",{className:"col-span-2",children:a.jsx(A,{label:"input.city.reason",name:"reason",variant:l.SECONDARY,maxCount:200,onChange:s,value:U,disabled:n===i.VIEW})})]})]})},ia=W(q);export{ia as default};
//# sourceMappingURL=CityCreateViewEdit-38f3ba5a.js.map
