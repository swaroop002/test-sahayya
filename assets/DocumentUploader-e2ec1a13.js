var Ot=Object.defineProperty;var Nt=(A,N,m)=>N in A?Ot(A,N,{enumerable:!0,configurable:!0,writable:!0,value:m}):A[N]=m;var Ce=(A,N,m)=>(Nt(A,typeof N!="symbol"?N+"":N,m),m);import{at as _e,r as u,ad as Ue,ae as Ae,af as ye,dc as X,v as De,ao as z,j as l,T as I,aw as Ct,R as Ut,o as ge,c8 as At}from"./index-e8217573.js";import{L as yt}from"./loader-5f2cfb31.js";import{A as Dt}from"./AutoComplete-0bca608a.js";import"./ButtonBox-9e46519a.js";import{D as gt}from"./DatePicker-b1c13861.js";import{E as ht}from"./ErrorDialog-d5eef4d7.js";import{F as Y}from"./FileUploadCustom-5ab7fd25.js";import{M as Mt}from"./FileUploadMenuBox-f47dc693.js";import{I as bt,B as Rt}from"./IconButton-36693dd9.js";import{I as _t}from"./InputBox-b9e88f52.js";import{S as It}from"./SimpleDropDown-061a3470.js";import{D as vt}from"./DocumentService-a293b5f4.js";import{S as xt}from"./StaticMasterDataService-689a6eca.js";const Lt="/custom/api/document/category/search";class Pt extends _e{constructor(){super(...arguments);Ce(this,"getDocumentCategory",(m=0,E=10,x)=>{const L=`${Lt}?isActive=true&start=${m}&limit=${E}&category.code=${x}`;return this.makeGetRequestWithAuth(L)})}}const Ft=new Pt,wt="/custom/api";class jt extends _e{populateUsingOcr(N,m){const E=`${wt}/${m}/loan/document/ocr`;return this.makePostRequestWithAuth(E,N)}}const Yt=new jt,he={mode:"VIEW"},O={VIEW:"VIEW",EDIT:"EDIT"},Me={MASKEDNO:"maskedNo",DOB:"dob"},G={DATE:"date",TEXT:"text",NUMBER:"number",SEARCH:"search"},v={DOCUMENT_CATEGORY_ADDRESS_PROOF:"ADDRESS PROOF",DOCUMENT_CATEGORY_BUSINESS_PROOF:"BUSINESS PROOF",DOCUMENT_CATEGORY_DOB_PROOF:"DOB PROOF",DOCUMENT_CATEGORY_BANK_ACCOUNT_DOCUMENT:"BANK STATEMENT",DOCUMENT_CATEGORY_INVESTMENT_PROOF:"INVESTMENT PROOF",DOCUMENT_CATEGORY_CATEGORY_PROOF:"CATEGORY PROOF",DOCUMENT_CATEGORY_FEE_RECEIPT:"FEE RECEIPT",DOCUMENT_CATEGORY_EXCHANGE_DOCUMENTS:"EXCHANGE DOCUMENTS",DOCUMENT_CATEGORY_COLLATERAL_PROPERTY:"COLLATERAL PROPERTY",DOCUMENT_CATEGORY_LEGAL_DOCUMENT:"LEGAL DOCUMENT",DOCUMENT_CATEGORY_RCU_DOCUMENT:"RCU DOCUMENT",DOCUMENT_CATEGORY_RCU_ADDITIONAL_DOCUMENTS:"RCU ADDITIONAL DOCUMENTS",DOCUMENT_CATEGORY_TECHNICAL_DOCUMENT:"TECHNICAL DOCUMENT",DOCUMENT_CATEGORY_PROPERTY_PICTURES:"PROPERTY PICTURE",DOCUMENT_CATEGORY_OTHER_DOCUMENTS:"OTHER DOCUMENTS",DOCUMENT_CATEGORY_EMPLOYMENT_RETAILS_RECORDING:"EMPLOYMENT RETAILS RECORDING",DOCUMENT_CATEGORY_SALARIED_SALARY_PROOF:"SALARY PROOF",DOCUMENT_CATEGORY_CREDIT_DOCUMENTS:"CREDIT DOCUMENTS",DOCUMENT_CATEGORY_BANK_STATEMENTS_ANALYSIS:"BANK STATEMENTS ANALYSIS",DOCUMENT_CATEGORY_REAPPEAL_DOCUMENTS:"REAPPEAL DOCUMENTS"},be={documentUid:"",documentName:"",documentCode:"",documentCategory:"",documentSectionUrls:[],isActive:!0},Gt={uid:"",fileName:"",url:"",thumbUrl:"",signedUrl:"",contentType:"",name:"",code:"",isActive:!0},Re={showPopulateOcr:!1,enableOcr:!1},to={uid:"",attributes:{},dob:new Date,docCategory:"",docFor:null,docNo:"",docType:{},documentSections:[{uid:"",fileName:"",fileType:"",isActive:!1,section:"",sectionName:"",thumbUrl:"",url:""}],loanSectionKey:"",maskedDocNo:"",isActive:!1},Q={uid:"",maskedDocNo:"",docNo:"",dob:"",meta:{},attributes:{},documentSections:[]},oo={listKey:Math.random().toString(36).substring(2),uid:"",attributes:{},dob:new Date,docCategory:"",docFor:null,docNo:"",docType:{},documentSections:[],loanSectionKey:"",maskedDocNo:"",isActive:!1},so=u.forwardRef((A,N)=>{var Te;const{mode:m,queryParamForDocList:E,docUploadTypeTitle:x,mandatoryDocUpload:L,savedDocument:r,ocrSubstageName:Z,ocrStageName:ee,ocrPayloadData:C,accessKebab:Ie,docUploaderIndex:te,onRemoveFromList:oe}=A,ve=[{className:`${m===O.VIEW?"cursor-not-allowed":""}`,label:"Remove",command:()=>{oe&&te!==void 0&&oe(i,te)},disabled:m===O.VIEW}],[U,b]=u.useState({documentTypeList:[],selectedDocType:""}),[y,se]=u.useState([]),[$,ne]=u.useState([]),[ae,re]=u.useState([]),[i,S]=u.useState({...be,documentCategory:E}),[R,ie]=u.useState(!1),[ce,V]=u.useState([]),[xe,B]=u.useState([]),[D,K]=u.useState(!1),[Le,Pe]=u.useState([]),[le,_]=u.useState([]),[Fe,we]=u.useState([{name:"",uid:"",code:""}]),[je,M]=u.useState(Re),[Ye,W]=u.useState(!1),[P,k]=u.useState({success:!1,failed:!1}),[H,q]=u.useState(Q),[,F]=u.useState(void 0),T=u.useRef(new Ue({validators:{...Ae()},...ye(),autoForceUpdate:{forceUpdate:()=>F(t=>!t)}})),[J,w]=u.useState(""),[Ge,de]=u.useState(!1),p=u.useRef([]);u.useEffect(()=>{Je()},[]),u.useEffect(()=>{J&&de(!0)},[J]),u.useEffect(()=>{var t;if(r!=null&&r.uid&&U.documentTypeList.length&&!U.selectedDocType){b(o=>{var s;return{...o,selectedDocType:(s=r.docType)==null?void 0:s.code}});const e=U.documentTypeList.find(o=>{var s;return o.value===((s=r.docType)==null?void 0:s.code)});e&&pe(e)}(t=r==null?void 0:r.documentSections)!=null&&t.length&&y.length&&!i.documentSectionUrls.length&&!R&&$e()},[r,U,y]),u.useEffect(()=>{if(P&&(P.failed||P.success)&&W(!1),H.uid){const t=[],e=new Map;for(const s of i.documentSectionUrls)e.set(s.code,s);H.documentSections.forEach((s,c)=>{const n=e.get(s.sectionName);t.push({...n,uid:s.uid})}),S(s=>({...s,documentSectionUrls:[...t]}));const o=$.find(s=>s.docCode===U.selectedDocType);if(o){for(const s of o.attributes)s.isPrimaryAttribute&&S(c=>({...c,[`${s.name}`]:H.docNo}));return}}if(y.length){const t=y.some(e=>e.isOcrActive===!0);M(t?e=>({...e,showPopulateOcr:!0}):e=>({...e,showPopulateOcr:!1}))}},[y.length,P]),u.useEffect(()=>{D&&dt()},[i.documentSectionUrls]),u.useImperativeHandle(N,()=>({getUploadedData:tt,resetValidator:ue,resetDocUpload:ct}));const $e=u.useCallback(()=>{const t=[];if(r!=null&&r.documentSections)for(const e of r.documentSections){const o=y.find(s=>{s.code,e.section});o!=null&&o.isOcrActive&&M(s=>({...s,enableOcr:!0})),t.push({[`${e.sectionName}`]:e.url,uid:e.uid,fileName:e.fileName,url:e.url,thumbUrl:e.thumbUrl,contentType:e.fileType,code:e.section,name:e.sectionName,meta:e!=null&&e.meta?JSON.parse(e==null?void 0:e.meta):"",isActive:e.isActive,isOcrActive:(o==null?void 0:o.isOcrActive)??!1})}S(e=>({...e,uid:r==null?void 0:r.uid,documentSectionUrls:[...t],...r==null?void 0:r.attributes}))},[r,D]),Ve=()=>{const t=()=>{var e;return r?(e=r==null?void 0:r.documentSections)==null?void 0:e.map((s,c)=>({uid:s.uid,fileName:s.fileName,url:s.url,thumbUrl:s.thumbUrl,contentType:s.fileType,code:s.section,name:s.sectionName,isActive:!1})):[]};r&&(!ce.length&&!D?V(e=>[...e,...t()]):!le.length&&D&&_(e=>[...e,...t()]),ie(!0))},Be=t=>{b(o=>({...o,selectedDocType:t.value}));const e=U.documentTypeList.find(o=>o.value===t.value);e&&pe(e),r!=null&&r.uid&&Ve(),ue()},Ke=t=>{S(e=>({...e,[t.target.name]:t.target.value.toUpperCase()}))},We=t=>{const{value:e}=t.target;S(o=>({...o,[t.target.name]:e}))},ke=t=>{var n,a;const{name:e,value:o}=t.target;let s="",c="";typeof o=="object"?(o.name&&(s=o.name),o.code&&(c=(a=o==null?void 0:o.code)==null?void 0:a.replace(`${(n=o==null?void 0:o.staticMasterType)==null?void 0:n.code}_`,"")),S(d=>({...d,[e]:{name:s,uid:o.uid,code:c}}))):S(d=>({...d,[e]:{name:o,uid:"",code:""}}))},He=async()=>{if(!me()&&(W(!0),ee)){const t=`${ee}${Z?`/${Z}`:""}`,e=st({...i,uid:r!=null&&r.uid?r==null?void 0:r.uid:i.uid?i.uid:null});try{const o=await Yt.populateUsingOcr(e,t);if(Ct(o)){const{data:s}=o,c=a=>a.map(d=>({sectionName:d.section,uid:d.uid})),n={uid:s.uid,docNo:s.docNo,dob:s.dob,meta:JSON.parse(s.meta)??{},maskedDocNo:s.maskedDocNo,attributes:JSON.parse(s.attributes)??{},documentSections:c(s.documentSections)};q({...n}),k(a=>({...a,success:!0,failed:!1}))}}catch(o){k(s=>({...s,success:!1,failed:!0})),w(z(o))}}},j=t=>{var e,o;(o=T==null?void 0:T.current)==null||o.showMessageFor((e=t==null?void 0:t.target)==null?void 0:e.name)},qe=()=>{var e,o;let t=!1;return t=((e=T==null?void 0:T.current)==null?void 0:e.allValid())??!1,t||(F(s=>!s),(o=T==null?void 0:T.current)==null||o.showMessages(),F(s=>!s),!1)},ue=()=>{var e,o,s;T.current=new Ue({validators:{...Ae()},...ye(),autoForceUpdate:{forceUpdate:()=>F(c=>!c)}});let t=0;for(t;t<((e=p==null?void 0:p.current)==null?void 0:e.length);t++)(o=p==null?void 0:p.current)!=null&&o[t]&&((s=p==null?void 0:p.current)==null||s[t].resetErrorStates())},me=()=>{var s,c,n,a;let t=0;const e=[],o=[];for(t;t<((s=p==null?void 0:p.current)==null?void 0:s.length);t++)(c=p==null?void 0:p.current)!=null&&c[t]&&(e.push((n=p==null?void 0:p.current)==null?void 0:n[t].isUrlAvailable()),D&&o.push((a=p==null?void 0:p.current)==null?void 0:a[t].isSectionNameAvailable()));return D?e.some(d=>!d)||o.some(d=>!d):e.some(d=>!d)},Je=async()=>{Xe()},Xe=async()=>{ze()},pe=async t=>{var e;if(t&&t.uid){const o=await Qe(t.uid),s=[],c=[];(e=o==null?void 0:o.documentSections)==null||e.forEach(n=>{var a,d,f;n.isActive&&(((a=n.section)==null?void 0:a.code)===X.DOCUMENT_SECTIONS_FRONT_PAGE?s.unshift({...n.section,isOcrActive:n.isOcrActive,documentSectionUid:n.uid}):s.push({...n.section,isOcrActive:n.isOcrActive,documentSectionUid:n.uid}),c.push({label:(d=n.section)==null?void 0:d.name,value:(f=n.section)==null?void 0:f.code}))}),t.isMultiFileAllowedPerSection?(S({uid:null,documentCategory:E,documentUid:t.uid,documentName:t.label,documentCode:t.value,documentSectionUrls:[],isActive:t.isActive}),K(!0)):(S({uid:null,documentCategory:E,documentUid:t.uid,documentName:t.label,documentCode:t.value,documentSectionUrls:[],isActive:t.isActive}),K(!1)),se([...s]),re([...c]),q(Q)}},ze=async()=>{var t;try{const e=await Ft.getDocumentCategory(0,50,`${E}`);if(De(e)&&((t=e.data)!=null&&t.totalRecords)){const{results:o}=e.data,s=[];let c=[];const n=a=>{for(const d of a)if(d.isPrimaryAttribute)return d.name;return""};o.forEach(a=>{var d,f,h,g,Ee,Se,fe,Oe,Ne;s.push({uid:((d=a.documentType)==null?void 0:d.uid)??"",label:((f=a.documentType)==null?void 0:f.name)??"",value:((h=a.documentType)==null?void 0:h.code)??"",isActive:((g=a.documentType)==null?void 0:g.isActive)??!1,hasDocumentNumber:((Ee=a.documentType)==null?void 0:Ee.hasDocumentNumber)??void 0,isMultiFileAllowedPerSection:((Se=a.documentType)==null?void 0:Se.isMultiFileAllowedPerSection)??void 0}),c.push({docCode:(fe=a.documentType)==null?void 0:fe.code,attributes:(Oe=a.documentType)!=null&&Oe.attributeConfig?JSON.parse((Ne=a.documentType)==null?void 0:Ne.attributeConfig):[],primaryKey:""})}),c=c.map(a=>({...a,primaryKey:n(a.attributes)})),s.length?b({documentTypeList:[...s],selectedDocType:""}):b({documentTypeList:[],selectedDocType:""}),c.length?ne([...c]):ne([])}}catch(e){w(z(e))}},Qe=async t=>{try{const e=await vt.getDocument(t);if(De(e))return e.data}catch(e){w(z(e))}},Ze=(t,e)=>{S(o=>({...o,documentSectionUrls:[...o.documentSectionUrls,{[`${e.name}`]:t.url,...t,code:e.code,name:e.name,isActive:!0,isOcrActive:e.isOcrActive,uid:null}]})),e.isOcrActive&&M(o=>({...o,enableOcr:!0}))},et=(t,e)=>{const o=i.documentSectionUrls;o.forEach((s,c)=>{s.code===e.code&&(o[c]={...o[c],signedUrl:t})}),S(s=>({...s,documentSectionUrls:[...o]}))},tt=()=>{let t={...i};const e=a=>{for(const d of $)if(d.docCode===a)return d.primaryKey},o=a=>a.map(f=>{const h=xe.find(g=>g.code===f.code);if(h){const g=h.uid;return{...f,uid:g}}else return{...f}}),s=a=>{const d=a.documentSectionUrls.filter(f=>f.url);return a.documentSectionUrls=[...d],a},c=()=>({...i,documentSectionUrls:[...i.documentSectionUrls,...le],uid:r!=null&&r.uid?r==null?void 0:r.uid:null,primaryKeyAttributeName:e(i.documentCode)}),n=me();if(!(!qe()||n))return r!=null&&r.uid&&R?D?(t={...c()},t={...s(t)},_([]),t):(t={...i,documentSectionUrls:[...i.documentSectionUrls,...ce],uid:r.uid?r.uid:null,primaryKeyAttributeName:e(i.documentCode)},t={...s(t)},V([]),t):r!=null&&r.uid&&!R?D?(t={...c()},t={...s(t)},_([]),t):(t={...i,documentSectionUrls:o(i.documentSectionUrls),uid:r!=null&&r.uid?r==null?void 0:r.uid:null,primaryKeyAttributeName:e(i.documentCode)},t={...s(t)},B([]),t):(t={...s(t),primaryKeyAttributeName:e(i.documentCode)},t)},ot=t=>{let e=!1;const o=[],s=i.documentSectionUrls.filter(n=>(n.name===t&&(e=n.isOcrActive),n.name===t&&n.uid&&!R&&(o[0]={...n},B(a=>[...a,...o])),n.name!==t));e&&!(()=>s.some(n=>n.isOcrActive))()&&M(n=>({...n,enableOcr:!1})),S({...i,documentSectionUrls:[...s]})},st=t=>{var s,c;const e=n=>n.map(d=>({section:d.code,fileName:d.fileName,fileType:d.contentType,thumbUrl:d.thumbUrl,url:d.url,meta:""})),o=n=>{const a=t.documentSectionUrls.find(d=>d.isOcrActive&&d.code===n&&d.isActive);return a==null?void 0:a.signedUrl};return{uid:t.uid,loan:{uid:C!=null&&C.loanUid?C==null?void 0:C.loanUid:""},applicant:{uid:(s=C==null?void 0:C.applicant)!=null&&s.uid?(c=C==null?void 0:C.applicant)==null?void 0:c.uid:""},docType:{uid:t.documentUid},docNo:"",documentSections:e(t.documentSectionUrls),backSignedUrl:o(X.DOCUMENT_SECTIONS_BACK_PAGE)??"",frontSignedUrl:o(X.DOCUMENT_SECTIONS_FRONT_PAGE)??""}},nt=(t,e)=>{const o=[...i.documentSectionUrls];o.push({...Gt,...t,uid:null,keyIndex:Math.random().toString(36).substring(2)}),S({...i,documentSectionUrls:[...o]})},at=(t,e)=>{const o=[...i.documentSectionUrls];o[e]={...o[e],[`${t.section.label}`]:o[e].url,code:t.section.value,name:t.section.label},S({...i,documentSectionUrls:[...o]})},rt=()=>E===At.DOCUMENT_CATEGORY_EMPLOYMENT_RETAILS_RECORDING&&(i.documentCode==="VIDEO"||i.documentCode==="AUDIO"),it=(t,e)=>{var s;const o=[...i.documentSectionUrls];(s=o[e])!=null&&s.uid&&_(c=>[...c,{...o[e],isActive:!1}]),o.splice(e,1),S({...i,documentSectionUrls:[...o]})},ct=()=>{b(t=>({...t,selectedDocType:""})),se([]),re([]),S({...be,documentCategory:E}),ie(!1),V([]),B([]),K(!1),_([]),M(Re),W(!1),k({success:!1,failed:!1}),q(Q)},lt=t=>{const e=[],o=new Map;t.forEach(s=>{o.set(s.code,s)});for(let s=0;s<y.length;s++)e.push(o.get(y[s].code));return e},dt=()=>{const t=i.documentSectionUrls.map(e=>({uid:e.uid??Math.random().toString(36).substring(2),placeOfUpload:"",name:"",fileName:e.fileName,fileType:e.contentType,download:"",category:v[`${E}`]??"",type:i.documentName,sectionName:e.name??"",url:e.url}));Pe([...t])},ut=async t=>{let e=[];await xt.getAll(0,10,`staticMasterType.code=ELECTRICITY_SERVICE_PROVIDER&isActive=true&name:lk=${t.query}`).then(o=>{o.status===200&&(e=[...o.data.results])}),e.length===0&&e.push({name:"",code:"",uid:""}),we(e)},mt=()=>l.jsx("div",{className:"pointer-events-none h-32.5",children:l.jsx(Y,{disabled:!0})}),pt=()=>l.jsx("span",{children:l.jsx("img",{className:"w-3 h-3 animate-spin",src:yt,alt:"loader"})}),Tt=()=>{const t={label:`${v[`${E}`]?v[`${E}`]:""}`,value:E},e={label:"",value:""},o=s=>{var c;if(i.documentSectionUrls.length>0){let n=[...i.documentSectionUrls];n=lt(n);const a={...n[s],sectionName:(c=n[s])==null?void 0:c.name,category:t.label,type:i.documentName};return{uid:"",placeOfUpload:"",name:"",fileName:a==null?void 0:a.fileName,fileType:a==null?void 0:a.contentType,download:"",category:a==null?void 0:a.category,type:a==null?void 0:a.type,sectionName:a==null?void 0:a.name,url:a==null?void 0:a.url}}};return l.jsx("div",{className:"flex",children:l.jsx("div",{className:"h-38 flex gap-x-6 overflow-x-auto custom-kyc-doc-scroll",children:y.map((s,c)=>l.jsx(Y,{ref:n=>{p.current[c]=n},mode:r!=null&&r.uid&&!R?he.mode:void 0,uploaderIndex:c,getUrl:n=>{Ze(n,s)},savedFileInfoFromApi:i.documentSectionUrls.find(n=>n.code===s.code),getSavedFileSignedUrl:n=>{et(n,s)},docInfoForMediaGallery:o(c),footerTitle:s.name,clearCardUploadSectionData:ot,metaCategoryDropdownOptions:[t??e],metaTypeDropdownOptions:[{uid:i.documentUid,label:i.documentName,value:i.documentCode}],metaSectionDropdownOptions:ae??[e],disableMetaCategory:!0,disableMetaType:!0,disableMetaSection:!0,disableKebab:m===O.VIEW,disabled:m===O.VIEW},`file-uploader-${i.documentCode}-${s.documentSectionUid}`))})})},Et=()=>{const t={label:`${v[`${E}`]?v[`${E}`]:""}`,value:E},e={label:"",value:""};return l.jsx("div",{className:"flex",children:l.jsxs("div",{className:"h-38 flex gap-x-6 overflow-x-auto custom-kyc-doc-scroll",children:[i.documentSectionUrls.map((o,s)=>l.jsx(Y,{ref:c=>{p.current[s]=c},mode:o.url?he.mode:void 0,uploaderIndex:s,savedFileInfoFromApi:i.documentSectionUrls[s],docInfoListForMediaGallery:Le,footerTitle:o.name,clearCardUploadSectionData:c=>{it(c,s)},metaCategoryDropdownOptions:[t??e],metaTypeDropdownOptions:[{uid:i.documentUid,label:i.documentName,value:i.documentCode}],metaSectionDropdownOptions:ae??[e],getSelectedMetaOptions:at,disableMetaCategory:!0,disableMetaType:!0,disableKebab:m===O.VIEW,disabled:m===O.VIEW},`file-uploader-${o.uid?o.uid:o.keyIndex}`)),l.jsx(Y,{isDummy:!0,getUrl:o=>{nt(o,i.documentSectionUrls.length-1)},mediaValidationRequired:rt(),disabled:m===O.VIEW})]})})},St=()=>{var s,c;const{selectedDocType:t}=U,e=$.find(n=>n.docCode===t),o=(n,a)=>"optional";return l.jsx("div",{className:"flex",children:l.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[(s=e==null?void 0:e.attributes)!=null&&s.length?(c=e==null?void 0:e.attributes)==null?void 0:c.map(n=>{var a,d,f,h,g;return l.jsx(Ut.Fragment,{children:l.jsxs("div",{className:"flex flex-col",children:[n.name!==Me.MASKEDNO&&l.jsx(I,{className:"self-start text-xs select-none",label:n.label}),n.inputType===G.TEXT||n.inputType===G.NUMBER?l.jsx(u.Fragment,{children:n.name!==Me.MASKEDNO&&l.jsx("div",{className:"w-61",children:l.jsx(_t,{name:`${n.name}`,className:"!h-6 !py-1 !px-2 focus:outline-0 !focus:border focus:border-secondary-steelBlue-300 outline-0",value:i[`${n.name}`],onChange:Ke,onBlur:j,validation:(a=T==null?void 0:T.current)==null?void 0:a.message(`${n.name}`,i[`${n.name}`],o(e.docCode)),hideLabel:!0,disabled:m===O.VIEW})})}):null,n.inputType===G.DATE&&l.jsx("div",{className:"w-61",children:l.jsx(gt,{name:"dob",value:new Date(i.dob),maxDate:new Date,variant:ge.SECONDARY,onChange:We,onBlur:j,placeholder:"DD-MM-YYYY ",validation:(d=T==null?void 0:T.current)==null?void 0:d.message("dob",i==null?void 0:i.dob,o(e.docCode)),hideLabel:!0,disabled:m===O.VIEW})}),n.inputType===G.SEARCH&&l.jsx("div",{className:"w-61",children:l.jsx(Dt,{name:`${n.name}`,field:`${n.name}`,variant:ge.PRIMARY,value:(f=i[`${n.name}`])==null?void 0:f.name,suggestions:Fe,completeMethod:ut,onChange:ke,itemTemplate:ft,onBlur:j,validation:(g=T==null?void 0:T.current)==null?void 0:g.message(`${n.name}`,(h=i[`${n.name}`])==null?void 0:h.uid,o(e.docCode)),hideLabel:!0,disabled:m===O.VIEW})})]})},`doc-attribute-${n.name}`)}):null,!1]})})},ft=t=>t.name===void 0||t.name===""?l.jsx("div",{className:"flex flex-col items-center justify-center h-39",children:l.jsx(I,{className:"text-primary-labelColor mt-2",label:"label.noDataFound"})}):l.jsx("div",{className:"flex flex-col",children:l.jsx(I,{className:"text-primary-labelColor",label:`${t.name}`})});return l.jsxs("div",{className:"doc-uploader",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("div",{className:"w-full flex items-center justify-between",children:[l.jsx("div",{className:"w-61",children:l.jsx(It,{name:"selectedDocType",options:U.documentTypeList,optionLabel:"label",optionValue:"value",onChange:Be,onBlur:L?j:void 0,validation:L?(Te=T==null?void 0:T.current)==null?void 0:Te.message("selectedDocType",U.selectedDocType,"mandatory"):void 0,value:U.selectedDocType,hideLabel:!0,disabled:m===O.VIEW})}),Ie&&l.jsx("div",{className:"self-start",children:l.jsx(Mt,{model:ve,variant:"SECONDARY"})})]}),l.jsxs("div",{className:"flex flex-col gap-2",children:[x&&l.jsx("div",{className:"font-thin text-primary-ptext-1000 text-xs",children:l.jsx(I,{label:x??"Attach Documents (PDF , JPEG or PNG)"})}),U.selectedDocType?D?Et():Tt():mt()]}),l.jsx("div",{className:"self-end",children:je.showPopulateOcr?l.jsxs(bt,{className:"select-none",buttonType:Rt.OCR,onClick:()=>{He()},tooltipOptions:{position:"top",className:"text-xs font-Roboto bg-black text-white !p-1 rounded-md ",showDelay:"1000,",hideDelay:"300"},disabled:m===O.VIEW,children:[Ye&&pt(),l.jsx(I,{className:`font-normal text-xs  ${m===O.VIEW?"text-primary-ptext-600 ":"text-primary-sapphireBlue-600 !cursor-pointer"}`,label:"label.populate.OCR"})]}):l.jsx("div",{className:"h-5"})}),l.jsx("div",{children:St()})]}),l.jsx(ht,{onHide:()=>{de(!1),w("")},visible:Ge,errorMessage:J})]})});export{so as D,O as a,Ft as b,oo as c,to as d,be as i};
//# sourceMappingURL=DocumentUploader-e2ec1a13.js.map
