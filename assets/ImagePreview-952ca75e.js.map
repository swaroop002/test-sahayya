{"version":3,"file":"ImagePreview-952ca75e.js","sources":["../../src/components/ImagePreview/ImagePreview.tsx"],"sourcesContent":["import loader from \"assets/img/fileUploadIcons/Loading.png\";\nimport React, { useEffect, useState } from \"react\";\nimport FileUploadService from \"services/FileUploadService\";\nimport { validateGetAPIResponse } from \"utils/CommonUtil\";\n\ninterface IImagePreview {\n  url: string; // pass the url of the image\n  alternateText?: string;\n  className?: string;\n  expiryTime?: number; // pass this if you want to refresh the image after a certain time\n}\n\nconst ImagePreview = (props: IImagePreview) => {\n  const { url, alternateText, className, expiryTime } = props;\n\n  const [signedUrl, setSignedUrl] = useState(\"\");\n\n  useEffect(() => {\n    getSignedURL();\n  }, [url]);\n\n  const getSignedURL = () => {\n    FileUploadService.getSignedURL(url)\n      .then((res) => {\n        if (validateGetAPIResponse(res)) {\n          //setting the download url link here\n          setSignedUrl(res.data?.SignedUrl);\n          if (expiryTime) {\n            setTimeout(() => {\n              getSignedURL();\n            }, expiryTime);\n          }\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n\n  return (\n    <React.Fragment>\n      {signedUrl ? (\n        <img src={signedUrl} alt={alternateText} className={className} />\n      ) : (\n        <div className={\"border flex justify-center items-center\" + \" \" + className}>\n          <img src={loader} alt=\"loader\" className={\"animate-spin\"} />\n        </div>\n      )}\n    </React.Fragment>\n  );\n};\n\nImagePreview.defaultProps = {\n  alternateText: \"\",\n};\n\nexport default ImagePreview;\n"],"names":["ImagePreview","props","url","alternateText","className","expiryTime","signedUrl","setSignedUrl","useState","useEffect","getSignedURL","FileUploadService","res","validateGetAPIResponse","_a","error","jsx","React","loader"],"mappings":"2JAYM,MAAAA,EAAgBC,GAAyB,CAC7C,KAAM,CAAE,IAAAC,EAAK,cAAAC,EAAe,UAAAC,EAAW,WAAAC,GAAeJ,EAEhD,CAACK,EAAWC,CAAY,EAAIC,WAAS,EAAE,EAE7CC,EAAAA,UAAU,IAAM,CACDC,GAAA,EACZ,CAACR,CAAG,CAAC,EAER,MAAMQ,EAAe,IAAM,CACzBC,EAAkB,aAAaT,CAAG,EAC/B,KAAMU,GAAQ,OACTC,EAAuBD,CAAG,IAEfL,GAAAO,EAAAF,EAAI,OAAJ,YAAAE,EAAU,SAAS,EAC5BT,GACF,WAAW,IAAM,CACFK,KACZL,CAAU,EAEjB,CACD,EACA,MAAOU,GAAU,CAChB,QAAQ,IAAIA,CAAK,CAAA,CAClB,CAAA,EAIH,OAAAC,EAAAA,IAACC,EAAM,SAAN,CACE,SAAAX,EACEU,MAAA,MAAA,CAAI,IAAKV,EAAW,IAAKH,EAAe,UAAAC,CAAsB,CAAA,EAE9DY,MAAA,MAAA,CAAI,UAAW,2CAAkDZ,EAChE,SAAAY,EAAA,IAAC,MAAI,CAAA,IAAKE,EAAQ,IAAI,SAAS,UAAW,cAAgB,CAAA,CAAA,CAC5D,CAEJ,CAAA,CAEJ,EAEAlB,EAAa,aAAe,CAC1B,cAAe,EACjB"}