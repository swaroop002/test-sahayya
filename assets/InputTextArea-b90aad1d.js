import{r as o,O as m,c as S,bM as A,bw as I,bR as O,j as f,a8 as H,aa as K,R as U,a7 as M,bS as _,ac as V}from"./index-e8217573.js";import{w as $}from"./withAuth-6de36ebf.js";function j(){return j=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var l=arguments[n];for(var s in l)Object.prototype.hasOwnProperty.call(l,s)&&(e[s]=l[s])}return e},j.apply(this,arguments)}var E=o.memo(o.forwardRef(function(e,n){var l=o.useRef(n),s=o.useRef(0),x=function(a){e.autoResize&&r(),e.onFocus&&e.onFocus(a)},g=function(a){e.autoResize&&r(),e.onBlur&&e.onBlur(a)},y=function(a){e.autoResize&&r(),e.onKeyUp&&e.onKeyUp(a)},b=function(a){e.onKeyDown&&e.onKeyDown(a),e.keyfilter&&O.onKeyPress(a,e.keyfilter,e.validateOnly)},u=function(a){e.onPaste&&e.onPaste(a),e.keyfilter&&O.onPaste(a,e.keyfilter,e.validateOnly)},v=function(a){e.autoResize&&r(),e.onInput&&e.onInput(a);var t=a.target;m.isNotEmpty(t.value)?I.addClass(t,"p-filled"):I.removeClass(t,"p-filled")},r=function(a){var t=l.current;t&&I.isVisible(t)&&(s.current||(s.current=t.scrollHeight,t.style.overflow="hidden"),(s.current!==t.scrollHeight||a)&&(t.style.height="",t.style.height=t.scrollHeight+"px",parseFloat(t.style.height)>=parseFloat(t.style.maxHeight)?(t.style.overflowY="scroll",t.style.height=t.style.maxHeight):t.style.overflow="hidden",s.current=t.scrollHeight))},d=l.current&&l.current.value,C=o.useMemo(function(){return m.isNotEmpty(e.value)||m.isNotEmpty(e.defaultValue)||m.isNotEmpty(d)},[e.value,e.defaultValue,d]);o.useEffect(function(){m.combinedRefs(l,n)},[l,n]),o.useEffect(function(){e.autoResize&&r(!0)},[e.autoResize]);var N=m.isNotEmpty(e.tooltip),R=m.findDiffKeys(e,E.defaultProps),h=S("p-inputtextarea p-inputtext p-component",{"p-disabled":e.disabled,"p-filled":C,"p-inputtextarea-resizable":e.autoResize},e.className);return o.createElement(o.Fragment,null,o.createElement("textarea",j({ref:l},R,{className:h,onFocus:x,onBlur:g,onKeyUp:y,onKeyDown:b,onInput:v,onPaste:u})),N&&o.createElement(A,j({target:l,content:e.tooltip},e.tooltipOptions)))}));E.displayName="InputTextarea";E.defaultProps={__TYPE:"InputTextarea",autoResize:!1,keyfilter:null,onBlur:null,onFocus:null,onInput:null,onKeyDown:null,onKeyUp:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1};const k=e=>{const{maxCount:n,hideLabel:l,hideMaxCount:s,disableMaxCount:x,label:g,labelClassNames:y,labelStyleObj:b,validation:u,hideErrorRow:v,disabled:r,isDisabledByAcl:d,errorClassNames:C,errorStyleObj:N,reportFormDirty:R,...h}=e,{placeholder:c,className:a,value:t,name:T,onChange:P,rows:B}=h;function F(){let i=0;return n&&t&&(i=t.toString().length),i}function z(i){if(!x&&i&&i.target&&i.target.value&&n){const w=i.target.value;w.length>n&&(i.target.value=w.substring(0,n))}P&&P(i)}const D=F();return f.jsxs("div",{className:"flex flex-col h-full",children:[!l&&f.jsx(H,{label:g,labelClassNames:y||" mb-1 ",labelStyleObj:b,isInvalid:u}),f.jsx(E,{...h,className:`${a} ${d?"!bg-secondary-disabledBGColor border-primary-gray-300 placeholder-secondary-gray-500":" "} `,value:t,onChange:z,name:T,placeholder:c,disabled:r||d,rows:B}),!s&&n?f.jsxs("div",{className:"flex justify-between",children:[f.jsx(K,{validation:u,hideErrorRow:v,errorClassNames:""}),f.jsxs("div",{className:"text-xs text-right text-secondary-gray-500",children:[D," / ",n]})]}):f.jsx(K,{validation:u,hideErrorRow:v,errorClassNames:""})]})},L=$(k),Y=e=>{const{variant:n,styleObj:l,...s}=e,{value:x,onChange:g,placeholder:y,label:b,validation:u,maxCount:v,hideMaxCount:r,disableMaxCount:d}=s,C=()=>{const h={..._,overrideStyle:l,overrideClasses:e.className,isDisabled:e.disabled,isInvalid:!!u,removeStyleProperty:[],removeClasses:[]};return V(h,n)},{t:N}=M(),R=N(y??"");return f.jsx(L,{...s,className:C(),value:x,onChange:g,placeholder:R,label:b,validation:u,maxCount:v??200,hideMaxCount:r,disableMaxCount:d})},G=U.memo(Y);export{G as I};
//# sourceMappingURL=InputTextArea-b90aad1d.js.map
