{"version":3,"file":"LazyLoader-70599949.js","sources":["../../src/components/LazyLoader/LazyLoader.tsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\";\n\nconst LazyLoader = (props: any) => {\n  const { children, onLazyLoad } = props;\n\n  const targetRef = useRef<HTMLDivElement | null>(null);\n  const [visible, setVisible] = useState<any>(false);\n  const [hasLoaded, setHasLoaded] = useState(false); // Added state to track if content has been loaded\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      ([entry]) => {\n        if (entry.isIntersecting) {\n          setVisible(true);\n          observer.disconnect(); // Disconnect the observer after it's triggered once\n        }\n      },\n      { threshold: 0.25 } // Adjust the threshold as needed\n    );\n\n    if (targetRef.current) {\n      observer.observe(targetRef.current);\n    }\n\n    return () => {\n      if (targetRef.current) {\n        observer.unobserve(targetRef.current);\n      }\n    };\n  }, []);\n\n  useEffect(() => {\n    if (visible && !hasLoaded) {\n      if (Array.isArray(onLazyLoad)) {\n        // If onLazyLoad is an array, call each function\n        onLazyLoad.forEach((func) => func());\n      } else if (typeof onLazyLoad === \"function\") {\n        // If onLazyLoad is a single function, call it\n        onLazyLoad();\n      }\n      setHasLoaded(true); // Mark the content as loaded to prevent further calls\n    }\n  }, [visible, onLazyLoad, hasLoaded]);\n  return <div ref={targetRef}>{visible ? children : null}</div>;\n};\n\nexport default LazyLoader;\n"],"names":["LazyLoader","props","children","onLazyLoad","targetRef","useRef","visible","setVisible","useState","hasLoaded","setHasLoaded","useEffect","observer","entry","func"],"mappings":"+CAEM,MAAAA,EAAcC,GAAe,CAC3B,KAAA,CAAE,SAAAC,EAAU,WAAAC,CAAe,EAAAF,EAE3BG,EAAYC,SAA8B,IAAI,EAC9C,CAACC,EAASC,CAAU,EAAIC,WAAc,EAAK,EAC3C,CAACC,EAAWC,CAAY,EAAIF,WAAS,EAAK,EAEhDG,OAAAA,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAW,IAAI,qBACnB,CAAC,CAACC,CAAK,IAAM,CACPA,EAAM,iBACRN,EAAW,EAAI,EACfK,EAAS,WAAW,EAExB,EACA,CAAE,UAAW,GAAK,CAAA,EAGpB,OAAIR,EAAU,SACHQ,EAAA,QAAQR,EAAU,OAAO,EAG7B,IAAM,CACPA,EAAU,SACHQ,EAAA,UAAUR,EAAU,OAAO,CACtC,CAEJ,EAAG,CAAE,CAAA,EAELO,EAAAA,UAAU,IAAM,CACVL,GAAW,CAACG,IACV,MAAM,QAAQN,CAAU,EAE1BA,EAAW,QAASW,GAASA,EAAM,CAAA,EAC1B,OAAOX,GAAe,YAEpBA,IAEbO,EAAa,EAAI,EAElB,EAAA,CAACJ,EAASH,EAAYM,CAAS,CAAC,QAC3B,MAAI,CAAA,IAAKL,EAAY,SAAAE,EAAUJ,EAAW,IAAK,CAAA,CACzD"}