import{g,j as s,E as y,r as l,T as i}from"./index-e8217573.js";import{u as j,G as b,M as h}from"./esm-70d64670.js";const M="/assets/map-selected-marker-cf73cf95.svg";function E(o){const{addressList:c}=o,t=g(y.VITE_GOOGL_MAP_KEY),{isLoaded:n}=j({googleMapsApiKey:t,libraries:["places"]});return n?s.jsx(L,{addressList:c}):s.jsx("div",{children:"Loading..."})}function L(o){const c=o.addressList,t=l.useRef(null),[n,d]=l.useState(null),[p,x]=l.useState(!1),a=l.useMemo(()=>c.map(e=>({...e,icon:n===e.id?M:void 0})),[n]),u=l.useMemo(()=>({lat:a.reduce((e,r)=>e+r.lat,0)/a.length,lng:a.reduce((e,r)=>e+r.lng,0)/a.length}),[a]);l.useEffect(()=>{if(p&&t.current){const e=new window.google.maps.LatLngBounds;a.forEach(r=>{e.extend(r)}),t.current.fitBounds(e)}},[p,a]);const m=e=>{d(e)},f=e=>{e.lat===0||e.lng,d(e.id)};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"flex flex-wrap  gap-1.5",children:[s.jsx("div",{className:" map-locations-list-container max-w-106 w-full flex flex-col gap-1.5",children:a.map(e=>s.jsx("div",{className:`flex border border-primary-gray-500 rounded-lg px-6 py-3 address-item ${n===e.id?"selected border-primary-sapphireBlue-1000":""}`,onClick:()=>f(e),children:s.jsxs("div",{className:"flex-1 flex flex-col gap-1.5",children:[s.jsxs("div",{className:"flex gap-3 pb-1",children:[s.jsx(i,{className:"text-sm font-medium text-primary-gray-40",label:e.fullName}),s.jsx(i,{className:"px-3 py-0.5 text-xxs text-primary-gray-40 rounded-md bg-primary-gray-10",label:e.applicantType})]}),s.jsx(i,{className:"text-xs text-primary-gray-30 w-full block",label:e.addressType}),s.jsx(i,{className:"text-xs text-primary-gray-20 w-full block",label:e.address})]})},e.id))}),s.jsx("div",{className:"flex-1 bg-slate-400",children:s.jsx(b,{mapContainerClassName:"map-container-pointer",center:u,zoom:10,onLoad:e=>{t.current=e,x(!0)},children:a.filter(e=>e.lat!==0||e.lng!==0).map(e=>s.jsx(h,{position:{lat:e.lat,lng:e.lng},onClick:()=>m(e.id),icon:e.icon},e.id))})})]})})}export{E as L};
//# sourceMappingURL=Locations-59f2a583.js.map
