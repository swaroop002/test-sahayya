{"version":3,"file":"Login-6e9a8ada.js","sources":["../../src/services/transaction/DDE/DDELoginService.ts","../../src/views/transaction/PageDDE/Login/Login.tsx"],"sourcesContent":["import BaseApiService from \"../../BaseApiService\";\n\nconst DEFAULT_PATH = \"/custom/api/login/dde\";\n\nclass DDELoginService extends BaseApiService {\n  completeStage = (loanUid: string) => {\n    const endPoint = DEFAULT_PATH + `/complete/${loanUid}`;\n    return this.makePutRequestWithAuth(endPoint);\n  };\n}\n\nexport default new DDELoginService();\n","import { updateLoanDetail } from \"actions/LoanDetailActions\";\nimport AclGuard from \"components/AclGuard\";\nimport ButtonBox from \"components/ButtonBox\";\nimport ErrorDialog from \"components/ErrorDialog\";\nimport Loader from \"components/Loader\";\nimport SimpleOverlayPanel from \"components/SimpleOverlayPanel\";\nimport Text from \"components/Text\";\nimport TextButton from \"components/TextButton\";\nimport ToastCustom from \"components/Toast\";\nimport { ToastPositionType } from \"primereact/toast\";\nimport React, { Suspense, useEffect, useRef, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { NavLink, Outlet, Route, Routes, useParams } from \"react-router-dom\";\nimport { linkAuthRoute, linkBasePath } from \"routes\";\nimport DDELoginService from \"services/transaction/DDE/DDELoginService\";\nimport LoanService from \"services/transaction/LoanService\";\nimport { formatDate, getLocalStorage, parseStandardAPIErrorMessage } from \"utils/CommonUtil\";\nimport {\n  BUTTON_TYPE,\n  LOAN_STAGE_STATUS,\n  LOCAL_STORAGE,\n  STATIC_MASTER_TYPE_TOAST_TEXT,\n  TOAST_STYLE_TYPE,\n} from \"utils/Constant\";\n\nimport chatIcon from \"assets/chatSvg/chatIcon.svg\";\nimport MainMessageBody from \"components/ChatComponents/MainMessageBody\";\nimport DialogBox from \"components/Dialog/Dialog\";\nimport ACLService from \"services/ACLService\";\nimport ChatServices from \"services/ChatServices\";\nimport {\n  LINK_DDE_APPLICANT,\n  LINK_DDE_COLLATERAL_PROPERTY,\n  LINK_DDE_CORPORATE_CO_APPLICANT,\n  LINK_DDE_CORPORATE_GUARANTORS,\n  LINK_DDE_CO_APPLICANT,\n  LINK_DDE_DEPENDENTS,\n  LINK_DDE_DETAIL,\n  LINK_DDE_DOCUMENTS,\n  LINK_DDE_FEES,\n  LINK_DDE_GUARANTORS,\n  LINK_DDE_LOGIN,\n  LINK_DDE_STAGE_AND_STATUS,\n  LINK_LOAN_DETAIL,\n  LINK_LOAN_LIST,\n  ddeLoginRoutes,\n} from \"../../../../transactionRoutes\";\nconst DDE_MENUS = [\n  {\n    id: 9,\n    name: \"Details\",\n    path: LINK_DDE_DETAIL,\n  },\n\n  {\n    id: 1,\n    name: \"Applicant\",\n    path: LINK_DDE_APPLICANT,\n  },\n  {\n    id: 2,\n    name: \"Co-Applicants\",\n    path: LINK_DDE_CO_APPLICANT,\n  },\n  {\n    id: 2.1,\n    name: \"Corporate Co-Applicant\",\n    path: LINK_DDE_CORPORATE_CO_APPLICANT,\n  },\n  {\n    id: 3,\n    name: \"Guarantors\",\n    path: LINK_DDE_GUARANTORS,\n  },\n  {\n    id: 3.1,\n    name: \"Corporate Guarantors\",\n    path: LINK_DDE_CORPORATE_GUARANTORS,\n  },\n  {\n    id: 4,\n    name: \"Dependants\",\n    path: LINK_DDE_DEPENDENTS,\n  },\n  {\n    id: 5,\n    name: \"Collateral Property\",\n    path: LINK_DDE_COLLATERAL_PROPERTY,\n  },\n  {\n    id: 6,\n    name: \"Documents\",\n    path: LINK_DDE_DOCUMENTS,\n  },\n  {\n    id: 7,\n    name: \"Fees\",\n    path: LINK_DDE_FEES,\n  },\n];\n\nexport const getTabClassName = ({ isActive }: any) => {\n  console.log(\"===\", isActive);\n  const className = `tab text-sm px-2.5 py-1 min-w-fit ${\n    isActive\n      ? \"bg-secondary-steelBlue-900 rounded-sm text-white font-medium shadow-activeBtn \"\n      : \"text-primary-500\"\n  }`;\n  return className;\n};\n\nexport function ScrollableTabs({ children }: { children: React.ReactNode }) {\n  const params = useParams();\n  const scrollContainerRef = useRef<HTMLDivElement | null>(null); // Explicitly set the type\n  const [showLeftArrow, setShowLeftArrow] = useState(false);\n  const [showRightArrow, setShowRightArrow] = useState(false);\n\n  useEffect(() => {\n    const scrollContainer = scrollContainerRef.current;\n\n    if (scrollContainer) {\n      // Check if there's content to scroll to the left\n      setShowLeftArrow(scrollContainer.scrollLeft > 0);\n\n      // Check if there's content to scroll to the right\n      setShowRightArrow(\n        scrollContainer.scrollLeft + scrollContainer.clientWidth < scrollContainer.scrollWidth\n      );\n\n      // Listen for scroll events\n      const handleScroll = () => {\n        setShowLeftArrow(scrollContainer.scrollLeft > 0);\n        setShowRightArrow(\n          scrollContainer.scrollLeft + scrollContainer.clientWidth < scrollContainer.scrollWidth\n        );\n      };\n\n      // Add a scroll event listener for the scrollContainer\n      scrollContainer.addEventListener(\"scroll\", handleScroll);\n\n      // Add a wheel event listener for mouse scroll\n      const handleWheel = (event: WheelEvent) => {\n        // You can adjust the scrolling speed by changing the value (-50 in this case)\n        scrollContainer.scrollLeft += event.deltaX;\n      };\n\n      scrollContainer.addEventListener(\"wheel\", handleWheel);\n\n      // Cleanup the event listeners\n      return () => {\n        scrollContainer.removeEventListener(\"scroll\", handleScroll);\n        scrollContainer.removeEventListener(\"wheel\", handleWheel); // Remove the wheel event listener\n      };\n    }\n  }, []);\n\n  const handleScroll = (scrollOffset: number) => {\n    // Specify the type as number\n    const scrollContainer = scrollContainerRef.current;\n\n    if (scrollContainer) {\n      scrollContainer.scrollBy({\n        left: scrollOffset,\n        behavior: \"smooth\",\n      });\n    }\n  };\n\n  return (\n    <div className=\"scroll-container\">\n      <div ref={scrollContainerRef} className=\"content\">\n        {children}\n      </div>\n      {showLeftArrow && (\n        <button\n          type=\"button\" // Fix for Problem 1\n          className=\"p-panelmenu-icon pi pi-chevron-left scroll-button left\"\n          onClick={() => handleScroll(-200)} // Adjust the scrolling amount\n          title=\"Scroll Left\" // Fix for Problem 2\n        />\n      )}\n      {showRightArrow && (\n        <button\n          type=\"button\" // Fix for Problem 1\n          className=\"p-panelmenu-icon pi pi-chevron-right scroll-button right\"\n          onClick={() => handleScroll(200)} // Adjust the scrolling amount\n          title=\"Scroll Right\" // Fix for Problem 2\n        />\n      )}\n    </div>\n  );\n}\n\nconst Login = () => {\n  const params = useParams();\n  const dispatch = useDispatch();\n  const overlayPanelRef = useRef(null);\n\n  const [showDialogAPIError, setShowDialogAPIError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [position] = useState<ToastPositionType | undefined>(\"bottom-right\");\n  const [toastMessage, setToastMessage] = useState(\"\");\n  const [toastMessageVariant, setToastMessageVariant] = useState(TOAST_STYLE_TYPE.PRIMARY);\n  const [triggerToast, setTriggerToast] = useState(false);\n  const toastMessageRef = useRef(null);\n  const [isMessageDialogVisible, setIsMessageDialogVisible] = useState(false);\n  const [isNewMessageAvailable, setIsNewMessageAvailable] = useState(false);\n  const [isLoginCompleted, setIsLoginCompleted] = useState(false);\n\n  useEffect(() => {\n    getLoanDetail();\n  }, []);\n  useEffect(() => {\n    getLoanDetail();\n  }, [params.stageUid]);\n  useEffect(() => {\n    console.log(isMessageDialogVisible, \"message \");\n    const callAPI = async () => {\n      try {\n        const res = await ChatServices.checkNewMessageAvailability(params?.stageUid ?? \"\");\n        setIsNewMessageAvailable(res?.data);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    callAPI();\n    const intervalId = setInterval(callAPI, 30000);\n    return () => {\n      clearInterval(intervalId);\n    };\n  }, []);\n  useEffect(() => {\n    if (toastMessageRef?.current && toastMessage !== \"\") {\n      // @ts-ignore: will be fixed in future\n      toastMessageRef?.current?.showFunction();\n    }\n  }, [toastMessage, toastMessageVariant, triggerToast]);\n\n  const getLoanDetail = () => {\n    const uid = params.loanUid;\n    const search = `&uid=${uid}`;\n    const stageInfo = JSON.parse(getLocalStorage(LOCAL_STORAGE.STAGE_DETAIL));\n    if (\n      stageInfo?.status === LOAN_STAGE_STATUS.COMPLETED ||\n      stageInfo?.status === LOAN_STAGE_STATUS.CANCELLED\n    ) {\n      setIsLoginCompleted(true);\n    } else {\n      setIsLoginCompleted(false);\n    }\n\n    LoanService.getAll(0, 1, search)\n      .then((res) => {\n        const results = res.data.results[0];\n        dispatch(updateLoanDetail(results));\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  const onToggleMessage = (e: any) => {\n    setIsMessageDialogVisible(!isMessageDialogVisible);\n  };\n\n  const onStageComplete = async () => {\n    // @ts-ignore: Unreachable code error\n    return DDELoginService.completeStage(params.loanUid)\n      .then((res) => {\n        console.log(res);\n        setToastMessage(STATIC_MASTER_TYPE_TOAST_TEXT.STAGE_COMPLETED);\n        setToastMessageVariant(TOAST_STYLE_TYPE.PRIMARY);\n        setTriggerToast(!triggerToast);\n        if (ACLService.isRouteHasAccess(LINK_DDE_STAGE_AND_STATUS)) {\n          const URL = `${linkBasePath}${linkAuthRoute}${LINK_LOAN_DETAIL}${LINK_DDE_STAGE_AND_STATUS}/${params.loanUid}/`;\n          window.location.href = URL;\n        } else {\n          const URL = linkBasePath + linkAuthRoute + LINK_LOAN_LIST;\n          window.location.href = URL;\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setShowDialogAPIError(true);\n        setErrorMessage(parseStandardAPIErrorMessage(err));\n      });\n  };\n  const [dataForViewDetails, setDataForViewDetails] = useState({\n    assignedTo: \"\",\n    delegateTo: \"\",\n    initiation: \"\",\n    status: \"\",\n  });\n  const onStageDetail = (e: any) => {\n    const viewDetailData: any = localStorage.getItem(\"stageDetail\");\n    setDataForViewDetails({\n      assignedTo: JSON.parse(viewDetailData)?.assignee?.name ?? \"NA\",\n      delegateTo: JSON.parse(viewDetailData)?.delegate?.name ?? \"NA\",\n      initiation: JSON.parse(viewDetailData)?.createdAtSystemDate ?? \"NA\",\n      status: JSON.parse(viewDetailData)?.status ?? \"NA\",\n    });\n    if (overlayPanelRef.current) {\n      // @ts-ignore: Will fix later\n      overlayPanelRef.current?.toggle(e);\n    }\n  };\n\n  const renderLoanDetail = () => {\n    return (\n      <div className=\"flex flex-col gap-4 p-5 \">\n        <div className=\"flex flex-row justify-between items-center\">\n          <div className=\"text-sm text-secondary-stext-900\">Status :</div>\n          <div className=\"text-sm text-secondary-stext-900  font-bold ml-2\">\n            {dataForViewDetails.status}\n          </div>\n        </div>\n        <div className=\"flex flex-row justify-between items-center\">\n          <div className=\"text-sm text-secondary-stext-900\">Assigned to :</div>\n          <div className=\"text-sm text-secondary-stext-900  font-bold ml-2\">\n            {dataForViewDetails.assignedTo}\n          </div>\n        </div>\n        <div className=\"flex flex-row justify-between items-center\">\n          <div className=\"text-sm text-secondary-stext-900\">Delegated to :</div>\n          <div className=\"text-sm text-secondary-stext-900  font-bold ml-2\">\n            {dataForViewDetails.delegateTo}\n          </div>\n        </div>\n        <div className=\"flex flex-row justify-between items-center\">\n          <div className=\"text-sm text-secondary-stext-900\">Date of Initiation :</div>\n          <div className=\"text-sm text-secondary-stext-900  font-bold ml-2\">\n            {formatDate(dataForViewDetails.initiation)}\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"flex flex-col gap-5 \">\n      <div className=\"flex items-center justify-between gap-5 w-full\">\n        <div className=\"flex items-center gap-5 w-11/12\">\n          <div className=\"border-r flex  items-center border-secondary-stext-600 px-5 gap-2 py-2\">\n            <Text className=\"text-primary-ptext-1000 font-bold\" label={\"Login\"}></Text>\n            <TextButton\n              className=\"underline text-xs !text-black\"\n              label={\"View Details\"}\n              onClick={onStageDetail}\n            />\n            <button onClick={onToggleMessage} className=\" relative\">\n              <img src={chatIcon} alt=\"ChatIcon\" className=\"\" />{\" \"}\n              {isNewMessageAvailable ? (\n                <div className=\"absolute top-0 right-0 w-2 h-2 bg-red-500 rounded-full\"></div>\n              ) : (\n                <></>\n              )}\n            </button>\n          </div>\n\n          {/* Convert the below code to add scroll with arrows */}\n\n          <div className=\"w-4/5\">\n            {/* Wrap your tabs with the ScrollableTabs component */}\n            <ScrollableTabs>\n              {DDE_MENUS.map((menu) => (\n                <NavLink\n                  key={menu.path}\n                  className={getTabClassName}\n                  to={`${linkAuthRoute}${LINK_LOAN_DETAIL}${LINK_DDE_LOGIN}/${params.loanUid}/${params.stageUid}${menu.path}`}\n                >\n                  {menu.name}\n                </NavLink>\n              ))}\n            </ScrollableTabs>\n          </div>\n        </div>\n        <div className=\"w-1/12\">\n          <ButtonBox\n            buttonType={BUTTON_TYPE.STAGE_COMPLETE}\n            onClickWithLoader={onStageComplete}\n            size=\"LOAN_DATA\"\n            disabled={isLoginCompleted}\n          />\n        </div>\n      </div>\n      <div className=\"dde-layout-body-content\">\n        <AclGuard override={{ read: isLoginCompleted }}>\n          <Suspense fallback={<Loader />}>\n            <Routes>\n              {ddeLoginRoutes.map((route, index) => {\n                return <Route key={index} path={route.path} element={<route.component />} />;\n              })}\n            </Routes>\n          </Suspense>\n          <Outlet />\n        </AclGuard>\n      </div>\n\n      <ErrorDialog\n        onHide={() => {\n          setShowDialogAPIError(false);\n          setErrorMessage(\"\");\n        }}\n        visible={showDialogAPIError}\n        errorMessage={errorMessage}\n      />\n      {isMessageDialogVisible ? (\n        <DialogBox\n          visible={isMessageDialogVisible}\n          closable={false}\n          model={\"false\"}\n          onHide={() => setIsMessageDialogVisible(false)}\n          className=\"rounded-lg shadow-lg !w-[960px] bg-blend-darken !p-0 !h-162\"\n        >\n          <MainMessageBody params={params} handleCloseOverLay={onToggleMessage} />\n        </DialogBox>\n      ) : null}\n      <SimpleOverlayPanel\n        className=\"rounded-lg shadow-lg !w-80 p-1.5 \"\n        ref={overlayPanelRef}\n        content={renderLoanDetail()}\n      />\n\n      <ToastCustom\n        position={position}\n        ref={toastMessageRef}\n        toastText={toastMessage}\n        variant={toastMessageVariant}\n        onRemove={() => {\n          const URL = linkBasePath + linkAuthRoute + LINK_LOAN_LIST;\n          window.location.href = URL;\n        }}\n      />\n    </div>\n  );\n};\n\nexport default Login;\n"],"names":["DEFAULT_PATH","DDELoginService","BaseApiService","__publicField","loanUid","endPoint","DDELoginService$1","DDE_MENUS","LINK_DDE_DETAIL","LINK_DDE_APPLICANT","LINK_DDE_CO_APPLICANT","LINK_DDE_CORPORATE_CO_APPLICANT","LINK_DDE_GUARANTORS","LINK_DDE_CORPORATE_GUARANTORS","LINK_DDE_DEPENDENTS","LINK_DDE_COLLATERAL_PROPERTY","LINK_DDE_DOCUMENTS","LINK_DDE_FEES","getTabClassName","isActive","ScrollableTabs","children","useParams","scrollContainerRef","useRef","showLeftArrow","setShowLeftArrow","useState","showRightArrow","setShowRightArrow","useEffect","scrollContainer","handleScroll","handleWheel","event","scrollOffset","jsxs","jsx","Login","params","dispatch","useDispatch","overlayPanelRef","showDialogAPIError","setShowDialogAPIError","errorMessage","setErrorMessage","position","toastMessage","setToastMessage","toastMessageVariant","setToastMessageVariant","TOAST_STYLE_TYPE","triggerToast","setTriggerToast","toastMessageRef","isMessageDialogVisible","setIsMessageDialogVisible","isNewMessageAvailable","setIsNewMessageAvailable","isLoginCompleted","setIsLoginCompleted","getLoanDetail","callAPI","res","ChatServices","error","intervalId","_a","search","stageInfo","getLocalStorage","LOCAL_STORAGE","LOAN_STAGE_STATUS","LoanService","results","updateLoanDetail","err","onToggleMessage","e","onStageComplete","STATIC_MASTER_TYPE_TOAST_TEXT","ACLService","LINK_DDE_STAGE_AND_STATUS","URL","linkBasePath","linkAuthRoute","LINK_LOAN_DETAIL","LINK_LOAN_LIST","parseStandardAPIErrorMessage","dataForViewDetails","setDataForViewDetails","onStageDetail","viewDetailData","_b","_d","_c","_e","_f","_g","renderLoanDetail","formatDate","Text","TextButton","chatIcon","Fragment","menu","NavLink","LINK_DDE_LOGIN","ButtonBox","BUTTON_TYPE","AclGuard","Suspense","Loader","Routes","ddeLoginRoutes","route","index","Route","Outlet","ErrorDialog","DialogBox","MainMessageBody","SimpleOverlayPanel","ToastCustom"],"mappings":"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"}