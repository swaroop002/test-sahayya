import{r as u,bs as te,bt as ae,bu as re,bx as R,O as _,c as x,C as le,by as K,bw as N,bv as ue,I as ie,a7 as oe,j as H,R as se}from"./index-e8217573.js";function j(){return j=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(n[i]=a[i])}return n},j.apply(this,arguments)}function ce(n){if(Array.isArray(n))return n}function me(n,r){var a=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(a!=null){var i,m,v,o,s=[],f=!0,y=!1;try{if(v=(a=a.call(n)).next,r===0){if(Object(a)!==a)return;f=!1}else for(;!(f=(i=v.call(a)).done)&&(s.push(i.value),s.length!==r);f=!0);}catch(g){y=!0,m=g}finally{try{if(!f&&a.return!=null&&(o=a.return(),Object(o)!==o))return}finally{if(y)throw m}}return s}}function L(n,r){(r==null||r>n.length)&&(r=n.length);for(var a=0,i=new Array(r);a<r;a++)i[a]=n[a];return i}function fe(n,r){if(n){if(typeof n=="string")return L(n,r);var a=Object.prototype.toString.call(n).slice(8,-1);if(a==="Object"&&n.constructor&&(a=n.constructor.name),a==="Map"||a==="Set")return Array.from(n);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return L(n,r)}}function de(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z(n,r){return ce(n)||me(n,r)||fe(n,r)||de()}var C=u.memo(u.forwardRef(function(n,r){var a=u.useState(!n.popup),i=Z(a,2),m=i[0],v=i[1],o=u.useRef(null),s=u.useRef(null),f=te({target:s,overlay:o,listener:function(e,t){var c=t.valid;c&&O(e)},when:m}),y=Z(f,2),g=y[0],S=y[1],w=function(e){n.popup&&ue.emit("overlay-click",{originalEvent:e,target:s.current})},h=function(e,t){if(t.disabled){e.preventDefault();return}t.url||e.preventDefault(),t.command&&t.command({originalEvent:e,item:t}),n.popup&&O(e)},I=function(e,t){var c=e.currentTarget.parentElement;switch(e.which){case 40:var p=d(c);p&&p.children[0].focus(),e.preventDefault();break;case 38:var E=U(c);E&&E.children[0].focus(),e.preventDefault();break}},d=function l(e){var t=e.nextElementSibling;return t?N.hasClass(t,"p-disabled")||!N.hasClass(t,"p-menuitem")?l(t):t:null},U=function l(e){var t=e.previousElementSibling;return t?N.hasClass(t,"p-disabled")||!N.hasClass(t,"p-menuitem")?l(t):t:null},B=function(e){n.popup&&(m?O(e):A(e))},A=function(e){s.current=e.currentTarget,v(!0),n.onShow&&n.onShow(e)},O=function(e){s.current=e.currentTarget,v(!1),n.onHide&&n.onHide(e)},$=function(){R.set("menu",o.current,K.autoZIndex,n.baseZIndex||K.zIndex.menu),N.absolutePosition(o.current,s.current)},J=function(){g()},W=function(){s.current=null,S()},X=function(){R.clear(o.current)};ae(function(){R.clear(o.current)}),u.useImperativeHandle(r,function(){return{props:n,toggle:B,show:A,hide:O,getElement:function(){return o.current},getTarget:function(){return s.current}}});var z=function(e,t){var c=e.label+"_"+t,p=x("p-submenu-header",{"p-disabled":e.disabled},e.className),E=e.items.map(D);return u.createElement(u.Fragment,{key:c},u.createElement("li",{className:p,style:e.style,role:"presentation"},e.label),E)},F=function(e){var t="separator_"+e;return u.createElement("li",{key:t,className:"p-menu-separator",role:"separator"})},D=function(e,t){if(e.visible===!1)return null;var c=x("p-menuitem",e.className),p=x("p-menuitem-link",{"p-disabled":e.disabled}),E=x("p-menuitem-icon",e.icon),G=ie.getJSXIcon(e.icon,{className:"p-menuitem-icon"},{props:n}),Q=e.label&&u.createElement("span",{className:"p-menuitem-text"},e.label),P=e.disabled?null:0,ee=e.label+"_"+t,k=u.createElement("a",{href:e.url||"#",className:p,role:"menuitem",target:e.target,onClick:function(b){return h(b,e)},onKeyDown:function(b){return I(b)},tabIndex:P,"aria-disabled":e.disabled},G,Q);if(e.template){var ne={onClick:function(b){return h(b,e)},onKeyDown:function(b){return I(b)},className:p,tabIndex:P,labelClassName:"p-menuitem-text",iconClassName:E,element:k,props:n};k=_.getJSXElement(e.template,e,ne)}return u.createElement("li",{key:ee,className:c,style:e.style,role:"none"},k)},V=function(e,t){return e.separator?F(t):e.items?z(e,t):D(e,t)},Y=function(){return n.model.map(V)},q=function(){if(n.model){var e=_.findDiffKeys(n,C.defaultProps),t=x("p-menu p-component",{"p-menu-overlay":n.popup},n.className),c=Y();return u.createElement(le,{nodeRef:o,classNames:"p-connected-overlay",in:m,timeout:{enter:120,exit:100},options:n.transitionOptions,unmountOnExit:!0,onEnter:$,onEntered:J,onExit:W,onExited:X},u.createElement("div",j({ref:o,id:n.id,className:t,style:n.style},e,{onClick:w}),u.createElement("ul",{className:"p-menu-list p-reset",role:"menu"},c)))}return null},M=q();return n.popup?u.createElement(re,{element:M,appendTo:n.appendTo}):M}));C.displayName="Menu";C.defaultProps={__TYPE:"Menu",id:null,model:null,popup:!1,style:null,className:null,autoZIndex:!0,baseZIndex:0,appendTo:null,transitionOptions:null,onShow:null,onHide:null};const ve=u.forwardRef((n,r)=>{const{model:a,id:i,className:m,appendTo:v,baseZIndex:o,onBlur:s}=n,{t:f}=oe(),g=(S=>{var w,h;if(Array.isArray(S)){const I=[...S];return(h=(w=I[0])==null?void 0:w.items)==null||h.forEach(d=>{d.label&&(d.label=f(d.label)),d._template&&(d.label=d._template)}),I}else return})(a);return H.jsx("div",{className:"menu-items",children:H.jsx(C,{...n,model:g,className:m,popup:!0,ref:r,id:i,appendTo:v,baseZIndex:o,onBlur:s})})}),be=se.memo(ve);export{be as M};
//# sourceMappingURL=MenuBox-defc36b0.js.map
