import{r as $,aC as Q,j as m,a8 as W,aa as Z,aj as ee,ak as te,T as ne,R as re,aD as ae,ac as X,aE as se}from"./index-e8217573.js";var q={exports:{}};(function(y,V){(function(F,O){y.exports=O($)})(window,function(F){return function(O){var h={};function s(r){if(h[r])return h[r].exports;var u=h[r]={i:r,l:!1,exports:{}};return O[r].call(u.exports,u,u.exports,s),u.l=!0,u.exports}return s.m=O,s.c=h,s.d=function(r,u,g){s.o(r,u)||Object.defineProperty(r,u,{enumerable:!0,get:g})},s.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},s.t=function(r,u){if(1&u&&(r=s(r)),8&u||4&u&&typeof r=="object"&&r&&r.__esModule)return r;var g=Object.create(null);if(s.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:r}),2&u&&typeof r!="string")for(var b in r)s.d(g,b,function(x){return r[x]}.bind(null,b));return g},s.n=function(r){var u=r&&r.__esModule?function(){return r.default}:function(){return r};return s.d(u,"a",u),u},s.o=function(r,u){return Object.prototype.hasOwnProperty.call(r,u)},s.p="/otp-input-react/",s(s.s=1)}([function(O,h){O.exports=F},function(O,h,s){O.exports=s(2)},function(O,h,s){function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function u(e){for(var a=1;a<arguments.length;a++){var n=arguments[a]!=null?arguments[a]:{},o=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),o.forEach(function(i){r(e,i,n[i])})}return e}function g(e,a){if(e==null)return{};var n,o,i=function(f,l){if(f==null)return{};var d,p,T={},v=Object.keys(f);for(p=0;p<v.length;p++)d=v[p],l.indexOf(d)>=0||(T[d]=f[d]);return T}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(o=0;o<c.length;o++)n=c[o],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}s.r(h);var b=s(0),x=s.n(b);function S(e,a){return function(n){if(Array.isArray(n))return n}(e)||function(n,o){var i=[],c=!0,f=!1,l=void 0;try{for(var d,p=n[Symbol.iterator]();!(c=(d=p.next()).done)&&(i.push(d.value),!o||i.length!==o);c=!0);}catch(T){f=!0,l=T}finally{try{c||p.return==null||p.return()}finally{if(f)throw l}}return i}(e,a)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var I=function(e){var a=e.maxTime,n=e.onTimerComplete,o=e.timeInterval,i=e.onResendClick,c=Object(b.useRef)(),f=S(Object(b.useState)(a),2),l=f[0],d=f[1];return Object(b.useEffect)(function(){return c.current&&l===0?(clearTimeout(c.current),n&&n()):c.current=setTimeout(function(){d(function(p){return p-1})},o),function(){clearTimeout(c.current)}},[n,l,o]),{handelResendClick:function(){i&&i(l===0),d(a)},remainingTime:l}};function E(e){var a=e.renderTime,n=e.renderButton,o=e.style,i=e.className,c=g(e,["renderTime","renderButton","style","className"]),f=I(c),l=f.remainingTime,d=f.handelResendClick;return x.a.createElement("div",{className:i||"","data-testid":"otp-resend-root",style:u({display:"flex",justifyContent:"space-between"},o)},a?a(l):x.a.createElement("span",null,l," sec"),n?n({disabled:l!==0,onClick:d,remainingTime:l}):x.a.createElement("button",{disabled:l!==0,onClick:d,type:"button"},"Resend OTP"))}E.defaultProps={maxTime:60,timeInterval:1e3,style:{}};var L=E,B={width:32,height:32,textAlign:"center",marginRight:20},A=x.a.memo(function(e){var a=e.focus,n=e.autoFocus,o=e.disabled,i=e.value,c=e.onInputFocus,f=e.index,l=e.secure,d=e.inputStyles,p=e.otpType,T=g(e,["focus","autoFocus","disabled","value","onInputFocus","index","secure","inputStyles","otpType"]),v=Object(b.useRef)(null),N=Object(b.useRef)(!1);Object(b.useEffect)(function(){n&&a&&v.current.focus()},[]),Object(b.useEffect)(function(){N.current&&a&&v.current.focus(),N.current=!0},[a]);var P="text";return l?P="password":p==="number"&&(P="tel"),x.a.createElement("input",Object.assign({style:u({},B,d),type:P,maxLength:"1",ref:v,disabled:o,onFocus:function(t){return c(f,t)},value:i||""},T))}),z=function(e){var a=e.autoFocus,n=e.value,o=e.otpType,i=e.onChange,c=e.OTPLength,f=S(Object(b.useState)(a?0:-1),2),l=f[0],d=f[1],p=function(){return n?n.toString().split(""):[]},T=function(t){var C=t.join("");i(C)},v=function(){(function(t){var C=Math.max(Math.min(c-1,t),0);d(C)})((arguments.length>0&&arguments[0]!==void 0?arguments[0]:"next")==="next"?l+1:l-1)},N=function(t){var C=S(t,1)[0],j=p();j[l]=C,T(j)},P=function(t){switch(o){case"number":return!(t.charCodeAt(0)>57||t.charCodeAt(0)<48);case"alpha":return!(t.charCodeAt(0)>122||t.charCodeAt(0)<65);case"alphanumeric":return!(t.charCodeAt(0)>122||t.charCodeAt(0)<48);default:return!0}};return{activeInput:l,getOtpValue:p,handleOnChange:function(t){P(t.target.value)&&(N(t.target.value),v("next"))},handleOnKeyDown:function(t){switch(t.key){case"Backspace":t.preventDefault(),N(""),v("prev");break;case"Delete":t.preventDefault(),N("");break;case"ArrowLeft":t.preventDefault(),v("prev");break;case"ArrowRight":t.preventDefault(),v("next")}},handelOnInput:function(t){t.target.value.length>1&&(t.preventDefault(),v("next"))},handleOnPaste:function(t,C){t.preventDefault();for(var j=p(),M=t.clipboardData.getData("text/plain").slice(0,c-l).split(""),w=0;w<c;++w)w>=l&&M.length>0&&(j[w]=M.shift());for(var Y=[j.length],K=0,k=0;k<j.length;++k)P(j[k])&&(Y[K]=j[k],K++);T(Y)},onInputFocus:function(t,C){d(t),C.target.select()}}},R=function(e){var a=e.OTPLength,n=e.disabled,o=e.autoFocus,i=e.value,c=i===void 0?"":i,f=e.onChange,l=e.otpType,d=e.secure,p=e.className,T=e.inputClassName,v=e.inputStyles,N=e.style,P=e.placeholder,t=z({autoFocus:o,value:c,otpType:l,onChange:f,OTPLength:a}),C=t.activeInput,j=t.getOtpValue,M=t.handleOnChange,w=t.handleOnKeyDown,Y=t.handelOnInput,K=t.handleOnPaste,k=t.onInputFocus,H=Object(b.useMemo)(function(){for(var J=j(),U=[],D=0;D<a;D++)U.push(x.a.createElement(A,{className:T,inputStyles:v,key:D,focus:C===D,value:J[D],onChange:M,onKeyDown:w,onInput:Y,onPaste:K,onInputFocus:k,index:D,disabled:n,autoFocus:o,secure:d,"data-testid":"input",otpType:l,placeholder:P&&P[D]}));return U},[j,a,T,v,C,M,w,Y,K,k,n,o,d,l,P]);return x.a.createElement("div",{style:u({display:"flex"},N),className:"".concat(p),"data-testid":"otp-input-root"},H)};R.defaultProps={className:"",inputClassName:"",OTPLength:4,onChange:function(){},disabled:!1,secure:!1,autoFocus:!1,value:"",otpType:"any",inputStyles:{},style:{},placeholder:void 0};var _=R;s.d(h,"ResendOTP",function(){return L}),s.d(h,"default",function(){return _})}])})})(q);var G=q.exports;const oe=Q(G),le=y=>{const{hideLabel:V,hideResendOTP:F,showTimer:O,label:h,labelClassNames:s,isTimerComplete:r,OTPLength:u,value:g,className:b,otpType:x,resendOTPClassName:S,disabled:I,hideErrorRow:E,validation:L,errorClassNames:B,placeholder:A,onChange:z,onResendClick:R}=y,[_,e]=$.useState(!0),a=()=>{e(!1)},n=()=>{R(),e(!0)},o=c=>m.jsx("div",{className:" mx-auto my-0.5 pr-5",children:m.jsx("div",{className:"flex items-center",children:m.jsx(ee,{onClick:c.onClick,label:"component.button.resend.otp",variant:te.TERTIARY,disabled:_})})}),i=c=>m.jsx(m.Fragment,{children:O?m.jsx("span",{className:" flex justify-center text-center pr-5",children:r?m.jsx(ne,{className:"text-primary-timerTextColor text-xs font-Roboto",label:"label.text.otp.expired"}):m.jsx(m.Fragment,{children:m.jsxs("span",{className:"text-primary-timerTextColor text-xs font-Roboto",children:[c," seconds"]})})}):null});return m.jsxs("div",{className:"group grid",children:[!V&&m.jsx(W,{label:h,labelClassNames:s}),m.jsx(oe,{value:g,onChange:z,autoFocus:!0,OTPLength:u,otpType:x,disabled:I,inputClassName:b,placeholder:A}),!E&&m.jsx(Z,{validation:L,hideErrorRow:E,errorClassNames:B}),!F&&m.jsx(G.ResendOTP,{onResendClick:n,className:S,renderButton:o,renderTime:i,onTimerComplete:a})]})},ue=y=>{const{value:V,onChange:F,placeholder:O,label:h,className:s,OTPLength:r,autoFocus:u,otpType:g,resendOTPClassName:b,onResendClick:x,disabled:S,hideErrorRow:I,validation:E,errorClassNames:L,labelClassNames:B,hideResendOTP:A}=y;let R=(()=>{const a={...ae,overrideStyle:y.styleObj,overrideClasses:s,isDisabled:y.disabled,isInvalid:!!y.validation,removeStyleProperty:[],removeClasses:[]},n=X(a,y.variant),o={disabledStyleProperty:["inputDisabledBackgroundColor","inputDisabledBorderColor","inputDisabledTextColor","inputDisabledBorderSize"],...se,overrideStyle:y.styleResendObj,overrideClasses:b,isDisabled:y.disabled,isInvalid:!!y.validation,removeStyleProperty:[],removeClasses:[]},i=X(o,y.variant);return[n,i]})(),_=R[0],e=R[1];return m.jsx(m.Fragment,{children:m.jsx(le,{...y,className:_,value:V,onChange:F,placeholder:O,label:h,labelClassNames:B,OTPLength:r,autoFocus:u,otpType:g,resendOTPClassName:e,onResendClick:x,disabled:S,hideErrorRow:I,validation:E,errorClassNames:L,hideResendOTP:A})})},ce=re.memo(ue);export{ce as O};
//# sourceMappingURL=OTPBox-35988626.js.map
