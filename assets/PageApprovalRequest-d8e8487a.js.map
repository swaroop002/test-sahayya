{"version":3,"file":"PageApprovalRequest-d8e8487a.js","sources":["../../src/views/masterData/approvalRequest/PageApprovalRequest/PageApprovalRequest.tsx"],"sourcesContent":["import ButtonBox from \"components/ButtonBox/ButtonBox\";\nimport DialogBox from \"components/Dialog/Dialog\";\nimport ErrorDialog from \"components/ErrorDialog/ErrorDialog\";\nimport InputTextArea from \"components/InputTextArea/InputTextArea\";\nimport Label from \"components/Label/Label\";\nimport LinkButton from \"components/LinkButton/LinkButton\";\nimport PageTitle from \"components/PageTitle/PageTitle\";\nimport ReadOnlyTable from \"components/ReadOnlyTable\";\nimport SectionTitle from \"components/SectionTitle/SectionTitle\";\nimport Text from \"components/Text/Text\";\nimport ToastCustom from \"components/Toast\";\nimport { RouteProps, withRouter } from \"hoc/withRouter\";\nimport { Column } from \"primereact/column\";\nimport queryString from \"query-string\";\nimport { useEffect, useRef, useState } from \"react\";\nimport {\n  linkApprovalRequests,\n  linkAuthRoute,\n  linkNamePartnerUserCreateViewEdit,\n  linkProductConfigurationProductsCreateViewEdit,\n  linkProductIncomeSchemeCM,\n  linkStaticMasterTypes,\n  linkStaticMasterTypesCreateViewEdit,\n  linkUserManagementCreateViewEdit,\n} from \"routes\";\nimport ApprovalRequestService from \"services/masterdata/Approval/ApprovalRequestService\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport {\n  convertEnumValueFromUpperCaseToFirstLetterUpperCase,\n  formattedDateLong,\n  getStandardValidator,\n  getStaticMasterNames,\n  messageReplace,\n  parseStandardAPIErrorMessage,\n} from \"utils/CommonUtil\";\nimport {\n  APPROVAL_REQUEST_TOAST_TEXT,\n  BUTTON_TYPE,\n  ENTITY,\n  OPERATION_TYPE,\n  PAGE_MODE,\n  REVIEW_MODE,\n  TOAST_STYLE_TYPE,\n} from \"utils/Constant\";\n\nconst PageApprovalRequest = (props: RouteProps) => {\n  /*\n  \n      -------------------------------------------------------\n        States\n      -------------------------------------------------------\n    */\n  const [uid, setUid] = useState(\"\");\n  const [isRejectClicked, setIsRejectClicked] = useState(false);\n  const [isApproveClicked, setIsApproveClicked] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [reason, setReason] = useState<any>(\"\");\n  const [pageObj, setPageObj] = useState<any>({});\n  const [pageObjFinal, setPageObjFinal] = useState<any>({});\n  const [, forceUpdate] = useState<undefined | boolean>(undefined);\n  const [toastMessage, setToastMessage] = useState(\"\");\n  const [showDialogAPIError, setShowDialogAPIError] = useState(false);\n  const toastMessageRef = useRef(null);\n  const [dataTable, setDataTable] = useState({\n    limit: 10,\n    loading: false,\n    totalRecords: 0,\n    start: 0,\n    search: \"\",\n    runCustomQuery: false,\n    records: [],\n  });\n  const dataTableRef = useRef(null);\n  const simpleValidator = useRef(\n    new SimpleReactValidator({\n      validators: { ...getStandardValidator() },\n      ...messageReplace(),\n      autoForceUpdate: { forceUpdate: () => forceUpdate((prev) => !prev) },\n    })\n  );\n\n  /*\n    -------------------------------------------------------\n      Hooks: useEffect\n    -------------------------------------------------------\n  */\n  useEffect(() => {\n    const parsed: {\n      uid?: string;\n    } = queryString.parse(props.location.search);\n    if (parsed?.uid && parsed?.uid !== undefined) {\n      setUid(parsed.uid);\n      setDataTable({\n        ...dataTable,\n        search: `uid=${parsed.uid}`,\n      });\n    }\n  }, []);\n  useEffect(() => {\n    if (uid) {\n      getInitialData();\n    }\n  }, [uid]);\n\n  const getInitialData = async () => {\n    const res = await ApprovalRequestService.getAllForApprovalRequestSummary(0, 100, `/uid/${uid}`);\n    try {\n      console.log(res?.data, \"response\");\n      // Handle the data as needed\n      console.log(res);\n      setReason(res?.data.reasonForChange);\n\n      setPageObj(res?.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    if (uid !== \"\" && uid !== undefined) {\n      // @ts-ignore: will fix later\n      dataTableRef?.current?.search();\n    }\n  }, [uid]);\n\n  useEffect(() => {\n    if (toastMessage != \"\") {\n      // @ts-ignore: will fix later\n      toastMessageRef?.current?.showFunction();\n    }\n  }, [toastMessage]);\n  useEffect(() => {\n    if (errorMessage) {\n      setShowDialogAPIError(true);\n    }\n  }, [errorMessage]);\n\n  useEffect(() => {\n    console.log(\"object\");\n  }, [pageObj.checkerComments]);\n  /*\n    -------------------------------------------------------\n      Handlers: Event handler for onChange, onBlur etc\n    -------------------------------------------------------\n  */\n  const handleInputChange = (event: any) => {\n    const { name, value } = event.target;\n\n    setPageObjFinal({\n      ...pageObj,\n      checkerComments: value,\n    });\n    // setPageObj({\n    //   checkerComments: value,\n    // });\n  };\n\n  /* \n    -------------------------------------------------------\n      ButtonClick Functions:\n    -------------------------------------------------------\n  */\n\n  const onCancelClick = () => {\n    props.navigate(linkApprovalRequests);\n  };\n\n  const onApproveClick = async () => {\n    return ApprovalRequestService.approveRequest(pageObj.uid, pageObjFinal)\n      .then((res) => {\n        setIsApproveClicked(false);\n        setToastMessage(APPROVAL_REQUEST_TOAST_TEXT.APPROVED);\n      })\n      .catch((err) => {\n        setErrorMessage(parseStandardAPIErrorMessage(err));\n      });\n  };\n\n  const onRejectClick = async () => {\n    simpleValidator?.current?.showMessageFor(`checkerComments`);\n    if (!pageObjFinal?.checkerComments) {\n      return;\n    }\n    console.log(pageObj);\n    return ApprovalRequestService.rejectRequest(pageObj.uid, pageObjFinal)\n      .then((res) => {\n        setIsRejectClicked(false);\n        setToastMessage(APPROVAL_REQUEST_TOAST_TEXT.REJECTED);\n      })\n      .catch((err) => {\n        setErrorMessage(parseStandardAPIErrorMessage(err));\n      });\n  };\n\n  /* \n    -------------------------------------------------------\n      Helper Functions:\n    -------------------------------------------------------\n  */\n\n  /* \n    -------------------------------------------------------\n      Render Functions:\n    -------------------------------------------------------\n  */\n\n  const renderHeaderRequestId = () => {\n    return (\n      <div className=\"flex\">\n        <Label label=\"tableHeader.masterData.approvalRequestSearch.requestId\" className=\"mr-1\" />\n      </div>\n    );\n  };\n\n  const renderRequestId = (rowData: any) => {\n    setReason(rowData.reasonForChange);\n    setPageObj(rowData);\n    return (\n      <div className=\"text-primary-ptext-900 font-BrownLight text-left w-30\">\n        {rowData.requestId}\n      </div>\n    );\n  };\n\n  const renderHeaderEntity = () => {\n    return (\n      <div className=\"flex\">\n        <Label label=\"input.masterData.approvalRequestSearch.entity\" className=\"mr-1\" />\n      </div>\n    );\n  };\n\n  const renderEntity = (rowData: any) => {\n    return (\n      <div className=\"text-primary-ptext-900 font-BrownLight text-left\">\n        {convertEnumValueFromUpperCaseToFirstLetterUpperCase(rowData.entity)}\n      </div>\n    );\n  };\n\n  const renderHeaderName = () => {\n    return (\n      <div className=\"flex\">\n        <Label label=\"input.masterData.approvalRequestSearch.name\" className=\"mr-1\" />\n      </div>\n    );\n  };\n\n  const renderName = (rowData: any) => {\n    return <div className=\"text-primary-ptext-900 font-BrownLight text-left\">{rowData.name}</div>;\n  };\n\n  const renderHeaderMaker = () => {\n    return (\n      <div className=\"flex\">\n        <Label label=\"input.masterData.approvalRequestSearch.maker\" className=\"mr-1\" />\n      </div>\n    );\n  };\n\n  const renderMaker = (rowData: any) => {\n    return (\n      <div className=\"w-40\">\n        <div className=\"text-primary-ptext-900 font-BrownLight text-left\">\n          {rowData.createdByUserName}\n        </div>\n      </div>\n    );\n  };\n\n  const renderHeaderCreatedOn = () => {\n    return (\n      <div className=\"flex\">\n        <p className=\"mr-1\">Created On</p>\n      </div>\n    );\n  };\n\n  const renderCreatedOn = (rowData: any) => {\n    return (\n      <div className=\"w-40 text-primary-ptext-900 font-BrownLight text-left\">\n        {formattedDateLong(rowData.createdAt)}\n      </div>\n    );\n  };\n\n  const renderHeaderOperation = () => {\n    return <Label label=\"input.masterData.approvalRequestSearch.operation\" className=\"mr-1\" />;\n  };\n\n  const renderOperation = (rowData: any) => {\n    return (\n      <div className=\"w-30 text-primary-ptext-900 font-BrownLight text-left\">\n        {rowData.operationType}\n      </div>\n    );\n  };\n\n  const renderHeaderChecker = () => {\n    return <Label label=\"input.masterData.staticMaster.checker\" className=\"mr-1\" />;\n  };\n\n  const renderChecker = (rowData: any) => {\n    return (\n      <div className=\"text-primary-ptext-900 font-BrownLight text-left\">\n        {rowData.checkedByUserName}\n      </div>\n    );\n  };\n\n  const renderHeaderCheckedOn = () => {\n    return (\n      <div className=\"flex\">\n        <Label label=\"tableHeader.masterData.approvalRequestSearch.checkedOn\" className=\"mr-1\" />\n      </div>\n    );\n  };\n\n  const renderCheckedOn = (rowData: any) => {\n    return (\n      <div className=\"text-primary-ptext-900 font-BrownLight text-left w-30\">\n        {`${formattedDateLong(rowData.checkedOn)}`}\n      </div>\n    );\n  };\n\n  const renderHeaderStatus = () => {\n    return (\n      <div className=\"flex\">\n        <Label label=\"tableHeader.masterData.approvalRequestSearch.status\" className=\"mr-1\" />\n      </div>\n    );\n  };\n\n  const renderStatus = (rowData: any) => {\n    // Move the state updates outside of the rendering phase\n\n    // setReason(rowData.reasonForChange);\n    // setPageObj(rowData);\n\n    return (\n      <div className=\"text-primary-ptext-900 font-BrownLight text-left w-30\">{rowData?.status}</div>\n    );\n  };\n\n  const getOldPath = () => {\n    console.log(pageObj);\n    const initDataUid = JSON.parse(pageObj.reqPayload).uid;\n\n    if (pageObj.entity == ENTITY.STATIC_MASTER_TYPE) {\n      return `${linkAuthRoute}/${linkStaticMasterTypesCreateViewEdit}?mode=${\n        PAGE_MODE.REVIEW\n      }&uid=${pageObj.uid}&reviewMode=${REVIEW_MODE.OLD}&id=${\n        pageObj.id\n      }`;\n    }\n    if (pageObj.entity == ENTITY.USER_PROFILE) {\n      return `${linkAuthRoute}/${linkUserManagementCreateViewEdit}?mode=${PAGE_MODE.REVIEW}&uid=${pageObj.uid}&reviewMode=${REVIEW_MODE.OLD}&id=${pageObj.id}`;\n    }\n    if (pageObj.entity == ENTITY.INCOME_SCHEME) {\n      return `${linkAuthRoute}/${linkProductIncomeSchemeCM}?mode=${PAGE_MODE.REVIEW}&uid=${initDataUid}&reviewMode=${REVIEW_MODE.OLD}&id=${pageObj.id}`;\n    }\n    return linkStaticMasterTypes;\n  };\n\n  const getNewPath = () => {\n  \n    if (pageObj.entity == ENTITY.STATIC_MASTER_TYPE) {\n      return `${linkAuthRoute}/${linkStaticMasterTypesCreateViewEdit}?mode=${PAGE_MODE.REVIEW}&uid=${pageObj.uid}&reviewMode=${REVIEW_MODE.NEW}&id=${pageObj.id}`;\n    }\n    if (pageObj.entity == ENTITY.USER_PROFILE) {\n      return `${linkAuthRoute}/${linkUserManagementCreateViewEdit}?mode=${PAGE_MODE.REVIEW}&uid=${pageObj.uid}&reviewMode=${REVIEW_MODE.OLD}&id=${pageObj.id}`;\n    }\n    if (pageObj.entity == ENTITY.INCOME_SCHEME) {\n      return `${linkAuthRoute}/${linkProductIncomeSchemeCM}?mode=${PAGE_MODE.REVIEW}&approvalUid=${pageObj.uid}&reviewMode=${REVIEW_MODE.NEW}&id=${pageObj.id}&finalData=${pageObj.finalStateJson}`;\n    }\n    if (pageObj.entity == ENTITY.PRODUCT) {\n      return `${linkAuthRoute}/${linkProductConfigurationProductsCreateViewEdit}?mode=${\n        pageObj.operationType == OPERATION_TYPE.CREATE ? PAGE_MODE.REVIEW_CREATE : PAGE_MODE.REVIEW\n      }&uid=${pageObj.uid}&reviewMode=${REVIEW_MODE.NEW}&id=${pageObj.id}`;\n    }\n  };\n  const validate = (e: any) => {\n    simpleValidator?.current?.showMessageFor(\"checkerComments\");\n  };\n  const resetValidator = () => {\n    simpleValidator.current = new SimpleReactValidator({\n      validators: { ...getStandardValidator() },\n      ...messageReplace(),\n      autoForceUpdate: { forceUpdate: () => forceUpdate((prev) => !prev) },\n    });\n    simpleValidator?.current?.hideMessages();\n  };\n\n  return (\n    <div className=\"flex flex-col gap-3\">\n      <div className=\"flex w-full justify-between items-center\">\n        <PageTitle title=\"heading.masterData.approvalRequest\" />\n\n        {pageObj.status == \"PENDING\" ? (\n          <div className=\"flex gap-10\">\n            <div className=\"flex gap-5\">\n              <ButtonBox buttonType={BUTTON_TYPE.CANCEL_OUTLINE} onClick={onCancelClick} />\n              <ButtonBox\n                buttonType={BUTTON_TYPE.REJECT_PRIMARY}\n                onClick={() => {\n                  setIsRejectClicked(true);\n                }}\n              />\n            </div>\n            <ButtonBox\n              className=\"approve-primary\"\n              buttonType={BUTTON_TYPE.APPROVE}\n              onClickWithLoader={onApproveClick}\n            />\n          </div>\n        ) : (\n          <div className=\"flex \">\n            <ButtonBox buttonType={BUTTON_TYPE.CLOSE_OUTLINE} onClick={onCancelClick} />\n          </div>\n        )}\n      </div>\n      <SectionTitle title=\"sectionTitle.masterData.approvalRequest.summary\" />\n      <ReadOnlyTable\n        standardDataFormatPromise={ApprovalRequestService.getAll}\n        dataKey=\"id\"\n        search={`&uid=${uid}&`}\n        ref={dataTableRef}\n        paginator={false}\n        className=\"border border-secondary-concrete px-0  mt-4 rounded-lg read-only-table w-full h-40 overflow-auto approval-request-wrapper\"\n        style={{ width: \"100%\" }}\n      >\n        <Column\n          className=\"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6\"\n          header={renderHeaderEntity}\n          body={renderEntity}\n        />\n        <Column\n          className=\"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6\"\n          header={renderHeaderName}\n          body={renderName}\n        />\n        <Column\n          className=\"text-primary-ptext-1000 text-left text-xs w-1/12  p-1 h-12 pl-6\"\n          header={renderHeaderMaker}\n          body={renderMaker}\n        />\n\n        <Column\n          className=\"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6\"\n          header={renderHeaderCreatedOn}\n          body={renderCreatedOn}\n        />\n        <Column\n          className=\"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6\"\n          header={renderHeaderOperation}\n          body={renderOperation}\n        />\n        <Column\n          className=\"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6\"\n          header={renderHeaderChecker}\n          body={renderChecker}\n        />\n        <Column\n          className=\"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6\"\n          header={renderHeaderCheckedOn}\n          body={renderCheckedOn}\n        />\n\n        <Column\n          className=\"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6\"\n          header={renderHeaderStatus}\n          body={renderStatus}\n        />\n      </ReadOnlyTable>\n\n      <div className=\"flex justify-between gap-4\">\n        <div>\n          <div className=\"flex mt-6\">\n            <SectionTitle title=\"sectionTitle.masterData.approvalRequest.reason\" />\n          </div>\n          <div className=\"mt-2\">\n            <Text label={reason} className=\"text-primary-labelColor  text-xs  text-left\" />\n          </div>\n        </div>\n\n        {pageObj.checkerComments && (\n          <div>\n            <div className=\"flex mt-6\">\n              <SectionTitle\n                title={\n                  pageObj.status == \"APPROVED\"\n                    ? \"dialogTitle.masterData.approvalRequest.approval\"\n                    : \"dialogTitle.masterData.approvalRequest.reject\"\n                }\n              />\n            </div>\n            <div className=\"mt-4\">\n              <Text\n                label={pageObj.checkerComments}\n                className=\"text-primary-labelColor  text-xs  text-left\"\n              />\n            </div>\n          </div>\n        )}\n      </div>\n\n      {pageObj.status == \"PENDING\" && (\n        <>\n          <div className=\"flex mt-6\">\n            <SectionTitle title=\"sectionTitle.masterData.approvalRequest.data\" />\n          </div>\n          <div className=\"flex w-100 justify-between\">\n            {pageObj.operationType == OPERATION_TYPE.CREATE ? (\n              <Text\n                label=\"sectionTitle.masterData.approvalRequest.oldValue\"\n                className=\"text-secondary-gray-500 hover:text-primary-buttonPrimaryHoverColor text-xs focus:text-secondary-gray-500\"\n              />\n            ) : (\n              <LinkButton\n                label=\"sectionTitle.masterData.approvalRequest.oldValue\"\n                path={getOldPath()}\n                target=\"_blank\"\n              />\n            )}\n            <LinkButton\n              label=\"sectionTitle.masterData.approvalRequest.newValue\"\n              path={getNewPath()}\n              target=\"_blank\"\n            />\n          </div>\n        </>\n      )}\n      <DialogBox\n        onHide={() => {\n          setIsRejectClicked(false);\n          setIsApproveClicked(false);\n        }}\n        // visible={isRejectClicked || isApproveClicked}\n        visible={isRejectClicked}\n        modal\n        closable={false}\n        dismissableMask={true}\n        className=\"!w-132 !h-76.5\"\n      >\n        <Text\n          label={\n            isRejectClicked\n              ? \"dialogTitle.masterData.approvalRequest.reject\"\n              : \"dialogTitle.masterData.approvalRequest.approval\"\n          }\n          className=\"text-primary-ptext-1000 text-base font-Roboto font-bold flex items-center justify-center\"\n        />\n        {/* <Text\n          label=\"dialogTitle.masterData.approvalRequest.reason\"\n          className=\"text-primary-ptext-1000 text-xs font-Roboto flex mt text-left mx-2 mt-4\"\n        /> */}\n        <div>\n          <InputTextArea\n            className=\"border border-secondary-gray-200 rounded-md overflow-auto !w-120 !h-24 p-4 text-xs text-secondary-gray-500\"\n            value={pageObj.checkerComments}\n            onChange={handleInputChange}\n            name=\"checkerComments\"\n            label=\"dialogTitle.masterData.approvalRequest.reason\"\n            validation={simpleValidator.current.message(\n              \"checkerComments\",\n              pageObjFinal.checkerComments,\n              \"mandatory\"\n            )}\n            onBlur={validate}\n          />\n        </div>\n        <div className=\"flex justify-center mt-4\">\n          <div className=\"mr-3\">\n            <ButtonBox\n              buttonType={BUTTON_TYPE.CANCEL_OUTLINE}\n              onClick={() => {\n                setIsRejectClicked(false);\n                setIsApproveClicked(false);\n                resetValidator();\n              }}\n            />\n          </div>\n          <div className=\"mr-3\">\n            <ButtonBox\n              buttonType={isRejectClicked ? BUTTON_TYPE.REJECT_PRIMARY : BUTTON_TYPE.APPROVE}\n              onClickWithLoader={isRejectClicked ? onRejectClick : onApproveClick}\n              disabled={!pageObjFinal.checkerComments}\n            />\n          </div>\n        </div>\n      </DialogBox>\n      <div className=\"\">\n        <ToastCustom\n          position=\"bottom-right\"\n          ref={toastMessageRef}\n          toastText={toastMessage}\n          variant={TOAST_STYLE_TYPE.PRIMARY}\n          onRemove={() => props.navigate(linkApprovalRequests)}\n        />\n      </div>\n      <ErrorDialog\n        onHide={() => setShowDialogAPIError(false)}\n        visible={showDialogAPIError}\n        errorMessage={errorMessage}\n      />\n    </div>\n  );\n};\nexport default withRouter(PageApprovalRequest);\n"],"names":["PageApprovalRequest","props","uid","setUid","useState","isRejectClicked","setIsRejectClicked","isApproveClicked","setIsApproveClicked","errorMessage","setErrorMessage","reason","setReason","pageObj","setPageObj","pageObjFinal","setPageObjFinal","forceUpdate","toastMessage","setToastMessage","showDialogAPIError","setShowDialogAPIError","toastMessageRef","useRef","dataTable","setDataTable","dataTableRef","simpleValidator","SimpleReactValidator","getStandardValidator","messageReplace","prev","useEffect","parsed","queryString","getInitialData","res","ApprovalRequestService","error","_a","handleInputChange","event","name","value","onCancelClick","linkApprovalRequests","onApproveClick","APPROVAL_REQUEST_TOAST_TEXT","err","parseStandardAPIErrorMessage","onRejectClick","renderHeaderEntity","jsx","Label","renderEntity","rowData","convertEnumValueFromUpperCaseToFirstLetterUpperCase","renderHeaderName","renderName","renderHeaderMaker","renderMaker","renderHeaderCreatedOn","renderCreatedOn","formattedDateLong","renderHeaderOperation","renderOperation","renderHeaderChecker","renderChecker","renderHeaderCheckedOn","renderCheckedOn","renderHeaderStatus","renderStatus","getOldPath","initDataUid","ENTITY","linkAuthRoute","linkStaticMasterTypesCreateViewEdit","PAGE_MODE","REVIEW_MODE","linkUserManagementCreateViewEdit","linkProductIncomeSchemeCM","linkStaticMasterTypes","getNewPath","linkProductConfigurationProductsCreateViewEdit","OPERATION_TYPE","validate","e","resetValidator","jsxs","PageTitle","ButtonBox","BUTTON_TYPE","SectionTitle","ReadOnlyTable","Column","Text","Fragment","LinkButton","DialogBox","InputTextArea","ToastCustom","TOAST_STYLE_TYPE","ErrorDialog","PageApprovalRequest$1","withRouter"],"mappings":"wgCA6CA,MAAMA,GAAuBC,GAAsB,CAOjD,KAAM,CAACC,EAAKC,CAAM,EAAIC,WAAS,EAAE,EAC3B,CAACC,EAAiBC,CAAkB,EAAIF,WAAS,EAAK,EACtD,CAACG,GAAkBC,CAAmB,EAAIJ,WAAS,EAAK,EACxD,CAACK,EAAcC,CAAe,EAAIN,WAAS,EAAE,EAC7C,CAACO,EAAQC,CAAS,EAAIR,WAAc,EAAE,EACtC,CAACS,EAASC,CAAU,EAAIV,EAAA,SAAc,CAAE,CAAA,EACxC,CAACW,EAAcC,CAAe,EAAIZ,EAAA,SAAc,CAAE,CAAA,EAClD,CAAG,CAAAa,CAAW,EAAIb,WAA8B,MAAS,EACzD,CAACc,EAAcC,CAAe,EAAIf,WAAS,EAAE,EAC7C,CAACgB,EAAoBC,CAAqB,EAAIjB,WAAS,EAAK,EAC5DkB,EAAkBC,SAAO,IAAI,EAC7B,CAACC,EAAWC,CAAY,EAAIrB,WAAS,CACzC,MAAO,GACP,QAAS,GACT,aAAc,EACd,MAAO,EACP,OAAQ,GACR,eAAgB,GAChB,QAAS,CAAC,CAAA,CACX,EACKsB,EAAeH,SAAO,IAAI,EAC1BI,EAAkBJ,EAAA,OACtB,IAAIK,EAAqB,CACvB,WAAY,CAAE,GAAGC,GAAuB,EACxC,GAAGC,EAAe,EAClB,gBAAiB,CAAE,YAAa,IAAMb,EAAac,GAAS,CAACA,CAAI,CAAE,CAAA,CACpE,CAAA,EAQHC,EAAAA,UAAU,IAAM,CACd,MAAMC,EAEFC,GAAY,MAAMjC,EAAM,SAAS,MAAM,EACvCgC,GAAA,MAAAA,EAAQ,MAAOA,GAAA,YAAAA,EAAQ,OAAQ,SACjC9B,EAAO8B,EAAO,GAAG,EACJR,EAAA,CACX,GAAGD,EACH,OAAQ,OAAOS,EAAO,KAAA,CACvB,EAEL,EAAG,CAAE,CAAA,EACLD,EAAAA,UAAU,IAAM,CACV9B,GACaiC,GACjB,EACC,CAACjC,CAAG,CAAC,EAER,MAAMiC,EAAiB,SAAY,CACjC,MAAMC,EAAM,MAAMC,EAAuB,gCAAgC,EAAG,IAAK,QAAQnC,GAAK,EAC1F,GAAA,CACM,QAAA,IAAIkC,GAAA,YAAAA,EAAK,KAAM,UAAU,EAEjC,QAAQ,IAAIA,CAAG,EACLxB,EAAAwB,GAAA,YAAAA,EAAK,KAAK,eAAe,EAEnCtB,EAAWsB,GAAA,YAAAA,EAAK,IAAI,QACbE,GACP,QAAQ,IAAIA,CAAK,CACnB,CAAA,EAGFN,EAAAA,UAAU,IAAM,OACV9B,IAAQ,IAAMA,IAAQ,UAExBqC,EAAAb,GAAA,YAAAA,EAAc,UAAd,MAAAa,EAAuB,SACzB,EACC,CAACrC,CAAG,CAAC,EAER8B,EAAAA,UAAU,IAAM,OACVd,GAAgB,MAElBqB,EAAAjB,GAAA,YAAAA,EAAiB,UAAjB,MAAAiB,EAA0B,eAC5B,EACC,CAACrB,CAAY,CAAC,EACjBc,EAAAA,UAAU,IAAM,CACVvB,GACFY,EAAsB,EAAI,CAC5B,EACC,CAACZ,CAAY,CAAC,EAEjBuB,EAAAA,UAAU,IAAM,CACd,QAAQ,IAAI,QAAQ,CAAA,EACnB,CAACnB,EAAQ,eAAe,CAAC,EAMtB,MAAA2B,GAAqBC,GAAe,CACxC,KAAM,CAAE,KAAAC,EAAM,MAAAC,IAAUF,EAAM,OAEdzB,EAAA,CACd,GAAGH,EACH,gBAAiB8B,EAAA,CAClB,CAAA,EAYGC,EAAgB,IAAM,CAC1B3C,EAAM,SAAS4C,CAAoB,CAAA,EAG/BC,EAAiB,SACdT,EAAuB,eAAexB,EAAQ,IAAKE,CAAY,EACnE,KAAMqB,GAAQ,CACb5B,EAAoB,EAAK,EACzBW,EAAgB4B,EAA4B,QAAQ,CAAA,CACrD,EACA,MAAOC,GAAQ,CACEtC,EAAAuC,EAA6BD,CAAG,CAAC,CAAA,CAClD,EAGCE,GAAgB,SAAY,OAE5B,IADaX,EAAAZ,GAAA,YAAAA,EAAA,UAAA,MAAAY,EAAS,eAAe,mBACrC,GAACxB,GAAA,MAAAA,EAAc,iBAGnB,eAAQ,IAAIF,CAAO,EACZwB,EAAuB,cAAcxB,EAAQ,IAAKE,CAAY,EAClE,KAAMqB,GAAQ,CACb9B,EAAmB,EAAK,EACxBa,EAAgB4B,EAA4B,QAAQ,CAAA,CACrD,EACA,MAAOC,GAAQ,CACEtC,EAAAuC,EAA6BD,CAAG,CAAC,CAAA,CAClD,CAAA,EAiCCG,GAAqB,IAEvBC,EAAAA,IAAC,MAAI,CAAA,UAAU,OACb,SAAAA,EAAA,IAACC,GAAM,MAAM,gDAAgD,UAAU,MAAO,CAAA,CAChF,CAAA,EAIEC,GAAgBC,SAEjB,MAAI,CAAA,UAAU,mDACZ,SAAoDC,GAAAD,EAAQ,MAAM,CACrE,CAAA,EAIEE,GAAmB,IAErBL,EAAAA,IAAC,MAAI,CAAA,UAAU,OACb,SAAAA,EAAA,IAACC,GAAM,MAAM,8CAA8C,UAAU,MAAO,CAAA,CAC9E,CAAA,EAIEK,GAAcH,GACVH,EAAA,IAAA,MAAA,CAAI,UAAU,mDAAoD,WAAQ,IAAK,CAAA,EAGnFO,GAAoB,IAEtBP,EAAAA,IAAC,MAAI,CAAA,UAAU,OACb,SAAAA,EAAA,IAACC,GAAM,MAAM,+CAA+C,UAAU,MAAO,CAAA,CAC/E,CAAA,EAIEO,GAAeL,GAEjBH,EAAAA,IAAC,MAAI,CAAA,UAAU,OACb,SAAAA,MAAC,OAAI,UAAU,mDACZ,SAAQG,EAAA,iBAAA,CACX,CACF,CAAA,EAIEM,GAAwB,IAE1BT,EAAAA,IAAC,OAAI,UAAU,OACb,eAAC,IAAE,CAAA,UAAU,OAAO,SAAA,YAAU,CAAA,CAChC,CAAA,EAIEU,GAAmBP,SAEpB,MAAI,CAAA,UAAU,wDACZ,SAAkBQ,EAAAR,EAAQ,SAAS,CACtC,CAAA,EAIES,GAAwB,IACpBZ,EAAAA,IAAAC,EAAA,CAAM,MAAM,mDAAmD,UAAU,MAAO,CAAA,EAGpFY,GAAmBV,GAEpBH,EAAA,IAAA,MAAA,CAAI,UAAU,wDACZ,WAAQ,aACX,CAAA,EAIEc,GAAsB,IAClBd,EAAAA,IAAAC,EAAA,CAAM,MAAM,wCAAwC,UAAU,MAAO,CAAA,EAGzEc,GAAiBZ,GAElBH,EAAA,IAAA,MAAA,CAAI,UAAU,mDACZ,WAAQ,iBACX,CAAA,EAIEgB,GAAwB,IAE1BhB,EAAAA,IAAC,MAAI,CAAA,UAAU,OACb,SAAAA,EAAA,IAACC,GAAM,MAAM,yDAAyD,UAAU,MAAO,CAAA,CACzF,CAAA,EAIEgB,GAAmBd,GAErBH,EAAA,IAAC,OAAI,UAAU,wDACZ,YAAGW,EAAkBR,EAAQ,SAAS,GACzC,CAAA,EAIEe,GAAqB,IAEvBlB,EAAAA,IAAC,MAAI,CAAA,UAAU,OACb,SAAAA,EAAA,IAACC,GAAM,MAAM,sDAAsD,UAAU,MAAO,CAAA,CACtF,CAAA,EAIEkB,GAAgBhB,GAOjBH,EAAA,IAAA,MAAA,CAAI,UAAU,wDAAyD,0BAAS,MAAO,CAAA,EAItFoB,GAAa,IAAM,CACvB,QAAQ,IAAI3D,CAAO,EACnB,MAAM4D,EAAc,KAAK,MAAM5D,EAAQ,UAAU,EAAE,IAE/C,OAAAA,EAAQ,QAAU6D,EAAO,mBACpB,GAAGC,KAAiBC,UACzBC,EAAU,cACJhE,EAAQ,kBAAkBiE,EAAY,UAC5CjE,EAAQ,KAGRA,EAAQ,QAAU6D,EAAO,aACpB,GAAGC,KAAiBI,UAAyCF,EAAU,cAAchE,EAAQ,kBAAkBiE,EAAY,UAAUjE,EAAQ,KAElJA,EAAQ,QAAU6D,EAAO,cACpB,GAAGC,KAAiBK,UAAkCH,EAAU,cAAcJ,gBAA0BK,EAAY,UAAUjE,EAAQ,KAExIoE,EAAA,EAGHC,GAAa,IAAM,CAEnB,GAAArE,EAAQ,QAAU6D,EAAO,mBACpB,MAAA,GAAGC,KAAiBC,UAA4CC,EAAU,cAAchE,EAAQ,kBAAkBiE,EAAY,UAAUjE,EAAQ,KAErJ,GAAAA,EAAQ,QAAU6D,EAAO,aACpB,MAAA,GAAGC,KAAiBI,UAAyCF,EAAU,cAAchE,EAAQ,kBAAkBiE,EAAY,UAAUjE,EAAQ,KAElJ,GAAAA,EAAQ,QAAU6D,EAAO,cACpB,MAAA,GAAGC,KAAiBK,UAAkCH,EAAU,sBAAsBhE,EAAQ,kBAAkBiE,EAAY,UAAUjE,EAAQ,gBAAgBA,EAAQ,iBAE3K,GAAAA,EAAQ,QAAU6D,EAAO,QAC3B,MAAO,GAAGC,KAAiBQ,WACzBtE,EAAQ,eAAiBuE,EAAe,OAASP,EAAU,cAAgBA,EAAU,cAC/EhE,EAAQ,kBAAkBiE,EAAY,UAAUjE,EAAQ,IAClE,EAEIwE,GAAYC,GAAW,QACV/C,EAAAZ,GAAA,YAAAA,EAAA,UAAA,MAAAY,EAAS,eAAe,kBAAiB,EAEtDgD,GAAiB,IAAM,OACX5D,EAAA,QAAU,IAAIC,EAAqB,CACjD,WAAY,CAAE,GAAGC,GAAuB,EACxC,GAAGC,EAAe,EAClB,gBAAiB,CAAE,YAAa,IAAMb,EAAac,GAAS,CAACA,CAAI,CAAE,CAAA,CACpE,GACDQ,EAAAZ,GAAA,YAAAA,EAAiB,UAAjB,MAAAY,EAA0B,cAAa,EAIvC,OAAAiD,EAAA,KAAC,MAAI,CAAA,UAAU,sBACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,2CACb,SAAA,CAACpC,EAAAA,IAAAqC,GAAA,CAAU,MAAM,oCAAqC,CAAA,EAErD5E,EAAQ,QAAU,UAChB2E,EAAA,KAAA,MAAA,CAAI,UAAU,cACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,aACb,SAAA,CAAApC,EAAA,IAACsC,EAAU,CAAA,WAAYC,EAAY,eAAgB,QAAS/C,EAAe,EAC3EQ,EAAA,IAACsC,EAAA,CACC,WAAYC,EAAY,eACxB,QAAS,IAAM,CACbrF,EAAmB,EAAI,CACzB,CAAA,CACF,CAAA,EACF,EACA8C,EAAA,IAACsC,EAAA,CACC,UAAU,kBACV,WAAYC,EAAY,QACxB,kBAAmB7C,CAAA,CACrB,CAAA,CACF,CAAA,EAEAM,EAAAA,IAAC,MAAI,CAAA,UAAU,QACb,SAAAA,EAAAA,IAACsC,EAAU,CAAA,WAAYC,EAAY,cAAe,QAAS/C,CAAe,CAAA,EAC5E,CAAA,EAEJ,EACAQ,EAAAA,IAACwC,EAAa,CAAA,MAAM,iDAAkD,CAAA,EACtEJ,EAAA,KAACK,GAAA,CACC,0BAA2BxD,EAAuB,OAClD,QAAQ,KACR,OAAQ,QAAQnC,KAChB,IAAKwB,EACL,UAAW,GACX,UAAU,4HACV,MAAO,CAAE,MAAO,MAAO,EAEvB,SAAA,CAAA0B,EAAA,IAAC0C,EAAA,CACC,UAAU,2DACV,OAAQ3C,GACR,KAAMG,EAAA,CACR,EACAF,EAAA,IAAC0C,EAAA,CACC,UAAU,2DACV,OAAQrC,GACR,KAAMC,EAAA,CACR,EACAN,EAAA,IAAC0C,EAAA,CACC,UAAU,kEACV,OAAQnC,GACR,KAAMC,EAAA,CACR,EAEAR,EAAA,IAAC0C,EAAA,CACC,UAAU,2DACV,OAAQjC,GACR,KAAMC,EAAA,CACR,EACAV,EAAA,IAAC0C,EAAA,CACC,UAAU,2DACV,OAAQ9B,GACR,KAAMC,EAAA,CACR,EACAb,EAAA,IAAC0C,EAAA,CACC,UAAU,2DACV,OAAQ5B,GACR,KAAMC,EAAA,CACR,EACAf,EAAA,IAAC0C,EAAA,CACC,UAAU,2DACV,OAAQ1B,GACR,KAAMC,EAAA,CACR,EAEAjB,EAAA,IAAC0C,EAAA,CACC,UAAU,2DACV,OAAQxB,GACR,KAAMC,EAAA,CACR,CAAA,CAAA,CACF,EAEAiB,EAAAA,KAAC,MAAI,CAAA,UAAU,6BACb,SAAA,CAAAA,OAAC,MACC,CAAA,SAAA,CAAApC,EAAAA,IAAC,OAAI,UAAU,YACb,eAACwC,EAAa,CAAA,MAAM,iDAAiD,CACvE,CAAA,EACAxC,EAAAA,IAAC,MAAI,CAAA,UAAU,OACb,SAAAA,EAAA,IAAC2C,GAAK,MAAOpF,EAAQ,UAAU,6CAAA,CAA8C,CAC/E,CAAA,CAAA,EACF,EAECE,EAAQ,iBACP2E,EAAAA,KAAC,MACC,CAAA,SAAA,CAACpC,EAAAA,IAAA,MAAA,CAAI,UAAU,YACb,SAAAA,EAAA,IAACwC,EAAA,CACC,MACE/E,EAAQ,QAAU,WACd,kDACA,+CAAA,CAAA,EAGV,EACAuC,EAAAA,IAAC,MAAI,CAAA,UAAU,OACb,SAAAA,EAAA,IAAC2C,EAAA,CACC,MAAOlF,EAAQ,gBACf,UAAU,6CAAA,CAAA,EAEd,CAAA,EACF,CAAA,EAEJ,EAECA,EAAQ,QAAU,WAEf2E,EAAA,KAAAQ,EAAA,SAAA,CAAA,SAAA,CAAA5C,EAAAA,IAAC,OAAI,UAAU,YACb,eAACwC,EAAa,CAAA,MAAM,+CAA+C,CACrE,CAAA,EACAJ,EAAAA,KAAC,MAAI,CAAA,UAAU,6BACZ,SAAA,CAAQ3E,EAAA,eAAiBuE,EAAe,OACvChC,EAAA,IAAC2C,EAAA,CACC,MAAM,mDACN,UAAU,0GAAA,CAAA,EAGZ3C,EAAA,IAAC6C,EAAA,CACC,MAAM,mDACN,KAAMzB,GAAW,EACjB,OAAO,QAAA,CACT,EAEFpB,EAAA,IAAC6C,EAAA,CACC,MAAM,mDACN,KAAMf,GAAW,EACjB,OAAO,QAAA,CACT,CAAA,EACF,CAAA,EACF,EAEFM,EAAA,KAACU,GAAA,CACC,OAAQ,IAAM,CACZ5F,EAAmB,EAAK,EACxBE,EAAoB,EAAK,CAC3B,EAEA,QAASH,EACT,MAAK,GACL,SAAU,GACV,gBAAiB,GACjB,UAAU,iBAEV,SAAA,CAAA+C,EAAA,IAAC2C,EAAA,CACC,MACE1F,EACI,gDACA,kDAEN,UAAU,0FAAA,CACZ,QAKC,MACC,CAAA,SAAA+C,EAAA,IAAC+C,GAAA,CACC,UAAU,6GACV,MAAOtF,EAAQ,gBACf,SAAU2B,GACV,KAAK,kBACL,MAAM,gDACN,WAAYb,EAAgB,QAAQ,QAClC,kBACAZ,EAAa,gBACb,WACF,EACA,OAAQsE,EAAA,CAAA,EAEZ,EACAG,EAAAA,KAAC,MAAI,CAAA,UAAU,2BACb,SAAA,CAACpC,EAAAA,IAAA,MAAA,CAAI,UAAU,OACb,SAAAA,EAAA,IAACsC,EAAA,CACC,WAAYC,EAAY,eACxB,QAAS,IAAM,CACbrF,EAAmB,EAAK,EACxBE,EAAoB,EAAK,EACV+E,IACjB,CAAA,CAAA,EAEJ,EACAnC,EAAAA,IAAC,MAAI,CAAA,UAAU,OACb,SAAAA,EAAA,IAACsC,EAAA,CACC,WAAYrF,EAAkBsF,EAAY,eAAiBA,EAAY,QACvE,kBAAmBtF,EAAkB6C,GAAgBJ,EACrD,SAAU,CAAC/B,EAAa,eAAA,CAAA,EAE5B,CAAA,EACF,CAAA,CAAA,CACF,EACAqC,EAAAA,IAAC,MAAI,CAAA,UAAU,GACb,SAAAA,EAAA,IAACgD,GAAA,CACC,SAAS,eACT,IAAK9E,EACL,UAAWJ,EACX,QAASmF,GAAiB,QAC1B,SAAU,IAAMpG,EAAM,SAAS4C,CAAoB,CAAA,CAAA,EAEvD,EACAO,EAAA,IAACkD,GAAA,CACC,OAAQ,IAAMjF,EAAsB,EAAK,EACzC,QAASD,EACT,aAAAX,CAAA,CACF,CACF,CAAA,CAAA,CAEJ,EACe8F,GAAAC,GAAWxG,EAAmB"}