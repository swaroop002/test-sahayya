{"version":3,"file":"PageAssetDocumentCheck-f0428b47.js","sources":["../../src/components/ViewApiResponseDialog/ViewApiResponseDialog.tsx","../../src/views/transaction/PageDDE/QC/PageAssetDocumentCheck/DocumentCheck/DocumentCheck.tsx","../../src/views/transaction/PageDDE/QC/PageAssetDocumentCheck/PageAssetDocumentCheck.tsx"],"sourcesContent":["import ButtonBox from \"components/ButtonBox/ButtonBox\";\nimport DialogBox from \"components/Dialog/Dialog\";\nimport Label from \"components/Label/Label\";\nimport Text from \"components/Text/Text\";\nimport { useState } from \"react\";\nimport { copyData } from \"utils/CommonUtil\";\nimport { BUTTON_TYPE, INPUT_STYLE_TYPE } from \"utils/Constant\";\n\ninterface IDialogProps {\n  onHide: () => void;\n  visible: boolean;\n  data?: string;\n  header: string;\n  headerArgs: { [key: string]: string };\n}\nconst ViewApiResponseDialog = (props: IDialogProps) => {\n  const [isCopied, setIsCopied] = useState(false);\n\n  const { onHide, visible, data, header, headerArgs } = props;\n\n  const copyErrorData = () => {\n    setIsCopied(true);\n    copyData(data);\n  };\n\n  // const isMessageArray = Array.isArray(data);\n  return (\n    <DialogBox\n      onHide={onHide}\n      visible={visible}\n      modal\n      closable={false}\n      dismissableMask={true}\n      variant={INPUT_STYLE_TYPE.SECONDARY}\n    >\n      <div className=\"flex items-center justify-center\">\n        <Text\n          className=\"text-primary-primaryTextColor font-bold\"\n          label={header}\n          args={headerArgs}\n        />\n      </div>\n\n      <div className=\"flex ml-4 mt-6 mb-1.5\">\n        <Text label=\"label.qc.jsonResponse\" className=\"text-secondary-steelBlue-900 text-xs\" />\n      </div>\n      <div\n        className=\"border flex flex-col border-secondary-gray-200 rounded-md overflow-auto w-120 h-56 p-4 text-xs text-secondary-gray-500\"\n        id=\"errorDiv\"\n      >\n        <Text className=\"text-secondary-steelBlue-500 italic whitespace-pre\" label={data ?? \"\"} />\n      </div>\n      <div className=\"flex flex-row-reverse\">\n        <div onClick={copyErrorData}>\n          <Text\n            label={isCopied ? \"Copied\" : \"Copy\"}\n            className={\n              isCopied\n                ? \"text-primary-copiedTextColor cursor-pointer text-xs\"\n                : \" text-primary-copyTextColor cursor-pointer text-xs\"\n            }\n          />\n        </div>\n      </div>\n      <div className=\"flex justify-center \">\n        <ButtonBox buttonType={BUTTON_TYPE.CLOSE_OUTLINE} onClick={onHide} />\n      </div>\n    </DialogBox>\n  );\n};\n\nexport default ViewApiResponseDialog;\n","import { AxiosResponse } from \"axios\";\nimport AclGuard, { IAclGuardOverrideProps } from \"components/AclGuard/AclGuard\";\nimport { Column } from \"components/EditableTableV2/EditableTableV2\";\nimport ImagePreview from \"components/ImagePreview\";\nimport InputTextArea from \"components/InputTextArea/InputTextArea\";\nimport ReadOnlyTable from \"components/ReadOnlyTable/ReadOnlyTable\";\nimport RichTextEditor from \"components/RichTextEditor/RichTextEditor\";\nimport SaveComponent from \"components/Save/SaveComponent\";\nimport SimpleButton from \"components/SimpleButton/SimpleButton\";\nimport SimpleDropDown from \"components/SimpleDropDown/SimpleDropDown\";\nimport SkeletonCustom from \"components/Skeleton/Skeleton\";\nimport Text from \"components/Text/Text\";\nimport ToastCustom from \"components/Toast\";\nimport ViewApiResponseDialog from \"components/ViewApiResponseDialog/ViewApiResponseDialog\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { useTranslation } from \"react-i18next\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport {\n  formatDate,\n  formatDateWithTime,\n  formatJSON,\n  getStandardValidator,\n  messageReplace,\n  parseStandardAPIErrorMessage,\n} from \"utils/CommonUtil\";\nimport {\n  ACTIVE_TYPE,\n  BUTTON_STYLE_TYPE,\n  DOCUMENT_CHECK_CONFIG,\n  DOCUMENT_CHECK_TABLE_FIELDS,\n  DOCUMENT_CHECK_TYPE,\n  GENDER,\n  INPUT_STYLE_TYPE,\n  LOAN_STAGE_STATUS,\n  PAGE_MODE,\n  QC_DOCUMENT_TABLE_DATA_FORMAT,\n  QC_STATUS_LIST,\n  STATIC_MASTER_TYPE_TOAST_TEXT,\n  STATUS,\n  TOAST_POSITION,\n  TOAST_STYLE_TYPE,\n} from \"utils/Constant\";\nimport { DOCUMENT_CHECK_MODULE, IQcApplicantDocument, TDocumentCheckModule } from \"../PageAssetDocumentCheck\";\n\nexport type DocumentCheckType =\n  | \"MOBILE\"\n  | \"EPF\"\n  | \"CA\"\n  | \"GOOGLE_SEARCH\"\n  | \"PAN\"\n  | \"ADHAAR\"\n  | \"VOTER_ID\"\n  | \"PASSPORT\"\n  | \"DRIVERS_LICENSE\"\n  | `ELECTRICITY_BILL`\n  | \"GST\"\n  | \"ITR\"\n  | \"BANK_ACCOUNT\";\n\nexport type DocumentCheckTableRecordType =\n  | \"STRING\"\n  | \"DATE\"\n  | \"UNSIGNED_IMAGE\"\n  | \"BASE64_IMAGE\"\n  | \"GENDER\"\n  | \"ADDRESS\"\n  | \"BANK_TXN_STATUS\";\n\ninterface IProps {\n  // documentCode: keyof typeof DOCUMENT_CHECK_TYPE;\n  documentData: IQcApplicantDocument;\n  search: string;\n  getDetailsPromise: (search: string) => Promise<AxiosResponse<any>>;\n  initiateApiCheckPromise: (search: string) => Promise<AxiosResponse<any>>;\n  updateDocumentStatusPromise: (qcUid: string, payload: any) => Promise<AxiosResponse<any>>;\n  callbackForErrorMessage: (message: string, isOnLoad: boolean) => void;\n  module?: TDocumentCheckModule;\n  isSectionDisabled:boolean;\n}\nexport interface ITableRowConfig {\n  NAME: string;\n  VALUE: string;\n  FORMAT: string;\n}\nexport interface IDocumentCheckConfig {\n  CODE: keyof typeof DOCUMENT_CHECK_TYPE;\n  NAME: string;\n  ROWS: ITableRowConfig[];\n  HIDE_STATUS_AND_REMARK?: boolean;\n  SHOW_EDITOR?: boolean;\n  HIDE_API_CHECK?: boolean;\n}\n\ninterface ITableRowData {\n  name: string;\n  loggedInValues: string;\n  apiValues: string;\n  formatLoggedInValues: keyof typeof QC_DOCUMENT_TABLE_DATA_FORMAT;\n  formatApiValues: keyof typeof QC_DOCUMENT_TABLE_DATA_FORMAT;\n}\n\ninterface IPageObj {\n  table: ITableRowData[];\n  status: string;\n  remark: string;\n  customUserResponse: string;\n  isKyc?: boolean;\n  isApiCheckInitiated?: boolean;\n  updatedAt: string;\n  uid: string;\n  rawResponseData?: string;\n  isAutoApiInitiated?: boolean;\n  loadingForInitiateCheck?: boolean;\n}\ninterface IKarzaFormattedDta {\n  // need to confirm this\n  name?: string;\n  maskedAadhaarNumber?: string;\n  photo?: string;\n  dob?: string;\n  fathersName?: string;\n  address?: string;\n  gender?: string;\n  pincode?: string;\n  district?: string;\n  state?: string;\n  docNo?: string;\n  accountNo?: string;\n  ifsc?: string;\n  accountName?: string;\n  bankResponse?: string;\n  bankTxnStatus?: string;\n  memberStatus?: string;\n  mobileNo?: string;\n  email?: string;\n  surname?: string;\n}\n\ninterface IMenuModal {\n  className: string;\n  label: string;\n  command?: () => void;\n  code: keyof typeof MENU_OPTION_CODE;\n  disabled?: boolean;\n}\ntype TMenuOption = \"VIEW_RAW_RESPONSE\" | \"CLEAR_DATA\";\n\ninterface IEditorRef {\n  editor: {\n    getContent: () => void;\n  };\n}\n\nconst initialPageObj = {\n  table: [],\n  status: \"\",\n  remark: \"\",\n  textEditorData: \"\",\n  isKyc: false,\n  isApiCheckInitiated: false,\n  updatedAt: \"\",\n  uid: \"\",\n  customUserResponse: \"\",\n  rawResponseData: \"\",\n  loadingForAutoInitiate: false,\n  // editor:\n};\nconst MENU_OPTION_CODE: Record<TMenuOption, TMenuOption> = {\n  VIEW_RAW_RESPONSE: \"VIEW_RAW_RESPONSE\",\n  CLEAR_DATA: \"CLEAR_DATA\",\n};\n\nconst DocumentCheck = (props: IProps) => {\n  const { t } = useTranslation();\n  const {\n    documentData,\n    getDetailsPromise,\n    initiateApiCheckPromise,\n    search,\n    updateDocumentStatusPromise,\n    callbackForErrorMessage,\n    // module,\n    isSectionDisabled\n  } = props;\n  const params: { loanUid?: string } = useParams();\n  const qcStatus = useSelector((state: any) => state?.LoanReducers?.loanObj?.qcStatus);\n  /*\n    -------------------------------------------------------\n      State\n    ---------------------------------s----------------------\n    */\n  const [isLoading, setIsLoading] = useState(false);\n  const [pageMode, setPageMode] = useState(PAGE_MODE.VIEW);\n  const [pageObj, setPageObj] = useState<IPageObj>({ ...initialPageObj });\n  const [, forceUpdate] = useState<boolean>(false);\n  const [documentConfig, setDocumentConfig] = useState<IDocumentCheckConfig | null>(null);\n  // const [errorMessage, setErrorMessage] = useState(\"\");\n  const [showRawResponseDialog, setShowRawResponseDialog] = useState<boolean>(false);\n  // const [showDialogAPIError, setShowDialogAPIError] = useState(false);\n  const [toastMessage, setToastMessage] = useState(\"\");\n  const [menuModel, setMenuModel] = useState<IMenuModal[]>([\n    {\n      code: MENU_OPTION_CODE.VIEW_RAW_RESPONSE,\n      className: \"\",\n      label: \"View API Raw Response\",\n      command: () => {\n        onViewRawResponse?.();\n      },\n    },\n    {\n      code: MENU_OPTION_CODE.CLEAR_DATA,\n      className: \"\",\n      label: \"Clear Data\",\n      // disabled: module===DOCUMENT_CHECK_MODULE?.CAM,\n    },\n  ]);\n\n  const simpleValidator: any = useRef(\n    new SimpleReactValidator({\n      validators: { ...getStandardValidator() },\n      ...messageReplace(),\n      autoForceUpdate: { forceUpdate: () => forceUpdate((prev) => !prev) },\n    })\n  );\n  const comparisonTableRef = useRef<any>(null);\n  const toastMessageRef = useRef(null);\n  const editorRef = useRef<IEditorRef>(null);\n\n  // --------------------------- global variables ---------------------- //\n  const isFirstRender = true;\n  /*\n    -------------------------------------------------------\n      useEffect\n    -------------------------------------------------------\n  */\n\n  useEffect(() => {\n    const { section } = documentData;\n    if (section) {\n      const document: IDocumentCheckConfig = DOCUMENT_CHECK_CONFIG?.[section];\n      setDocumentConfig((prevConfig) => ({ ...prevConfig, ...document }));\n      // Remove Raw api response for google search\n      if (document.HIDE_API_CHECK) {\n        setMenuModel((prevData) => {\n          let updatedMenuOptions = [...prevData];\n          updatedMenuOptions = updatedMenuOptions.filter(\n            (option: IMenuModal) => option.code === MENU_OPTION_CODE.CLEAR_DATA\n          );\n          return updatedMenuOptions;\n        });\n      }\n      getDocumentDetails(document);\n    }\n  }, [documentData?.residentialAddress]);\n\n  useEffect(() => {\n    if (!isSectionDisabled && pageObj.isAutoApiInitiated && !pageObj.isApiCheckInitiated) {\n      if (documentConfig !== null) {\n        onInitiateApiCheck(true);\n      }\n    }\n  }, [pageObj.isApiCheckInitiated, pageObj.isAutoApiInitiated]);\n\n  useEffect(() => {\n    if (toastMessageRef?.current && toastMessage !== \"\") {\n      // @ts-ignore: will be fixed in future\n      toastMessageRef?.current?.showFunction();\n    }\n  }, [toastMessage]);\n\n  /*\n    -------------------------------------------------------\n      Service Calls\n    -------------------------------------------------------\n  */\n\n  const onInitiateApiCheck = async (isAutoInitiate?: boolean) => {\n    // if (isAutoInitiate) {\n      setPageObj((prevObj) => ({ ...prevObj, loadingForInitiateCheck: true }));\n    // };\n\n    try {\n      await initiateApiCheckPromise?.(pageObj?.uid ?? \"\");\n      setPageObj((prevObj) => ({ ...prevObj, loadingForInitiateCheck: false }));\n      if (documentConfig) {\n        getDocumentDetails(documentConfig, !isAutoInitiate ? true : false);\n      }\n    } catch (error) {\n      console.log(\"err\");\n      setPageObj((prevObj) => ({ ...prevObj, loadingForInitiateCheck: false }));\n      callbackForErrorMessage?.(parseStandardAPIErrorMessage(error), isAutoInitiate ? true : false);\n    }\n  };\n\n  const getDocumentDetails = async (document: IDocumentCheckConfig, hideLoader?: boolean) => {\n    const tableRows: ITableRowData[] = [];\n    if (!hideLoader) {\n      setIsLoading(true);\n    }\n    try {\n      const response = await getDetailsPromise?.(search);\n      if (pageMode === PAGE_MODE.EDIT || pageMode === PAGE_MODE.CREATE) {\n        setPageMode(PAGE_MODE.VIEW);\n      }\n      setIsLoading(false);\n      updatePageObj(response.data, document);\n\n      setMenuModel((prevMenuModel: IMenuModal[]) => {\n        const updatedMenuModel = [...prevMenuModel];\n        const clearDataOptionIndex = updatedMenuModel.findIndex(\n          (option: IMenuModal) => option.code === MENU_OPTION_CODE.CLEAR_DATA\n        );\n        if (clearDataOptionIndex > -1) {\n          updatedMenuModel[clearDataOptionIndex] = {\n            ...updatedMenuModel[clearDataOptionIndex],\n            command: () => {\n              onClearData(response?.data?.uid);\n            },\n          };\n        }\n        return updatedMenuModel;\n      });\n    } catch (error) {\n      console.log(\"err\");\n      // fallback\n      callbackForErrorMessage(parseStandardAPIErrorMessage(error), true);\n      if (document.SHOW_EDITOR !== true) {\n        // true for table . false for editor\n        for (const tableRow of document.ROWS) {\n          tableRows.push({\n            name: tableRow.NAME,\n            apiValues: \"\",\n            loggedInValues: \"\",\n            formatApiValues: \"STRING\",\n            formatLoggedInValues: \"STRING\",\n          });\n        }\n        setIsLoading(false);\n        setPageObj((prevPageObj) => ({\n          ...prevPageObj,\n          table: tableRows,\n        }));\n      }\n    }\n  };\n\n  /*\n    -------------------------------------------------------\n      Handlers\n    -------------------------------------------------------\n  */\n  const onClearData = (uid: string) => {\n    onSave({ clearData: true, uid: uid });\n  };\n\n  const onEdit = () => setPageMode(PAGE_MODE.EDIT);\n\n  const onCancel = () => {\n    setPageMode(PAGE_MODE.VIEW);\n    simpleValidator.current.visibleFields = [];\n    simpleValidator?.current?.hideMessages();\n    if (documentConfig?.CODE) {\n      getDocumentDetails(documentConfig, true);\n    }\n  };\n\n  const onSave = async (option?: { clearData?: boolean; uid?: string }) => {\n    const qcUid = option?.clearData ? option?.uid : pageObj?.uid;\n    if (!option?.clearData && !validateForm()) {\n      return;\n    }\n    const enrichObj = enrichForUpdateDocument(option?.clearData);\n    try {\n      await updateDocumentStatusPromise(qcUid ?? \"\", enrichObj);\n      if (documentConfig?.CODE) {\n        getDocumentDetails(documentConfig, true);\n      }\n      setToastMessage(STATIC_MASTER_TYPE_TOAST_TEXT.SAVED);\n    } catch (error) {\n      callbackForErrorMessage(parseStandardAPIErrorMessage(error), false);\n    }\n  };\n\n  const handleInputChange = (e: any) => {\n    setPageObj((prevPageObj) => ({\n      ...prevPageObj,\n      [e.target.name]: e.target.value,\n    }));\n  };\n\n  // const handleEditorChange = (event: any) => {\n  //   setPageObj((prevState) => {\n  //     return {\n  //       ...prevState,\n  //       customUserResponse: event?.level?.content,\n  //     };\n  //   });\n  // };\n\n  const onViewRawResponse = () => {\n    setShowRawResponseDialog(true);\n  };\n\n  const onHideViewResponseDialog = () => {\n    setPageObj((prevPageObj) => ({\n      ...prevPageObj,\n    }));\n    setShowRawResponseDialog(false);\n  };\n\n  /* \n    --------------------------------------------------------\n    Validators:\n    --------------------------------------------------------\n  */\n  const validate = (e: any) => {\n    simpleValidator?.current?.showMessageFor(e?.target?.name);\n  };\n\n  const validateForm = () => {\n    let isValid = false;\n    isValid = simpleValidator?.current?.allValid() ?? false;\n    if (isValid) {\n      return isValid;\n    } else {\n      forceUpdate((prev) => !prev);\n      simpleValidator?.current?.showMessages();\n      forceUpdate((prev) => !prev);\n      return false;\n    }\n  };\n\n  /*\n    -------------------------------------------------------\n      Button Click Handlers\n    -------------------------------------------------------\n  */\n\n  /*\n    -------------------------------------------------------\n      Helper Functions\n    -------------------------------------------------------\n  */\n\n  const getSaveComponentMenuOptions = () => {\n    if (documentConfig?.HIDE_API_CHECK) {\n      return menuModel;\n    }\n    return pageObj.isApiCheckInitiated ? menuModel : undefined;\n  };\n  const enrichForUpdateDocument = (clearData?: boolean) => {\n    if (clearData) {\n      return {\n        loan: {\n          uid: params?.loanUid,\n        },\n        status: \"\",\n        remark: \"\",\n        ...(documentConfig?.SHOW_EDITOR ? { customUserResponse: \"\" } : undefined),\n      };\n    }\n    return {\n      loan: {\n        uid: params?.loanUid,\n      },\n      status: pageObj?.status ?? \"\",\n      remark: pageObj?.remark ?? \"\",\n      ...(documentConfig?.SHOW_EDITOR\n        ? { customUserResponse: editorRef?.current?.editor?.getContent?.() ?? \"\" }\n        : undefined),\n    };\n  };\n  const getFormattedRowValues = (\n    value: string | boolean,\n    requiredFormat: keyof typeof QC_DOCUMENT_TABLE_DATA_FORMAT\n  ) => {\n    switch (requiredFormat) {\n      case QC_DOCUMENT_TABLE_DATA_FORMAT.DATE:\n        return <span>{formatDate(value)}</span>;\n      case QC_DOCUMENT_TABLE_DATA_FORMAT.GENDER:\n        return typeof value === \"string\" ? <span>{GENDER?.[value]?.LABEL ?? \"\"}</span> : null;\n      case QC_DOCUMENT_TABLE_DATA_FORMAT.UNSIGNED_IMAGE:\n        return (\n          <>\n            {typeof value === \"string\" && value ? (\n              <div className=\"flex items-center w-30 h-auto mb-3\">\n                <ImagePreview url={value} className=\"w-25 h-28\" />\n              </div>\n            ) : null}\n          </>\n        );\n      case QC_DOCUMENT_TABLE_DATA_FORMAT.BASE64_IMAGE:\n        return (\n          <>\n            {value ? (\n              <div className=\"flex items-center w-25 h-auto mb-3\">\n                <img src={`data:image/png;base64,${value}`} alt=\"i\" />\n              </div>\n            ) : null}\n          </>\n        );\n      case QC_DOCUMENT_TABLE_DATA_FORMAT.STRING:\n        return <span>{value}</span>;\n      case QC_DOCUMENT_TABLE_DATA_FORMAT.BANK_TXN_STATUS:\n        return (\n          <span>\n            {value === STATUS.TRUE\n              ? ACTIVE_TYPE.ACTIVE\n              : value === STATUS.FALSE\n              ? ACTIVE_TYPE.INACTIVE\n              : null}\n          </span>\n        );\n      default:\n        return <span>{value}</span>;\n    }\n  };\n\n  const getStructuredKarzaData = (section: DocumentCheckType, stringifiedData: any) => {\n    const parsedData = JSON.parse(stringifiedData ?? \"\");\n    const { result: data } = parsedData;\n\n    let formattedData: IKarzaFormattedDta = {};\n    switch (section) {\n      case DOCUMENT_CHECK_TYPE.ADHAAR:\n        formattedData = {\n          ...formattedData,\n          name: parsedData?.validationResponse?.result?.dataFromAadhaar?.name ?? \"\",\n          fathersName: parsedData?.validationResponse?.result?.dataFromAadhaar?.fatherName ?? \"\",\n          maskedAadhaarNumber:\n            parsedData?.validationResponse?.result?.dataFromAadhaar?.maskedAadhaarNumber ?? \"\",\n          photo: parsedData?.validationResponse?.result?.dataFromAadhaar?.image ?? \"\",\n          dob: parsedData?.validationResponse?.result?.dataFromAadhaar?.dob ?? \"\",\n          gender: parsedData?.validationResponse?.result?.dataFromAadhaar?.gender ?? \"\",\n          address:\n            parsedData?.validationResponse?.result?.dataFromAadhaar?.address?.combinedAddress ?? \"\",\n          pincode:\n            parsedData?.validationResponse?.result?.dataFromAadhaar?.address?.splitAddress\n              ?.pincode ?? \"\",\n          district:\n            parsedData?.validationResponse?.result?.dataFromAadhaar?.address?.splitAddress\n              ?.district ?? \"\",\n          state:\n            parsedData?.validationResponse?.result?.dataFromAadhaar?.address?.splitAddress?.state ??\n            \"\",\n          //combined address is missing\n        };\n        console.log(\"formattedData \", formattedData);\n\n        break;\n      case DOCUMENT_CHECK_TYPE.PAN:\n        formattedData = {\n          ...formattedData,\n          name: data?.name ?? \"\",\n        };\n        break;\n      case DOCUMENT_CHECK_TYPE.VOTER_ID:\n        formattedData = {\n          ...formattedData,\n          name: data?.name ?? \"\",\n          gender: data?.gender ?? \"\",\n          dob: data?.dob ?? \"\",\n          pincode: data?.pin ?? \"\",\n          district: data?.district ?? \"\",\n          state: data?.state ?? \"\",\n        };\n        break;\n      case DOCUMENT_CHECK_TYPE.DRIVERS_LICENSE:\n        formattedData = {\n          ...formattedData,\n          name: data?.name ?? \"\",\n          photo: data?.img ?? \"\",\n          dob: data?.dob ?? \"\",\n          docNo: data?.dlNumber ?? \"\",\n          address: data?.address?.[0]?.completeAddress ?? \"\",\n          pincode: data?.address?.[0]?.pin ?? \"\",\n          district: data?.address?.[0]?.district ?? \"\",\n          state: data?.address?.[0]?.state ?? \"\",\n        };\n        break;\n      case DOCUMENT_CHECK_TYPE.PASSPORT:\n        formattedData = {\n          ...formattedData,\n          docNo: data?.passportNumber?.passportNumberFromSource ?? \"\",\n          name: data?.name?.nameFromPassport ?? \"\",\n          surname: data?.name?.surnameFromPassport ?? \"\",\n        };\n        break;\n      case DOCUMENT_CHECK_TYPE.BANK_ACCOUNT:\n        formattedData = {\n          ...formattedData,\n          accountNo: data?.data?.source?.[0]?.data?.accountNumber ?? \"\",\n          ifsc: data?.data?.source?.[0]?.data?.ifsc ?? \"\",\n          accountName: data?.data?.source?.[0]?.data?.accountName ?? \"\",\n          bankResponse: data?.data?.source?.[0]?.data?.bankResponse ?? \"\",\n          bankTxnStatus: data?.data?.source?.[0]?.data?.bankTxnStatus ?? \"\",\n        };\n        break;\n      case DOCUMENT_CHECK_TYPE.CA:\n        formattedData = {\n          ...formattedData,\n          name: data?.name ?? \"\",\n          address: data?.address ?? \"\",\n          gender: data?.gender ?? \"\",\n          memberStatus: data?.memberStatus ?? \"\",\n          mobileNo: data?.mobileNo ?? \"\",\n          email: data?.email ?? \"\",\n        };\n        break;\n      case DOCUMENT_CHECK_TYPE.MOBILE:\n        formattedData = {\n          ...formattedData,\n          name: data?.identity?.name ?? \"\",\n          gender: data?.identity?.gender ?? \"\",\n          dob: data?.identity?.date_of_birth ?? \"\",\n          address: data?.contact?.address ?? \"\",\n        };\n        break;\n\n      default:\n        break;\n    }\n    return formattedData;\n  };\n  const updatePageObj = (data: any, config: IDocumentCheckConfig) => {\n    setPageObj((prevObj: IPageObj) => {\n      let updatedPageObj: IPageObj | any = {};\n      const tableData: ITableRowData[] = [];\n      const { residentialAddress, applicantName } = documentData;\n      //  tableData =\n      let parsedKarzaData: IKarzaFormattedDta = {};\n      let karzaDataJson = \"{}\";\n      const defaultCustomResponse = ` <p>${applicantName ?? \"\"} arrested </p>\n      <p>${applicantName ?? \"\"} Police case </p>\n      <p> ${applicantName ?? \"\"} Criminal case </p>\n      <p> ${applicantName ?? \"\"} Suit filed </p>\n      <p> ${applicantName ?? \"\"} defaulter  </p>\n      <p> ${applicantName ?? \"\"} sec. 138 </p>\n      <p> ${applicantName ?? \"\"} Court Case  </p>\n      <p> ${applicantName ?? \"\"} MYNETA </p>\n      <p> ${applicantName ?? \"\"} Politics </p>\n      <p> ${applicantName ?? \"\"} Facebook </p>`;\n      let customResponse = \"\";\n\n      if (config.CODE === DOCUMENT_CHECK_TYPE.GOOGLE_SEARCH && data?.customUserResponse === null) {\n        customResponse = defaultCustomResponse;\n      } else {\n        customResponse = data?.customUserResponse ?? \"\";\n      }\n\n      if (!config?.SHOW_EDITOR) {\n        // parsedKarzaData = getParsedKarzaData(config.CODE);\n        //check karza data for Aadhar\n        if (config?.CODE === DOCUMENT_CHECK_TYPE.ADHAAR && data?.kyc?.meta) {\n          karzaDataJson = data?.kyc?.meta;\n          parsedKarzaData = { ...getStructuredKarzaData(config.CODE, data?.kyc?.meta) };\n        } else {\n          //check karza data other docs\n          if (data?.externalApiRequest?.parsedResponse) {\n            karzaDataJson = data?.externalApiRequest?.parsedResponse;\n            parsedKarzaData = {\n              ...getStructuredKarzaData(config.CODE, data?.externalApiRequest?.parsedResponse),\n            };\n          }\n        }\n\n        for (const row of config.ROWS) {\n          switch (row.VALUE) {\n            case DOCUMENT_CHECK_TABLE_FIELDS.NAME.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.NAME.NAME,\n                loggedInValues: `${data?.applicant?.firstName ?? \"\"} ${\n                  data?.applicant?.middleName ?? \"\"\n                } ${data?.applicant?.lastName ?? \"\"}`,\n                apiValues: parsedKarzaData?.name ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n              });\n              break;\n            case DOCUMENT_CHECK_TABLE_FIELDS.SURNAME.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.SURNAME.NAME,\n                loggedInValues: `${data?.applicant?.lastName ?? \"\"}`,\n                apiValues: parsedKarzaData?.surname ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n              });\n              break;\n            case DOCUMENT_CHECK_TABLE_FIELDS.FATHERS_NAME.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.FATHERS_NAME.NAME,\n                loggedInValues: data?.applicant?.fatherOrSpouseName ?? \"\",\n                apiValues: parsedKarzaData?.fathersName ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n              });\n              break;\n\n            case DOCUMENT_CHECK_TABLE_FIELDS.MOBILE_NO.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.MOBILE_NO.NAME,\n                loggedInValues: data?.applicant?.mobileNo ?? \"\",\n                apiValues: parsedKarzaData?.mobileNo ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n              });\n              break;\n            case DOCUMENT_CHECK_TABLE_FIELDS.EMAIL.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.EMAIL.NAME,\n                loggedInValues: data?.applicant?.emaiId ?? \"\",\n                apiValues: parsedKarzaData?.email ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n              });\n              break;\n            case DOCUMENT_CHECK_TABLE_FIELDS.PHOTO.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.PHOTO.NAME,\n                loggedInValues: `${data?.applicant?.applicantUrl}`,\n                apiValues: parsedKarzaData?.photo ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.UNSIGNED_IMAGE,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.BASE64_IMAGE,\n              });\n              break;\n            case DOCUMENT_CHECK_TABLE_FIELDS.MASKED_AADHAAR_NUMBER.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.MASKED_AADHAAR_NUMBER.NAME,\n                loggedInValues: data?.kyc?.maskedDocNo??`-`,\n                apiValues: parsedKarzaData?.maskedAadhaarNumber ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n              });\n              break;\n            case DOCUMENT_CHECK_TABLE_FIELDS.DOB.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.DOB.NAME,\n                loggedInValues: data?.applicant?.dateOfBirth,\n                apiValues: parsedKarzaData?.dob ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.DATE,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.DATE,\n              });\n              break;\n            case DOCUMENT_CHECK_TABLE_FIELDS.GENDER.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.GENDER.NAME,\n                loggedInValues: data?.applicant?.smGender,\n                apiValues: parsedKarzaData?.gender ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.GENDER,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n              });\n              break;\n            case DOCUMENT_CHECK_TABLE_FIELDS.ADDRESS.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.ADDRESS.NAME,\n                loggedInValues: residentialAddress?.address ?? \"\",\n                apiValues: parsedKarzaData?.address ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n              });\n              break;\n            case DOCUMENT_CHECK_TABLE_FIELDS.PINCODE.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.PINCODE.NAME,\n                loggedInValues: residentialAddress?.pincode ?? \"\",\n                apiValues: parsedKarzaData?.pincode ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n              });\n              break;\n            case DOCUMENT_CHECK_TABLE_FIELDS.DISTRICT.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.DISTRICT.NAME,\n                loggedInValues: residentialAddress?.district ?? \"\",\n                apiValues: parsedKarzaData?.district ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n              });\n              break;\n            case DOCUMENT_CHECK_TABLE_FIELDS.STATE.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.STATE.NAME,\n                loggedInValues: residentialAddress?.state ?? \"\",\n                apiValues: parsedKarzaData?.state ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n              });\n              break;\n\n            case DOCUMENT_CHECK_TABLE_FIELDS.DL_NUMBER.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.DL_NUMBER.NAME,\n                loggedInValues: data?.kyc?.docNo ?? \"\",\n                apiValues: parsedKarzaData?.docNo ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n              });\n              break;\n            case DOCUMENT_CHECK_TABLE_FIELDS.PASSPORT_NUMBER.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.PASSPORT_NUMBER.NAME,\n                loggedInValues: data?.kyc?.docNo ?? \"\",\n                apiValues: parsedKarzaData?.docNo ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n              });\n              break;\n\n            case DOCUMENT_CHECK_TABLE_FIELDS.ACCOUNT_HOLDER_NAME.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.ACCOUNT_HOLDER_NAME.NAME,\n                loggedInValues: data?.bankingDetail?.accountHolderName ?? \"\",\n                apiValues: parsedKarzaData?.accountName ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n              });\n              break;\n\n            case DOCUMENT_CHECK_TABLE_FIELDS.ACCOUNT_NUMBER.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.ACCOUNT_NUMBER.NAME,\n                loggedInValues: data?.bankingDetail?.accountNo ?? \"\",\n                apiValues: parsedKarzaData?.accountNo ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n              });\n              break;\n            case DOCUMENT_CHECK_TABLE_FIELDS.IFSC_CODE.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.IFSC_CODE.NAME,\n                loggedInValues: data?.bankingDetail?.ifsc?.ifscCode ?? \"\",\n                apiValues: parsedKarzaData?.ifsc ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n              });\n              break;\n            case DOCUMENT_CHECK_TABLE_FIELDS.BANK_RESPONSE.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.BANK_RESPONSE.NAME,\n                loggedInValues: \"-\",\n                apiValues: parsedKarzaData?.bankResponse ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n              });\n              break;\n            case DOCUMENT_CHECK_TABLE_FIELDS.BANK_TXN_STATUS.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.BANK_TXN_STATUS.NAME,\n                loggedInValues: \"-\",\n                apiValues: parsedKarzaData?.bankTxnStatus ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.BANK_TXN_STATUS,\n              });\n              break;\n            case DOCUMENT_CHECK_TABLE_FIELDS.MEMBER_STATUS.VALUE:\n              tableData.push({\n                name: DOCUMENT_CHECK_TABLE_FIELDS.MEMBER_STATUS.NAME,\n                loggedInValues: \"-\",\n                apiValues: parsedKarzaData?.memberStatus ?? \"\",\n                formatLoggedInValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n                formatApiValues: QC_DOCUMENT_TABLE_DATA_FORMAT.STRING,\n              });\n              break;\n\n            default:\n              break;\n          }\n        }\n      }\n\n      updatedPageObj = {\n        ...prevObj,\n        table: tableData,\n        status: data?.status,\n        remark: data?.remark,\n        isApiCheckInitiated: data?.isApiCheckInitiated,\n        isKyc: data?.isKyc,\n        isAutoApiInitiated: data?.isAutoApiInitiated,\n        updatedAt: data?.updatedAt,\n        uid: data?.uid,\n        customUserResponse: customResponse,\n        rawResponseData: formatJSON(JSON.parse(karzaDataJson)),\n      };\n\n      return updatedPageObj;\n    });\n  };\n\n  /*\n    -------------------------------------------------------\n      Sectional Rendering\n    -------------------------------------------------------\n  */\n  const renderTableField = (rowData: ITableRowData) => {\n    return <span>{rowData?.name}</span>; \n  };\n  const renderTableLoggedInValues = (rowData: ITableRowData) => {\n    return getFormattedRowValues(rowData?.loggedInValues, rowData.formatLoggedInValues);\n  };\n  const renderApiValues = (rowData: ITableRowData) => {\n    return getFormattedRowValues(rowData?.apiValues, rowData.formatApiValues);\n  };\n\n  const renderSaveComponentHeader = () => {\n    return (\n      <div className=\"flex justify-between items-center flex-grow mr-8 \">\n        <div className=\"flex flex-col\">\n          <Text\n            className=\"text-primary-sideBarBgColor font-medium text-base\"\n            label=\"label.qc.DocumentName\"\n            args={{ documentName: documentConfig?.NAME }}\n          />\n          <Text\n            className=\"text-primary-gray-20 text-xs\"\n            label={t(`Date of check - ${formatDateWithTime(pageObj?.updatedAt)}`)}\n          />\n        </div>\n        {!documentConfig?.HIDE_API_CHECK ? (\n          <div className=\"w-39 \">\n            <SimpleButton\n              label=\"label.qc.initiateApiCheck\"\n              variant={BUTTON_STYLE_TYPE.SECONDARY}\n              onClickWithLoader={onInitiateApiCheck}\n              loadFromParent={pageObj.loadingForInitiateCheck}\n              disabled={pageObj.loadingForInitiateCheck || pageMode===PAGE_MODE.EDIT || isSectionDisabled}\n            />\n          </div>\n        ) : null}\n      </div>\n    );\n  };\n\n  const renderTable = () => {\n    return (\n      <ReadOnlyTable\n        //standardDataFormatPromise={FeeService.getFeeList}\n        // search={`&loan.uid=${params.loanUid}`}\n        value={pageObj.table}\n        ref={comparisonTableRef}\n        dataKey=\"uid\"\n        className=\" border-x-0  rounded-none document-check-table \"\n        hidePaginator\n      >\n        <Column\n          className=\"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6\"\n          header={\"Field\"}\n          body={renderTableField}\n        />\n        <Column\n          className=\" text-primary-ptext-1000 text-left w-84  text-xs  p-1 h-12 pl-6\"\n          header={\"Logged In Values\"}\n          body={renderTableLoggedInValues}\n        />\n        <Column\n          className=\"text-primary-ptext-1000 text-left w-84  text-xs  p-1 h-12 pl-6\"\n          header={\"API Value\"}\n          body={renderApiValues}\n        />\n      </ReadOnlyTable>\n    );\n  };\n\n  const renderStatusAndRemark = () => {\n    return (\n      <div className=\" grid grid-cols-3 gap-4  p-5   rounded-b-xl \">\n        <div className=\"\">\n          <SimpleDropDown\n            label=\"input.masterData.approvalRequestSearch.status\"\n            name=\"status\"\n            value={pageObj.status}\n            options={QC_STATUS_LIST}\n            optionLabel=\"label\"\n            optionValue=\"value\"\n            onBlur={validate}\n            onChange={handleInputChange}\n            validation={simpleValidator?.current?.message(\"status\", pageObj.status, \"mandatory\")}\n            disabled={pageMode === PAGE_MODE.VIEW}\n          />\n        </div>\n        <div className=\"col-span-2\">\n          <InputTextArea\n            name=\"remark\"\n            className=\"!h-full\"\n            label=\"label.crifDetails.enquiryByLenders.thead.remark\"\n            placeholder={\"\"}\n            variant={INPUT_STYLE_TYPE.SECONDARY}\n            maxCount={200}\n            onChange={handleInputChange}\n            value={pageObj.remark}\n            // onBlur={validate}\n            // validation={simpleValidator?.current?.message(\"remark\", pageObj.remark, \"mandatory\")}\n            disabled={pageMode === PAGE_MODE.VIEW}\n          />\n        </div>\n      </div>\n    );\n  };\n\n  const renderContent = () => {\n    switch (documentData.section) {\n      case DOCUMENT_CHECK_CONFIG.ADHAAR.CODE:\n      case DOCUMENT_CHECK_CONFIG.PAN.CODE:\n      case DOCUMENT_CHECK_CONFIG.VOTER_ID.CODE:\n      case DOCUMENT_CHECK_CONFIG.PASSPORT.CODE:\n      case DOCUMENT_CHECK_CONFIG.DRIVERS_LICENSE.CODE:\n      case DOCUMENT_CHECK_CONFIG.MOBILE.CODE:\n      case DOCUMENT_CHECK_CONFIG.BANK_ACCOUNT.CODE:\n        return (\n          <div className=\"mt-5\">\n            {renderTable()}\n            {renderStatusAndRemark()}\n          </div>\n        );\n\n      default:\n        return (\n          <div className=\"mt-7\">\n            {/* <Text className=\" text-primary-labelColor text-xs ml-5\" label=\"label.response\" /> */}\n            <div className=\" document-check-Editor\">\n              <RichTextEditor\n                height={200}\n                ref={editorRef}\n                initialValue={pageObj?.customUserResponse ?? \"\"}\n                contentClasses={\"w-full\"}\n                // onChange={handleEditorChange}\n                disabled={pageMode === PAGE_MODE.VIEW}\n              />\n            </div>\n            {renderStatusAndRemark()}\n          </div>\n        );\n    }\n  };\n\n  /*\n    -------------------------------------------------------\n    Main Rendering\n    -------------------------------------------------------\n  */\n  return (\n    <div className=\"mt-5\">\n      {isLoading ? (\n        <SkeletonCustom height=\"19.375rem\" width=\"100%\" borderRadius=\"8px\" animation=\"wave\" />\n      ) : (\n        <SaveComponent\n          //disabled={!documentConfig?.HIDE_API_CHECK && !pageObj.isApiCheckInitiated}\n          disabled={!documentConfig?.HIDE_API_CHECK && pageObj?.loadingForInitiateCheck }\n          disabledMenu={\n            qcStatus === LOAN_STAGE_STATUS.CANCELLED || qcStatus === LOAN_STAGE_STATUS.COMPLETED\n          }\n          kebabModel={getSaveComponentMenuOptions()}\n          // kebabModel={menuModel}\n          renderHeaderContent={renderSaveComponentHeader}\n          pageMode={pageMode}\n          onSave={onSave}\n          onCancel={onCancel}\n          onEdit={onEdit}\n          className=\" !px-0 pb-0 !gap-0\"\n          headerWrapperClassName=\"px-5 \"\n        >\n          {renderContent()}\n        </SaveComponent>\n      )}\n\n      <ToastCustom\n        position={TOAST_POSITION.BOTTOM_RIGHT}\n        ref={toastMessageRef}\n        toastText={toastMessage}\n        variant={TOAST_STYLE_TYPE.PRIMARY}\n        onRemove={() => setToastMessage(\"\")}\n      />\n      <AclGuard override={{ update: true }}>\n        <ViewApiResponseDialog\n          onHide={onHideViewResponseDialog}\n          visible={showRawResponseDialog}\n          data={pageObj.rawResponseData}\n          header=\"heading.qc.rawApiResponse\"\n          headerArgs={{ documentName: documentConfig?.NAME ?? \"\" }}\n        />\n      </AclGuard>\n    </div>\n  );\n};\n\nexport default DocumentCheck;\n","import { Column } from \"components/EditableTableV2/EditableTableV2\";\nimport ErrorDialog from \"components/ErrorDialog/ErrorDialog\";\nimport ReadOnlyTable from \"components/ReadOnlyTable/ReadOnlyTable\";\nimport Section from \"components/Section/Section\";\nimport SimpleTab from \"components/SimpleTab/SimpleTab\";\nimport SkeletonCustom from \"components/Skeleton/Skeleton\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport ApplicantService from \"services/ApplicantService\";\nimport QcService from \"services/transaction/DDE/QcService\";\nimport {\n  breakTextIntoLines,\n  formatDate,\n  getDocumentCodeWithoutNumber,\n  getLocalStorage,\n  parseStandardAPIErrorMessage,\n} from \"utils/CommonUtil\";\nimport {\n  ADDRESS_TYPE_VALUES,\n  APPLICANT_TYPE,\n  DOCUMENT_CHECK_CONFIG,\n  DOCUMENT_CHECK_TYPE,\n  LOAN_STAGE_STATUS,\n  LOCAL_STORAGE,\n  PAGE_MODE,\n  QC_TABS_TYPE,\n  STAGE_OPTIONS,\n} from \"utils/Constant\";\nimport DocumentCheck, { DocumentCheckType } from \"./DocumentCheck\";\nimport AddressService from \"services/transaction/DDE/AddressService\";\nimport AclGuard from \"components/AclGuard/AclGuard\";\nimport { FINAL_OPINION_STATUS } from \"../../Legal/Sections/FinalOpinion/FinalOpinion\";\nimport Text from \"components/Text/Text\";\nimport { useSelector } from \"react-redux\";\n\ninterface ITab {\n  name: string;\n  uid: string;\n  // key: string;\n  type: string;\n  mode: string;\n  disabled: boolean;\n  applicantName?: string;\n}\n\ninterface ICollateralRickRowData {\n  stageName: string;\n  updatedAt: string;\n}\n\ninterface Loader {\n  tab: boolean;\n  applicantStructure: boolean;\n}\n\nexport interface IQcApplicantDocument {\n  uid: string;\n  section: DocumentCheckType;\n  updatedAt: string;\n  residentialAddress?: IDocumentCheckAddress;\n  applicantName?: string;\n  sequence: number;\n}\n\nexport interface IDocumentCheckAddress {\n  district: string;\n  state: string;\n  pincode: string;\n  address: string;\n}\n\nexport interface IDocumentStructureParams {\n  uid: string;\n  name?: string;\n}\n\nexport interface IErrorMessage {\n  label: string;\n  isOnLoad: boolean;\n}\n\nconst initialAddressData = {\n  district: \"\",\n  state: \"\",\n  pincode: \"\",\n  houseNo: \"\",\n  address: \"\",\n};\n\ninterface ICollateralRiskCheck {\n  stageUid: string;\n  stageCompletionDate: string;\n  stageName: string;\n  vendorName: string;\n  finalStatus: string;\n}\n\nexport type TDocumentCheckModule = \"QC\" | \"CAM\";\nexport const DOCUMENT_CHECK_MODULE: Record<TDocumentCheckModule, TDocumentCheckModule> = {\n  CAM: \"CAM\",\n  QC: \"QC\",\n};\n\ninterface IProps {\n  module?: TDocumentCheckModule;\n  showDataSource?: boolean;\n}\nconst PageAssetDocumentCheck = (props: IProps) => {\n \n  const { module, showDataSource } = props;\n  /*\n    -------------------------------------------------------\n      State\n    -------------------------------------------------------\n    */\n  const params: { loanUid?: string } = useParams();\n  const [activeIndex, setActiveIndex] = useState<number>(0);\n  const [errorMessage, setErrorMessage] = useState<IErrorMessage[]>([]);\n  const [showDialogAPIError, setShowDialogAPIError] = useState(false);\n  const [tabs, setTabs] = useState<ITab[]>([\n    {\n      name: \"Collateral / Risk Check\",\n      uid: \"\",\n      // key: \"3\",\n      type: QC_TABS_TYPE.COLLATERAL_RISK_CHECK,\n      mode: PAGE_MODE.CREATE,\n      disabled: false,\n    },\n  ]);\n  const [residentialAddress, setResidentialAddress] = useState<IDocumentCheckAddress>({\n    ...initialAddressData,\n  });\n  const [applicantDocuments, setApplicantDocuments] = useState<IQcApplicantDocument[]>([]);\n  const [isLoading, setIsLoading] = useState<Loader>({ applicantStructure: false, tab: false });\n  const [timeOutLocal, setTimeOutLocal] = useState<any>(undefined);\n  const [isQcStageComplete, setIsQcStageComplete] = useState(false);\n  // ref\n  const tabRef = useRef<any>(null);\n  const aclGuardRef = useRef<any>(null);\n  const qcStatus = useSelector((state: any) => state.LoanReducers.loanObj.qcStatus);\n  const collateralDataTableRef = useRef<any>(null);\n\n  // --------------------------- global variables ---------------------- //\n\n  /*\n    -------------------------------------------------------\n      useEffect\n    -------------------------------------------------------\n  */\n  useEffect(() => {\n    init();\n  }, []);\n\n \n\n  useEffect(() => {\n    debounce(() => {\n      if (errorMessage?.[0]?.label) {\n        setShowDialogAPIError(true);\n      }\n    }, getDebounceTime());\n  }, [errorMessage]);\n\n  useEffect(() => {\n    console.log(\"applicant docs \", applicantDocuments);\n  }, [applicantDocuments]);\n\n  useEffect(() => {\n    console.log(\"is table loading\", isLoading.tab);\n  }, [isLoading.tab]);\n  /*\n    -------------------------------------------------------\n      Service Calls\n    -------------------------------------------------------\n  */\n  const init = () => {\n    checkStageComplete();\n    if (tabs.length === 1) {\n      getApplicantList(getDocumentStructure, getResidentialAddress);\n    }\n  };\n  const checkStageComplete = () => {\n    const stageDetail = JSON.parse(getLocalStorage(LOCAL_STORAGE.STAGE_DETAIL));\n\n    if (\n      stageDetail?.status === LOAN_STAGE_STATUS.COMPLETED ||\n      stageDetail?.status === LOAN_STAGE_STATUS.CANCELLED\n    ) {\n      setIsQcStageComplete(true);\n    } else {\n      setIsQcStageComplete(false);\n    }\n  };\n\n  const getApplicantList = async (\n    getDocumentStructure: (applicant: IDocumentStructureParams) => Promise<void>,\n    getResidentialAddress: (primaryApplicantId: string) => Promise<void>\n  ) => {\n    let primaryApplicantUid = \"\";\n    // setIsLoading((prevObj)=>({...prevObj,tabs:true}));\n    try {\n      setIsLoading((prevObj) => ({ ...prevObj, tab: true }));\n      const applicants = await ApplicantService.getApplicantListForQc(\n        `[${APPLICANT_TYPE.PRIMARY},'${APPLICANT_TYPE.CO_APPLICANT}']`,\n        params.loanUid ?? \"\"\n      );\n      // data.results is an array\n      const tabList: ITab[] = [];\n\n      if (applicants?.data.results?.length > 0) {\n        for (const applicant of applicants.data.results) {\n          if (primaryApplicantUid === \"\") {\n            primaryApplicantUid = applicant?.uid;\n          }\n          const applicantName = `${applicant?.firstName ?? \"\"} ${applicant?.middleName ?? \"\"} ${\n            applicant?.lastName ?? \"\"\n          }`;\n          tabList.push({\n            name: `${getApplicantTabPrefix(applicant?.applicantType)} ${applicantName}`,\n            // key:\"\"\n            mode: PAGE_MODE.CREATE,\n            type: applicant.applicantType,\n            uid: applicant?.uid ?? \"\",\n            disabled: false,\n            applicantName: applicantName,\n          });\n          setIsLoading((prevObj) => ({ ...prevObj, tab: false }));\n        }\n        setTabs((prevTabs) => [...tabList, ...prevTabs]);\n      }\n      //loading 1st tab data\n      getDocumentStructure({ uid: primaryApplicantUid, name: tabList?.[0].applicantName ?? \"\" });\n      getResidentialAddress(primaryApplicantUid);\n    } catch (error) {\n      console.log(error);\n      setIsLoading((prevObj) => ({ ...prevObj, tab: false }));\n      setErrorMessage((prevData) => [\n        ...prevData,\n        { label: parseStandardAPIErrorMessage(error), isOnLoad: true },\n      ]);\n    }\n  };\n\n  const getDocumentStructure = async (applicant: IDocumentStructureParams) => {\n    const applicantDocs: IQcApplicantDocument[] = [];\n    const reArrangedApplicantDocs: IQcApplicantDocument[] = [];\n\n    toggleTabs(true);\n    try {\n      setIsLoading((prevObj) => ({ ...prevObj, applicantStructure: true }));\n\n      const allDocuments = await QcService.getDocumentStructure(\n        params?.loanUid ?? \"\",\n        applicant.uid\n      );\n      console.log(\"applicant docs \", allDocuments);\n      if (allDocuments?.data) {\n        for (const document of allDocuments.data) {\n          const section = document.section;\n          // const DOCUMENT_CHECK_CONFIG_KEYS= Object.keys( DOCUMENT_CHECK_CONFIG);\n\n          // const doesSectionExists =DOCUMENT_CHECK_CONFIG_KEYS.some((section)=>{\n          //   section.\n          // })\n          const formattedSection: string = getDocumentCodeWithoutNumber(section);\n          console.log(\"document\", formattedSection);\n\n          if (DOCUMENT_CHECK_CONFIG?.[formattedSection as DocumentCheckType]) {\n            applicantDocs.push({\n              uid: document.uid,\n              section: formattedSection as DocumentCheckType,\n              updatedAt: document.updatedAt,\n              applicantName: applicant.name,\n              sequence: document?.sequence ?? 0,\n            });\n          }\n        }\n        applicantDocs.sort((doc1, doc2) => doc1.sequence - doc2.sequence);\n        // setApplicantDocuments\n        // data.results is an array\n        toggleTabs(false);\n        setApplicantDocuments(applicantDocs);\n      }\n      setIsLoading((prevObj) => ({ ...prevObj, applicantStructure: false }));\n    } catch (error) {\n      console.log(error);\n      setIsLoading((prevObj) => ({ ...prevObj, applicantStructure: false }));\n      setErrorMessage((prevData) => [...prevData, parseStandardAPIErrorMessage(error)]);\n    }\n  };\n\n  const getResidentialAddress = async (applicantUid: string) => {\n    const response: any = await AddressService.getAddressWithoutDocForDde(\n      params.loanUid ?? \"\",\n      applicantUid,\n      ADDRESS_TYPE_VALUES.RESIDENTIAL\n    );\n\n    setResidentialAddress((prevAddress) => ({\n      ...prevAddress,\n      address: `${response?.data?.results?.[0]?.address ?? \"\"} ${\n        response?.data?.results?.[0]?.city?.name ?? \"\"\n      } ${response?.data?.results?.[0]?.city?.state?.name ?? \"\"} ${\n        response?.data?.results?.[0]?.pincode?.pinCode ?? \"\"\n      }`,\n      district: response?.data?.results?.[0]?.city?.name ?? \"\",\n      pincode: response?.data?.results?.[0]?.pincode?.pinCode ?? \"\",\n      state: response?.data?.results?.[0]?.city?.state?.name ?? \"\",\n      uid: response?.data?.results?.[0]?.uid ?? \"\",\n    }));\n  };\n  /*\n    -------------------------------------------------------\n      Handlers\n    -------------------------------------------------------\n  */\n\n  const handleTabChange = (e: any) => {\n    setActiveIndex(e.index);\n    const applicantTab: ITab | undefined = tabs[e.index] ? { ...tabs[e.index] } : undefined;\n    if (applicantTab) {\n      getDocumentStructure({ uid: applicantTab?.uid, name: applicantTab?.applicantName });\n      getResidentialAddress(applicantTab?.uid);\n    }\n  };\n\n  /* \n    --------------------------------------------------------\n    Validators:\n    --------------------------------------------------------\n  */\n\n  /*\n    -------------------------------------------------------\n      Button Click Handlers\n    -------------------------------------------------------\n  */\n\n  /*\n    -------------------------------------------------------\n      Helper Functions\n    -------------------------------------------------------\n  */\n\n  const getDebounceTime = () => {\n    if (errorMessage?.find((message) => message.isOnLoad === false)) {\n      return 0;\n    }\n    return 3000;\n  };\n\n  const combineErrorMessage = () => {\n    let message = \"\";\n    for (const singleMessage of errorMessage) {\n      message = `${breakTextIntoLines(`${singleMessage.label}`, 75, \" \\n \")} \\n\\n ${message}`;\n    }\n    return message;\n  };\n\n  const debounce = (func: any, delay: any) => {\n    clearTimeout(timeOutLocal);\n    setTimeOutLocal(setTimeout(func, delay));\n  };\n\n  const toggleTabs = (isDisable: boolean) => {\n    setTabs((prevTabs) => {\n      const updatedTabs: ITab[] = [...prevTabs];\n      updatedTabs.map((tab: ITab) => {\n        tab.disabled = isDisable;\n      });\n      return updatedTabs;\n    });\n  };\n  const getApplicantTabPrefix = (applicantType: string) => {\n    if (applicantType === APPLICANT_TYPE.PRIMARY) {\n      return \"Applicant -\";\n    }\n    return \"Co App -\";\n  };\n\n  const onDocumentCheckError = (message: string, isOnLoad: boolean) => {\n    setErrorMessage((prevData) => [...prevData, { label: message, isOnLoad: isOnLoad }]);\n  };\n\n  /*\n    -------------------------------------------------------\n      Sectional Rendering\n    -------------------------------------------------------\n  */\n  const renderCollateralDate = (rowData: ICollateralRiskCheck) => {\n    return <span>{formatDate(rowData?.stageCompletionDate)}</span>;\n  };\n\n  const renderCollateralStage = (rowData: ICollateralRiskCheck) => {\n    return (\n      <span>{STAGE_OPTIONS?.[rowData?.stageName as keyof typeof STAGE_OPTIONS]?.label ?? \"\"}</span>\n    );\n  };\n\n  const renderVendor = (rowData: ICollateralRiskCheck) => {\n    return <span>{rowData?.vendorName}</span>;\n  };\n\n  const renderStatus = (rowData: ICollateralRiskCheck) => {\n    return (\n      <span>\n        {FINAL_OPINION_STATUS?.[rowData?.finalStatus as keyof typeof FINAL_OPINION_STATUS] ??\n          rowData?.finalStatus}\n      </span>\n    );\n  };\n\n  const renderCollateralAndRiskCheck = () => {\n    return (\n      <ReadOnlyTable\n        standardDataFormatPromise={QcService.collateralRick}\n        dataKey=\"id\"\n        search={`?loanUid=${params?.loanUid}`}\n        ref={collateralDataTableRef}\n      >\n        <Column\n          className=\"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6\"\n          header={\"Date\"}\n          body={renderCollateralDate}\n        />\n\n        <Column\n          className=\"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6\"\n          header={\"Stage\"}\n          body={renderCollateralStage}\n        />\n\n        <Column\n          className=\"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6\"\n          header={\"Vendor\"}\n          body={renderVendor}\n        />\n        <Column\n          className=\"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6\"\n          header={\"Status\"}\n          body={renderStatus}\n        />\n      </ReadOnlyTable>\n    );\n  };\n\n  const renderContent = (tab: ITab, index: any) => {\n    if (tab.type === QC_TABS_TYPE.COLLATERAL_RISK_CHECK) {\n      return <div className=\"mt-6\">{renderCollateralAndRiskCheck()}</div>;\n    }\n    // <DocumentCheck documentCode={DOCUMENT_CHECK_CONFIG.AADHAR_CARD.CODE} />\n    return isLoading.applicantStructure ? (\n      <div className=\"mt-5\">\n        <SkeletonCustom height=\"19.375rem\" width=\"100%\" borderRadius=\"8px\" animation=\"wave\" />\n      </div>\n    ) : (\n      applicantDocuments.map((document: IQcApplicantDocument) => (\n        <div className=\"pb-5\" key={document?.uid}>\n          <DocumentCheck\n            documentData={{ ...document, residentialAddress: residentialAddress }}\n            search={`${document?.uid}`}\n            getDetailsPromise={QcService.getDocumentDetails}\n            initiateApiCheckPromise={QcService.initiateApiCheck}\n            updateDocumentStatusPromise={QcService.updateQc}\n            callbackForErrorMessage={onDocumentCheckError}\n            isSectionDisabled={aclGuardRef?.current?.props?.override?.read}\n            // module={module}\n          />\n        </div>\n      ))\n    );\n\n    // <DocumentCheck documentCode={DOCUMENT_CHECK_CONFIG.AADHAR_CARD.CODE} />;\n  };\n\n  /*\n    -------------------------------------------------------\n    Main Rendering\n    -------------------------------------------------------\n  */\n  return (\n    <>\n      <Section title=\"label.qc.assetsAndDocument\">\n        {/* added acl guard here as it prevents */}\n        <AclGuard override={{ read: (module === DOCUMENT_CHECK_MODULE.CAM) || qcStatus === LOAN_STAGE_STATUS.COMPLETED || qcStatus === LOAN_STAGE_STATUS.CANCELLED }} ref={aclGuardRef}>\n          {isLoading.tab ? (\n            <>\n              <SkeletonCustom height=\"19.375rem\" width=\"100%\" borderRadius=\"8px\" animation=\"wave\" />\n            </>\n          ) : (\n            <div>\n          \n              {showDataSource ? (\n                <div className=\"self-end flex text-xs my-3\">\n                  <Text className=\"\" label={\"label.dataSource\"} />\n                </div>\n              ) : null}\n              <SimpleTab\n                showTooltip\n                // enableTabMenu\n                scrollable\n                // tabHeaderMenuModel={(coApplicant: any, index: number) => menuModel(coApplicant, index)}\n                optionLabel={[\"name\"]}\n                optionKey=\"uid\"\n                headerClassName=\"document-check-tabs\"\n                ref={tabRef}\n                activeIndex={activeIndex}\n                tabs={tabs}\n                onTabChange={handleTabChange}\n                renderContent={renderContent}\n                // headerClassName=\" document-check-tabs \"\n              />\n            </div>\n          )}\n        </AclGuard>\n      </Section>\n      <ErrorDialog\n        onHide={() => {\n          setShowDialogAPIError(false);\n          setErrorMessage([]);\n        }}\n        errorDivClassName={\" whitespace-pre \"}\n        visible={showDialogAPIError}\n        errorMessage={combineErrorMessage()}\n      />\n    </>\n  );\n};\n\nexport default PageAssetDocumentCheck;\n"],"names":["ViewApiResponseDialog","props","isCopied","setIsCopied","useState","onHide","visible","data","header","headerArgs","copyErrorData","copyData","jsxs","DialogBox","INPUT_STYLE_TYPE","jsx","Text","ButtonBox","BUTTON_TYPE","initialPageObj","MENU_OPTION_CODE","DocumentCheck","t","useTranslation","documentData","getDetailsPromise","initiateApiCheckPromise","search","updateDocumentStatusPromise","callbackForErrorMessage","isSectionDisabled","params","useParams","qcStatus","useSelector","state","_b","_a","isLoading","setIsLoading","pageMode","setPageMode","PAGE_MODE","pageObj","setPageObj","forceUpdate","documentConfig","setDocumentConfig","showRawResponseDialog","setShowRawResponseDialog","toastMessage","setToastMessage","menuModel","setMenuModel","onViewRawResponse","simpleValidator","useRef","SimpleReactValidator","getStandardValidator","messageReplace","prev","comparisonTableRef","toastMessageRef","editorRef","useEffect","section","document","DOCUMENT_CHECK_CONFIG","prevConfig","prevData","updatedMenuOptions","option","getDocumentDetails","onInitiateApiCheck","isAutoInitiate","prevObj","error","parseStandardAPIErrorMessage","hideLoader","tableRows","response","updatePageObj","prevMenuModel","updatedMenuModel","clearDataOptionIndex","onClearData","tableRow","prevPageObj","uid","onSave","onEdit","onCancel","qcUid","validateForm","enrichObj","enrichForUpdateDocument","STATIC_MASTER_TYPE_TOAST_TEXT","handleInputChange","onHideViewResponseDialog","validate","isValid","getSaveComponentMenuOptions","clearData","_c","getFormattedRowValues","value","requiredFormat","QC_DOCUMENT_TABLE_DATA_FORMAT","formatDate","ImagePreview","Fragment","STATUS","ACTIVE_TYPE","getStructuredKarzaData","stringifiedData","parsedData","formattedData","DOCUMENT_CHECK_TYPE","_f","_e","_d","_i","_h","_g","_l","_k","_j","_o","_n","_m","_r","_q","_p","_v","_u","_t","_s","_A","_z","_y","_x","_w","_F","_E","_D","_C","_B","_K","_J","_I","_H","_G","_M","_L","_O","_N","_Q","_P","_S","_R","_T","_U","_V","_Z","_Y","_X","_W","_ba","_aa","_$","__","_fa","_ea","_da","_ca","_ja","_ia","_ha","_ga","_na","_ma","_la","_ka","_oa","_pa","_qa","_ra","config","updatedPageObj","tableData","residentialAddress","applicantName","parsedKarzaData","karzaDataJson","defaultCustomResponse","customResponse","row","DOCUMENT_CHECK_TABLE_FIELDS","formatJSON","renderTableField","rowData","renderTableLoggedInValues","renderApiValues","renderSaveComponentHeader","formatDateWithTime","SimpleButton","BUTTON_STYLE_TYPE","renderTable","ReadOnlyTable","Column","renderStatusAndRemark","SimpleDropDown","QC_STATUS_LIST","InputTextArea","renderContent","RichTextEditor","SkeletonCustom","SaveComponent","LOAN_STAGE_STATUS","ToastCustom","TOAST_POSITION","TOAST_STYLE_TYPE","AclGuard","initialAddressData","DOCUMENT_CHECK_MODULE","PageAssetDocumentCheck","module","showDataSource","activeIndex","setActiveIndex","errorMessage","setErrorMessage","showDialogAPIError","setShowDialogAPIError","tabs","setTabs","QC_TABS_TYPE","setResidentialAddress","applicantDocuments","setApplicantDocuments","timeOutLocal","setTimeOutLocal","isQcStageComplete","setIsQcStageComplete","tabRef","aclGuardRef","collateralDataTableRef","init","debounce","getDebounceTime","checkStageComplete","getApplicantList","getDocumentStructure","getResidentialAddress","stageDetail","getLocalStorage","LOCAL_STORAGE","primaryApplicantUid","applicants","ApplicantService","APPLICANT_TYPE","tabList","applicant","getApplicantTabPrefix","prevTabs","applicantDocs","toggleTabs","allDocuments","QcService","formattedSection","getDocumentCodeWithoutNumber","doc1","doc2","applicantUid","AddressService","ADDRESS_TYPE_VALUES","prevAddress","handleTabChange","e","applicantTab","message","combineErrorMessage","singleMessage","breakTextIntoLines","func","delay","isDisable","updatedTabs","tab","applicantType","onDocumentCheckError","isOnLoad","renderCollateralDate","renderCollateralStage","STAGE_OPTIONS","renderVendor","renderStatus","FINAL_OPINION_STATUS","renderCollateralAndRiskCheck","index","Section","SimpleTab","ErrorDialog"],"mappings":"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"}