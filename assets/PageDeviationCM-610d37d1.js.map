{"version":3,"file":"PageDeviationCM-610d37d1.js","sources":["../../src/views/masterData/productConfiguration/productConfigurationDeviation/PageDeviationCM/PageDeviationCM.tsx"],"sourcesContent":["// Author -Sachin Pandey\n\n/*\n  -------------------------------------------------------\n   Imports:\n  -------------------------------------------------------\n*/\nimport LoadingIcon from \"assets/img/common/Loading.svg\";\nimport AclGuard from \"components/AclGuard/AclGuard\";\nimport ButtonBox from \"components/ButtonBox\";\nimport InputBox from \"components/InputBox\";\nimport InputTextArea from \"components/InputTextArea\";\nimport PageTitle from \"components/PageTitle/PageTitle\";\nimport SimpleDropDown from \"components/SimpleDropDown/SimpleDropDown\";\nimport ToastCustom from \"components/Toast\";\nimport { RouteProps, withRouter } from \"hoc/withRouter\";\nimport queryString from \"query-string\";\nimport ProductDeviationService from \"services/masterdata/ProductDeviation/ProductDeviation\";\n\nimport AutoComplete from \"components/AutoComplete/AutoComplete\";\nimport CheckBox from \"components/CheckBox/CheckBox\";\nimport EditableTableV2, {\n  Column,\n  EditableComponentRef,\n} from \"components/EditableTableV2/EditableTableV2\";\nimport ErrorDialog from \"components/ErrorDialog/ErrorDialog\";\nimport MenuBox from \"components/MenuBox/MenuBox\";\nimport Text from \"components/Text/Text\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { linkProductConfigurationDeviation } from \"routes\";\nimport OrgStructureApprovalService from \"services/masterdata/OrgStruct/Approval/Approval\";\nimport ProductDeviationCategoryService from \"services/masterdata/ProdcutDeviationCategory/ProdcutDeviationCategory\";\nimport BusinessRuleService from \"services/masterdata/ProductConfig/BusinessRuleService\";\nimport IncomeSchemeService from \"services/masterdata/ProductConfig/IncomeSchemeService\";\nimport ProductConfigProductService from \"services/masterdata/ProductConfig/ProductConfigProductService\";\nimport StaticMasterDataService from \"services/masterdata/StaticMaster/StaticMasterDataService\";\nimport StaticMasterTypeService from \"services/masterdata/StaticMaster/StaticMasterTypeService\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport {\n  getStandardValidator,\n  messageReplace,\n  parseStandardAPIErrorMessage,\n  stringifyObject,\n} from \"utils/CommonUtil\";\nimport {\n  AUTOCOMPLETE_MESSAGES,\n  BUTTON_TYPE,\n  CHECKBOX_STYLE_TYPE,\n  DROPDOWN_STYLE_TYPE,\n  ENTITY,\n  INPUT_STYLE_TYPE,\n  OPERATION_TYPE,\n  PAGE_MODE,\n  STATIC_MASTER_TYPE_TOAST_TEXT,\n  TOAST_STYLE_TYPE,\n} from \"utils/Constant\";\n\n/*\n  -------------------------------------------------------\n  PROPS:\n  -------------------------------------------------------\n*/\n\nconst PageDeviationCM = (props: RouteProps) => {\n  /*\n    -------------------------------------------------------\n      InterFaces\n    -------------------------------------------------------\n  */\n  interface InitialData {\n    name: string;\n    ruleApplied: string;\n    referenceType: string;\n    productName: string;\n    productScheme: string;\n    description: string;\n    reasons: string;\n  }\n\n  interface PageObjectInterFace {\n    name: string;\n    ruleApplied: string;\n    productConfigType: string;\n    productName: string;\n    productScheme: string;\n    description: string;\n    reasons: string;\n    attachments: any[];\n  }\n  /*\n    -------------------------------------------------------\n      States\n    -------------------------------------------------------\n  */\n  const [pageObj, setPageObj] = useState<any>({\n    deviationCategory: \"\",\n    displayName: \"\",\n    name: \"\",\n    typeOfDeviation: \"\",\n    ruleApplied: \"\",\n    referenceType: \"\",\n    productName: \"\",\n    productScheme: \"\",\n    description: \"\",\n    reasons: \"\",\n    attachments: [],\n  });\n\n  const initialObj = {\n    isActive: true,\n    type: {\n      uid: \"\",\n    },\n    rule: {\n      uid: \"\",\n    },\n    user: {\n      uid: \"\",\n    },\n    approvalLevel: {\n      uid: \"\",\n    },\n  };\n  const [initialData, setInitData] = useState<InitialData>({\n    name: \"\",\n    ruleApplied: \"\",\n    referenceType: \"\",\n    productName: \"\",\n    productScheme: \"\",\n    description: \"\",\n    reasons: \"\",\n  });\n  const [pageMode, setPageMode] = useState(PAGE_MODE.CREATE);\n  const [, forceUpdate] = useState<undefined | boolean>(undefined);\n  const [productList, setProductList] = useState<any>([]);\n  const [incomeList, setIncomeList] = useState<any>([]);\n\n  const [uid, setUid] = useState<any>(\"\");\n  const dataTableRef = useRef<EditableComponentRef>(null);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [position, setPosition] = useState<any>(\"bottom-right\");\n  const [toastMessageVariant, setToastMessageVariant] = useState(TOAST_STYLE_TYPE.PRIMARY);\n  const [toastMessage, setToastMessage] = useState(\"\");\n  const [triggerToast, setTriggerToast] = useState(false);\n  const [navigateBack, setNavigateBack] = useState(false);\n  const toastMessageRef = useRef(null);\n  const [showDialogAPIError, setShowDialogAPIError] = useState(false);\n  const [ruleList, setRoleList] = useState<any>([]);\n  const [timeOutLocal, setTimeOutLocal] = useState<any>(undefined);\n  const [renderFirst, setRenderFirst] = useState(true);\n  const deleteTableRowRef = useRef(null);\n  const [deviationCategoryOptions, setDeviationCategoryOptions] = useState([]);\n  const [typeOfDeviationCategoryOptions, setTypeOfDeviationCategoryOptions] = useState([]);\n  const [tableTypeOfDeviationData, setTableTypeOFDeviationData] = useState([]);\n  const [autoManu, setAutoManu] = useState(\"\");\n  const [autoMenuUID, setAutoMenuUID] = useState(\"\");\n\n  /*\n    -------------------------------------------------------\n      Hooks: useEffect\n    -------------------------------------------------------\n  */\n  useEffect(() => {\n    const parsed: {\n      mode?: string;\n      uid?: string;\n    } = queryString.parse(props.location.search);\n    if (parsed?.mode && parsed?.mode !== undefined) {\n      setPageMode(parsed.mode);\n    }\n    setUid(parsed.uid);\n    getProductList();\n    getIncomeSchemeList();\n    getDeviationCategoryInfo();\n    getApprovalLevelList();\n    getTypeOfDeviationCategoryInfo();\n    if (renderFirst && parsed.mode === PAGE_MODE.CREATE) {\n      dataTableRef?.current?.addRow(initialObj);\n      setRenderFirst(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (uid) {\n      getInitialData();\n    }\n  }, [uid]);\n\n  useEffect(() => {\n    console.log(\"object\");\n  }, [pageObj]);\n\n  useEffect(() => {\n    if (toastMessageRef?.current && toastMessage !== \"\") {\n      // @ts-ignore: will be fixed in future\n      toastMessageRef?.current?.showFunction();\n    }\n  }, [toastMessage, toastMessageVariant, triggerToast]);\n\n  useEffect(() => {\n    if (errorMessage) {\n      setShowDialogAPIError(true);\n    }\n  }, [errorMessage]);\n\n  /*\n    -------------------------------------------------------\n      Handlers: Event handler for onChange, onBlur etc\n    -------------------------------------------------------\n  */\n\n  function getNameByUid(uid: any, arrayOfObjects: any) {\n    const matchedObject = arrayOfObjects.find((obj: any) => obj.uid === uid);\n    if (matchedObject) {\n      return matchedObject.name;\n    } else {\n      return null;\n    }\n  }\n\n  const handleInputChange = (event: any) => {\n    const { name, value } = event.target;\n    if (name === \"typeOfDeviation\") {\n      const nameOfTypeOfDeviation = getNameByUid(value, tableTypeOfDeviationData);\n      setAutoMenuUID(value);\n      setAutoManu(nameOfTypeOfDeviation);\n\n      dataTableRef?.current?.reset();\n    }\n    setPageObj((prevPageObj: any) => {\n      let updatedObj = {\n        ...prevPageObj,\n        [name]: value,\n      };\n\n      if (name === \"productName\") {\n        // If a productName is selected, set productScheme to null\n        updatedObj = {\n          ...updatedObj,\n          productScheme: null,\n          productConfigType: \" PRODUCT\", // take it from constants\n        };\n      } else if (name === \"productScheme\") {\n        // If a productScheme is selected, set productName to null\n        updatedObj = {\n          ...updatedObj,\n          productName: null,\n          productConfigType: \"PRODUCT_INCOME_SCHEME\",\n        };\n      }\n\n      return updatedObj;\n    });\n  };\n\n  /* \n    -------------------------------------------------------\n      ButtonClick Functions:\n    -------------------------------------------------------\n  */\n  const validateForm = async () => {\n    let isValid = false;\n    isValid = simpleValidator?.current?.allValid() ?? false;\n    if (isValid) {\n      return isValid;\n    } else {\n      forceUpdate((prev) => !prev);\n      simpleValidator?.current?.showMessages();\n      forceUpdate((prev) => !prev);\n      return false;\n    }\n  };\n\n  const prepareToSaveCreate = () => {\n    const addedRecords = [\n      // ...initData,\n      ...(dataTableRef.current?.getAddedRecords() ?? []),\n      ...(dataTableRef.current?.getDeletedRecords() ?? []),\n      ...(dataTableRef.current?.getUpdatedRecords() ?? []),\n    ];\n\n    const enrichForSave: any = {\n      deviationCategory: {\n        uid: pageObj.deviationCategory,\n      },\n      name: pageObj.displayName,\n      type: {\n        uid: pageObj.typeOfDeviation,\n      },\n\n      referenceType: \"\",\n      product: {\n        uid: pageObj.productName,\n      },\n      incomeSchemeProduct: {\n        uid: pageObj.productScheme,\n      },\n      reason: pageObj.reasons,\n      description: pageObj.description,\n    };\n    const transformedApprovalUsers = addedRecords.map((record) => {\n      if (autoManu !== \"Automatic\") {\n        return {\n          ...record,\n          rule: null,\n\n          type: {\n            uid: autoMenuUID ?? \"\",\n          },\n          approvalLevel: {\n            uid: record.approvalLevel.uid ?? \"\",\n          },\n          isActive: record.isActive ?? \"\",\n        };\n      }\n\n      return {\n        ...record,\n        rule: {\n          uid: record.rule.uid ?? \"\",\n        },\n        type: {\n          uid: autoMenuUID ?? \"\",\n        },\n        approvalLevel: {\n          uid: record.approvalLevel.uid ?? \"\",\n        },\n        isActive: record.isActive ?? \"\",\n      };\n    });\n\n    if (enrichForSave.product.uid) {\n      enrichForSave.referenceType = \"PRODUCT\";\n    } else if (enrichForSave.incomeSchemeProduct.uid) {\n      enrichForSave.referenceType = \"PRODUCT_INCOME_SCHEME\";\n    } else {\n      enrichForSave.referenceType = null;\n    }\n\n    if (pageObj.productName) {\n      enrichForSave.incomeSchemeProduct = null;\n    } else if (pageObj.productScheme) {\n      enrichForSave.product = null;\n    } else {\n      enrichForSave.incomeSchemeProduct = null;\n      enrichForSave.product = null;\n    }\n\n    // this will return an array objects of users which i will add in the enrichForSave because it had lot of unusable chunks\n\n    enrichForSave.approvalFunctions = transformedApprovalUsers;\n    // if(pageMode!==PAGE_MODE.CREATE){\n\n    // }\n    return enrichForSave;\n  };\n\n  const prepareToApprove = () => {\n    const totalRecords = [\n      // ...initData,\n      ...(dataTableRef.current?.getAddedRecords() ?? []),\n      ...(dataTableRef.current?.getDeletedRecords() ?? []),\n      ...(dataTableRef.current?.getUpdatedRecords() ?? []),\n    ];\n    const payloadForApprove: any = {\n      uid: uid,\n      deviationCategory: {\n        uid: pageObj.deviationCategory,\n      },\n      name: pageObj.displayName,\n      type: {\n        uid: pageObj.typeOfDeviation,\n      },\n\n      referenceType: \"\",\n      product: {\n        uid: pageObj.productName,\n      },\n      incomeSchemeProduct: {\n        uid: pageObj.productScheme,\n      },\n      reason: pageObj.reasons,\n      description: pageObj.description,\n    };\n\n    if (payloadForApprove.product.uid) {\n      payloadForApprove.referenceType = \"PRODUCT\";\n    } else if (payloadForApprove.incomeSchemeProduct.uid) {\n      payloadForApprove.referenceType = \"PRODUCT_INCOME_SCHEME\";\n    } else {\n      payloadForApprove.referenceType = null;\n    }\n\n    if (pageObj.productName) {\n      payloadForApprove.incomeSchemeProduct = null;\n    } else if (pageObj.productScheme) {\n      payloadForApprove.product = null;\n    } else {\n      payloadForApprove.incomeSchemeProduct = null;\n      payloadForApprove.product = null;\n    }\n\n    const transformedApprovalUsers = totalRecords.map((record) => {\n      if (autoManu !== \"Automatic\") {\n        return {\n          rule: null,\n\n          type: {\n            uid: autoMenuUID ?? \"\",\n          },\n          approvalLevel: {\n            uid: record.approvalLevel.uid ?? \"\",\n          },\n          isActive: record.isActive ?? \"\",\n        };\n      }\n\n      return {\n        rule: {\n          uid: record.rule.userUid ?? \"\",\n        },\n        type: {\n          uid: autoMenuUID ?? \"\",\n        },\n        approvalLevel: {\n          uid: record.approvalLevel.uid ?? \"\",\n        },\n        isActive: record.isActive ?? \"\",\n      };\n    });\n    payloadForApprove.approvalFunctions = transformedApprovalUsers;\n\n    let enrichForSave;\n    const finalJsonObject = payloadForApprove;\n    const initialJsonObject = initialData;\n    if (pageMode === PAGE_MODE.CREATE) {\n      enrichForSave = {\n        name: pageObj.name,\n        operationType: OPERATION_TYPE.CREATE,\n        entity: ENTITY.DEVIATION,\n        initialStateJson: \"\",\n        finalStateJson: stringifyObject(finalJsonObject),\n        reqPayload: stringifyObject(finalJsonObject),\n        reasonForChange: pageObj.reasons,\n      };\n    } else {\n      finalJsonObject.uid = uid;\n      enrichForSave = {\n        uid: uid,\n        name: pageObj.name,\n        operationType: OPERATION_TYPE.UPDATE,\n        entity: ENTITY.DEVIATION,\n        initialStateJson: stringifyObject(initialJsonObject),\n        finalStateJson: stringifyObject(finalJsonObject),\n        reqPayload: stringifyObject(finalJsonObject),\n        reasonForChange: pageObj.reasons,\n      };\n    }\n    return enrichForSave;\n  };\n\n  const onSaveClick = async () => {\n    setErrorMessage(\"\");\n    let isValid = false;\n    isValid = await validateForm();\n\n    if (!isValid) {\n      setPosition(\"top-right\");\n      setToastMessageVariant(TOAST_STYLE_TYPE.QUATERNARY);\n      setToastMessage(STATIC_MASTER_TYPE_TOAST_TEXT.ERROR);\n      setTriggerToast(!triggerToast);\n      return;\n    }\n    if (pageMode === PAGE_MODE.CREATE) {\n      const enrichedObj = prepareToSaveCreate();\n\n      return ProductDeviationService.save(enrichedObj)\n        .then((res) => {\n          setToastMessageVariant(TOAST_STYLE_TYPE.PRIMARY);\n          setToastMessage(STATIC_MASTER_TYPE_TOAST_TEXT.SAVED);\n          setTriggerToast(!triggerToast);\n          setNavigateBack(true);\n        })\n        .catch((err) => {\n          setErrorMessage(parseStandardAPIErrorMessage(err));\n        });\n    } else {\n      const enrichedObj: any = prepareToSaveCreate();\n\n      return ProductDeviationService.update(uid, enrichedObj)\n        .then((res) => {\n          setToastMessageVariant(TOAST_STYLE_TYPE.PRIMARY);\n          setToastMessage(STATIC_MASTER_TYPE_TOAST_TEXT.SAVED);\n          setTriggerToast(!triggerToast);\n          setNavigateBack(true);\n        })\n        .catch((err) => {\n          setErrorMessage(parseStandardAPIErrorMessage(err));\n        });\n    }\n  };\n\n  const onCancelClick = () => {\n    props.navigate(linkProductConfigurationDeviation);\n  };\n\n  const onApproveClick = async () => {\n    setErrorMessage(\"\");\n    let isValid = false;\n    isValid = await validateForm();\n\n    if (!isValid) {\n      setPosition(\"top-right\");\n      setToastMessageVariant(TOAST_STYLE_TYPE.QUATERNARY);\n      setToastMessage(STATIC_MASTER_TYPE_TOAST_TEXT.ERROR);\n      setTriggerToast(!triggerToast);\n      return;\n    }\n    const enrichedObj = prepareToApprove();\n    return StaticMasterTypeService.approve(enrichedObj)\n      .then((res) => {\n        setToastMessageVariant(TOAST_STYLE_TYPE.PRIMARY);\n        setToastMessage(STATIC_MASTER_TYPE_TOAST_TEXT.SENT_FOR_APPROVAL);\n        setTriggerToast(!triggerToast);\n        setNavigateBack(true);\n      })\n      .catch((err) => {\n        setErrorMessage(parseStandardAPIErrorMessage(err));\n      });\n  };\n\n  const onBackClick = () => {\n    props.navigate(linkProductConfigurationDeviation);\n  };\n\n  const onEditClick = () => {\n    setPageMode(PAGE_MODE.EDIT);\n  };\n\n  const onAddRow = () => {\n    console.log(dataTableRef?.current?.getCurrentRecords().length);\n    if (autoManu == \"Automatic\") {\n      dataTableRef?.current?.addRow(initialObj);\n    } else {\n      if (\n        dataTableRef?.current?.getCurrentRecords() &&\n        dataTableRef?.current?.getCurrentRecords().length < 1\n      ) {\n        dataTableRef?.current?.addRow(initialObj);\n      }\n    }\n    // @ts-ignore : will do it later\n  };\n\n  /* \n    -------------------------------------------------------\n      Helper Functions:\n    -------------------------------------------------------\n  */\n\n  const getInitialData = () => {\n    ProductDeviationService.getDeviationCategoryInfo(uid)\n      .then((res: any) => {\n        console.log(res.data, \"response\");\n\n        setPageObj({\n          ...pageObj,\n          deviationCategory: res.data?.deviationCategory.uid ?? \"\",\n          displayName: res.data?.name ?? \"\",\n          typeOfDeviation: res.data?.type.uid ?? \"\",\n\n          referenceType: \"\",\n          productName: res.data?.product?.uid ?? \"\",\n          productScheme: res.data?.incomeSchemeProduct?.uid ?? \"\",\n          reasons: res.data?.reason ?? \"\",\n          description: res.data?.description ?? \"\",\n        });\n        setAutoManu(res?.data?.type?.name);\n        setAutoMenuUID(res?.data?.type?.uid);\n        setInitData({\n          ...pageObj,\n          name: res.data.name,\n          ruleApplied: res.data?.rule?.uid ?? \"\",\n          productName: res.data.product?.uid,\n          productScheme: res.data.incomeSchemeProduct?.uid,\n          description: res.data.description,\n          reasons: res.data.reason,\n          deviationCategory: res.data.deviationCategory.uid,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n  const validateField = (e: any) => {\n    simpleValidator?.current?.showMessageFor(e?.target?.name);\n  };\n  const getPageTitle = () => {\n    switch (pageMode) {\n      case PAGE_MODE.CREATE:\n        return \"heading.productConfiguration.deviation.create\";\n      case PAGE_MODE.VIEW:\n        return \"heading.productConfiguration.deviation.view\";\n      case PAGE_MODE.EDIT:\n        return \"heading.productConfiguration.deviation.edit\";\n      default:\n        return \"heading.productConfiguration.deviation.create\";\n    }\n  };\n  const getRuleList = (searchTerm: string) => {\n    const startValue = 0;\n\n    const totalRecords = 100;\n    if (totalRecords >= startValue) {\n      BusinessRuleService.getAll().then((res) => {\n        const results = res.data?.results?.length > 0 ? [...res.data.results] : [];\n\n        if (results.length === 0) {\n          setRoleList([{ name: AUTOCOMPLETE_MESSAGES.NO_Rules }]);\n        } else {\n          setRoleList([...results]);\n        }\n      });\n    }\n  };\n  const debounce = (func: any, delay: any) => {\n    clearTimeout(timeOutLocal);\n    setTimeOutLocal(setTimeout(func, delay));\n  };\n  const searchUsers = (event: any) => {\n    const searchTerm = event.query;\n    if (event.query.length >= 1) {\n      // note this will later change into 3 cause rn i don't see any users\n      debounce(getRuleList(searchTerm), 1200);\n    } else {\n      setRoleList([]);\n    }\n  };\n  const itemTemplate = (item: any) => {\n    if (item.name === undefined) {\n      return (\n        <div className=\"flex flex-col items-center justify-center h-39\">\n          <img src={LoadingIcon} alt=\"search-icon\" className=\" h-7 w-7\" />\n          <Text className=\"text-primary-labelColor mt-2\" label=\"Loading...\" />\n        </div>\n      );\n    }\n    return (\n      <div className=\"flex flex-col\">\n        <Text className=\"text-primary-labelColor\" label={item.name} />\n        <Text className=\"text-secondary-gray-500 text-xxs\" label={item.code} />\n        {/* <Text className=\"text-secondary-gray-500 text-xxs\" label={item.emailId} /> */}\n      </div>\n    );\n  };\n\n  // this is for editable table\n  const renderRule = (rowData: any) => {\n    return (\n      <div className=\"w-40 relative  \">\n        <AutoComplete\n          value={rowData?.rule?.name}\n          variant={DROPDOWN_STYLE_TYPE.PRIMARY}\n          suggestions={ruleList}\n          completeMethod={searchUsers}\n          onChange={(e) => {\n            const selectedUser = e.target.value;\n            const rowDataObj = { ...rowData };\n            if (typeof e.target.value === \"object\") {\n              rowDataObj.rule.uid = selectedUser.uid;\n            }\n            rowDataObj.rule.name = selectedUser;\n            dataTableRef.current?.reportDataChange(rowDataObj);\n          }}\n          itemTemplate={itemTemplate}\n          field=\"name\"\n          disabled={autoManu !== \"Automatic\" || pageMode === PAGE_MODE.VIEW}\n          hideLabel\n          name={`rule-${rowData.uid}`}\n          errorClassNames=\"!m-0 !p-0 !text-xxs !h-2.5\"\n        />\n      </div>\n    );\n  };\n  const [editModuleCardMenu, setEditModuleCardMenu] = useState([\n    {\n      items: [\n        {\n          label: \"Delete\",\n          className: \"\",\n        },\n      ],\n    },\n  ]);\n  const deleteRow = (rowData: any, props: any) => {\n    // @ts-ignore: will fix later\n    dataTableRef?.current?.deleteRow(rowData);\n    setTimeout(() => {\n      // @ts-ignore: will fix later\n      const records = dataTableRef?.current?.getAddedRecords();\n      // @ts-ignore: will fix later\n      const deletedRecords = dataTableRef?.current?.getDeletedRecords();\n      // setLoanRecordsDeleted(deletedRecords);\n      // setLoanRecordsAdded(records);\n    }, 2);\n  };\n  const onToggleMenu = (rowData: any, props: any, e: any) => {\n    console.log(editModuleCardMenu);\n    setEditModuleCardMenu((prevState) => [\n      {\n        ...prevState[0], // Retain the other properties of the first object\n        items: [\n          {\n            ...prevState[0].items[0], // Retain the other properties of the first item\n            command: () => {\n              deleteRow(rowData, props);\n            }, // Add the new key-value pair\n          },\n        ],\n      },\n    ]);\n\n    // @ts-ignore: will fix later\n    deleteTableRowRef?.current?.toggle(e);\n    console.log(editModuleCardMenu);\n  };\n  const renderIsUserActive = (rowData: any, props: any) => {\n    return (\n      <CheckBox\n        name=\"isActive\"\n        variant={CHECKBOX_STYLE_TYPE.PRIMARY}\n        onChange={(e) => {\n          const rowDataObj = { ...rowData };\n          rowDataObj.isActive = e.target.checked;\n          dataTableRef.current?.reportDataChange(rowDataObj);\n        }}\n        checked={rowData.isActive}\n        disabled={pageMode === PAGE_MODE.VIEW}\n      />\n    );\n  };\n  const renderActions = (rowData: any, props: any) => {\n    return (\n      <div className=\"w-20 flex items-center justify-center ml-2\">\n        <ButtonBox\n          buttonType={BUTTON_TYPE.MENU}\n          onClick={(e: any) => onToggleMenu(rowData, props, e)}\n          className=\"!rounded-none bg-transparent !hover:bg-primary-gray-300\"\n        />\n      </div>\n    );\n  };\n  const getProductList = () => {\n    ProductConfigProductService.getAll()\n      .then((res: any) => {\n        setProductList([...res.data.results] ?? []);\n      })\n      .catch((err) => {\n        console.log(\"err\");\n      });\n  };\n  const getIncomeSchemeList = () => {\n    IncomeSchemeService.getAll()\n      .then((res: any) => {\n        setIncomeList([...res.data.results] ?? []);\n      })\n      .catch((err) => {\n        console.log(\"err\");\n      });\n  };\n\n  const getDeviationCategoryInfo = () => {\n    return ProductDeviationCategoryService.getAll().then((res) => {\n      if (res.status === 200) {\n        setDeviationCategoryOptions(res.data.results);\n      }\n    });\n  };\n  const getTypeOfDeviationCategoryInfo = () => {\n    return StaticMasterDataService.getAll(0, 30, \"&staticMasterType.code=TYPE_OF_DEVIATION\").then(\n      (res) => {\n        if (res.status === 200) {\n          setTypeOfDeviationCategoryOptions(res.data.results);\n        }\n        setTableTypeOFDeviationData(res.data.results);\n      }\n    );\n  };\n  /* \n    -------------------------------------------------------\n      validation :\n    -------------------------------------------------------\n  */\n  const simpleValidator = useRef(\n    new SimpleReactValidator({\n      validators: { ...getStandardValidator() },\n      ...messageReplace(),\n      autoForceUpdate: { forceUpdate: () => forceUpdate((prev) => !prev) },\n    })\n  );\n\n  const validate = (e: any) => {\n    simpleValidator?.current?.showMessageFor(e.target.name);\n  };\n\n  /* \n    -------------------------------------------------------\n      Sectional Render Functions: For Sub components / section wise renders\n    -------------------------------------------------------\n  */\n\n  const renderTypeOfDeviation = (rowData: any) => {\n    return (\n      <SimpleDropDown\n        name=\"type\"\n        variant={INPUT_STYLE_TYPE.SECONDARY}\n        disabled\n        value={autoMenuUID == \"\" ? rowData.type.uid : autoMenuUID}\n        options={typeOfDeviationCategoryOptions}\n        optionLabel=\"name\"\n        optionValue=\"uid\"\n      />\n    );\n  };\n  const [approvalLevelList, setApprovalLevelList] = useState<any>([]);\n  const getApprovalLevelList = () => {\n    OrgStructureApprovalService.getAll()\n      .then((res: any) => {\n        setApprovalLevelList([...res.data.results] ?? []);\n      })\n      .catch((err) => {\n        console.log(\"err\");\n      });\n  };\n  const renderApprovalLevel = (rowData: any) => {\n    return (\n      <SimpleDropDown\n        name=\"approvalLevel\"\n        variant={INPUT_STYLE_TYPE.SECONDARY}\n        onChange={(e) => {\n          const rowDataObj = { ...rowData };\n          rowDataObj.approvalLevel.uid = e.target.value;\n          dataTableRef.current?.reportDataChange(rowDataObj);\n        }}\n        value={rowData.approvalLevel?.uid}\n        onBlur={validate}\n        validation={simpleValidator?.current?.message(\n          \"approvalLevel\",\n          rowData.approvalLevel?.uid,\n          \"mandatory\"\n        )}\n        options={approvalLevelList}\n        optionLabel=\"name\"\n        optionValue=\"uid\"\n      />\n    );\n  };\n\n  const {\n    name,\n    ruleApplied,\n    productName,\n    displayName,\n    deviationCategory,\n    typeOfDeviation,\n    productScheme,\n    description,\n    reasons,\n  } = pageObj;\n\n  return (\n    <AclGuard>\n      <div className=\"flex flex-col gap-3\">\n        <div className=\"flex w-full justify-between  items-center\">\n          <PageTitle title={getPageTitle()} />\n\n          <div className=\"flex\">\n            {pageMode === PAGE_MODE.CREATE || pageMode === PAGE_MODE.EDIT ? (\n              <div className=\"flex gap-10\">\n                <div className=\"flex gap-5\">\n                  <ButtonBox buttonType={BUTTON_TYPE.CANCEL_OUTLINE} onClick={onCancelClick} />\n\n                  <ButtonBox\n                    buttonType={BUTTON_TYPE.SAVE_OUTLINE}\n                    onClickWithLoader={onSaveClick}\n                  />\n                </div>\n                <div>\n                  <ButtonBox\n                    className=\"approve-primary\"\n                    buttonType={BUTTON_TYPE.SEND_FOR_APPROVAL}\n                    onClickWithLoader={onApproveClick}\n                  />\n                </div>\n              </div>\n            ) : (\n              <>\n                <div className=\"mr-5\">\n                  <ButtonBox buttonType={BUTTON_TYPE.BACK_OUTLINE} onClick={onBackClick} />\n                </div>\n                <div className=\"\">\n                  <ButtonBox\n                    buttonType={BUTTON_TYPE.EDIT_OUTLINE}\n                    className=\"blue-primary\"\n                    onClick={onEditClick}\n                  />\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n        <AclGuard override={{ read: [PAGE_MODE.VIEW, PAGE_MODE.REVIEW].includes(pageMode) }}>\n          <div className=\"grid grid-cols-4 gap-3\">\n            <div className=\"col-span-4  md:col-span-1\">\n              <SimpleDropDown\n                label=\"input.productConfiguration.deviation.categoryWithoutStar\"\n                name=\"deviationCategory\"\n                variant={INPUT_STYLE_TYPE.SECONDARY}\n                options={deviationCategoryOptions}\n                onChange={handleInputChange}\n                value={deviationCategory}\n                optionLabel=\"name\"\n                optionValue=\"uid\"\n                disabled={pageMode === PAGE_MODE.VIEW}\n                onBlur={validateField}\n                validation={simpleValidator?.current?.message(\n                  \"deviationCategory\",\n                  deviationCategory,\n                  \"mandatory\"\n                )}\n              />\n            </div>\n\n            <div className=\"col-span-4  md:col-span-1\">\n              <InputBox\n                label=\"input.productConfiguration.deviation.name\"\n                name=\"displayName\"\n                variant={INPUT_STYLE_TYPE.SECONDARY}\n                onChange={handleInputChange}\n                value={displayName}\n                disabled={pageMode === PAGE_MODE.VIEW}\n                onBlur={validateField}\n                validation={simpleValidator?.current?.message(\n                  \"displayName\",\n                  displayName,\n                  \"mandatory|max:50\"\n                )}\n              />\n            </div>\n            <div className=\"col-span-4  md:col-span-1\">\n              <SimpleDropDown\n                label=\"input.productConfiguration.deviation.typeOfDeviationWithStar\"\n                name=\"typeOfDeviation\"\n                variant={INPUT_STYLE_TYPE.SECONDARY}\n                options={typeOfDeviationCategoryOptions}\n                onChange={handleInputChange}\n                value={typeOfDeviation}\n                optionLabel=\"name\"\n                optionValue=\"uid\"\n                disabled={pageMode !== PAGE_MODE.CREATE}\n                onBlur={validateField}\n                validation={simpleValidator?.current?.message(\n                  \"typeOfDeviation\",\n                  typeOfDeviation,\n                  \"mandatory\"\n                )}\n              />\n            </div>\n\n            <div className=\"\"></div>\n\n            <div className=\"col-span-4 md:col-span-2 flex w-full gap-2 \">\n              <div className=\"w-1/2\">\n                <SimpleDropDown\n                  label=\"input.productConfiguration.deviation.productName\"\n                  name=\"productName\"\n                  variant={INPUT_STYLE_TYPE.SECONDARY}\n                  options={productList}\n                  onChange={handleInputChange}\n                  value={productName}\n                  optionLabel=\"name\"\n                  optionValue=\"uid\"\n                  disabled={pageMode === PAGE_MODE.VIEW}\n                />\n              </div>\n              <div>\n                <div className=\"flex  justify-center items-center h-full\">or</div>\n              </div>\n              <div className=\"w-1/2\">\n                <SimpleDropDown\n                  label=\"input.productConfiguration.deviation.productScheme\"\n                  name=\"productScheme\"\n                  options={incomeList}\n                  variant={INPUT_STYLE_TYPE.SECONDARY}\n                  onChange={handleInputChange}\n                  value={productScheme}\n                  optionLabel=\"name\"\n                  optionValue=\"uid\"\n                  disabled={pageMode === PAGE_MODE.VIEW}\n                />\n              </div>\n            </div>\n\n            <div className=\"sm:hidden md:col-span-2 md:block\"></div>\n            <div className=\"sm:hidden\"></div>\n\n            <div className=\"col-span-8 sm:col-span-4 md:col-span-2\">\n              <InputTextArea\n                label=\"input.productConfiguration.transaction.description\"\n                name=\"description\"\n                variant={INPUT_STYLE_TYPE.SECONDARY}\n                maxCount={200}\n                onChange={handleInputChange}\n                value={description}\n                disabled={pageMode === PAGE_MODE.VIEW}\n              />\n            </div>\n            <div className=\"col-span-8  sm:col-span-4 md:col-span-2\">\n              <InputTextArea\n                label=\"input.productConfiguration.transaction.reasons\"\n                name=\"reasons\"\n                variant={INPUT_STYLE_TYPE.SECONDARY}\n                maxCount={200}\n                onChange={handleInputChange}\n                value={reasons}\n                onBlur={validateField}\n                validation={simpleValidator?.current?.message(\"reasons\", reasons, \"mandatory\")}\n                disabled={pageMode === PAGE_MODE.VIEW}\n              />\n            </div>\n          </div>\n          <div className=\"mt-3 flex w-full justify-between\">\n            <Text\n              label=\"Approvals\"\n              className=\"text-primary-ptext-1000 text-base font-Roboto font-bold flex\"\n            />\n            <ButtonBox buttonType={BUTTON_TYPE.ICON_TEXT_ROW} onClick={onAddRow} />\n          </div>\n          <div className=\"w-full \">\n            <EditableTableV2\n              uniqueKey=\"uid\"\n              standardDataFormatPromise={ProductDeviationCategoryService.getAllDeviationTable}\n              ref={dataTableRef}\n              search={`&deviation.uid=${uid}`}\n              mode={pageMode === PAGE_MODE.CREATE ? \"CREATE\" : \"UPDATE\"}\n            >\n              <Column\n                className=\"text-primary-ptext-1000 text-left text-xs w-1/4 p-1 h-12 pl-6\"\n                header=\"Type of Deviation*\"\n                body={renderTypeOfDeviation}\n              />\n              <Column\n                className=\"text-primary-ptext-1000 text-left text-xs w-1/3 pt-1 h-12 pl-6\"\n                header={\"Rule\"}\n                body={renderRule}\n              />\n\n              <Column\n                className=\"text-primary-ptext-1000 text-left text-xs w-1/4 p-1 h-12 pl-6\"\n                header=\"Approval Levels*\"\n                body={renderApprovalLevel}\n              />\n              <Column\n                className=\"text-primary-ptext-1000 text-left text-xs w-1/3 p-1 h-12 pl-6\"\n                header=\"Active\"\n                body={renderIsUserActive}\n              />\n              <Column\n                className=\"text-primary-ptext-1000  text-right text-xs w-1/3 h-12 px-6\"\n                header={\"Actions\"}\n                style={{ minWidth: \"50px\", width: \"50px\" }}\n                body={renderActions}\n              />\n            </EditableTableV2>\n          </div>\n        </AclGuard>\n        <div className=\"\">\n          <ToastCustom\n            position={position}\n            ref={toastMessageRef}\n            toastText={toastMessage}\n            variant={toastMessageVariant}\n            onRemove={() => {\n              if (navigateBack) {\n                props.navigate(linkProductConfigurationDeviation);\n              }\n            }}\n          />\n        </div>\n        <MenuBox\n          className=\"w-20 bg-white  font-Roboto text-xs text-primary-pText-1300 pt-2 rounded-lg mt-0.5 flex justify-center align-center shadow-autoCompletePanel\"\n          model={editModuleCardMenu}\n          ref={deleteTableRowRef}\n        />\n        <ErrorDialog\n          onHide={() => setShowDialogAPIError(false)}\n          visible={showDialogAPIError}\n          errorMessage={errorMessage}\n        />\n      </div>\n    </AclGuard>\n  );\n};\n\nexport default withRouter(PageDeviationCM);\n"],"names":["PageDeviationCM","props","pageObj","setPageObj","useState","initialObj","initialData","setInitData","pageMode","setPageMode","PAGE_MODE","forceUpdate","productList","setProductList","incomeList","setIncomeList","uid","setUid","dataTableRef","useRef","errorMessage","setErrorMessage","position","setPosition","toastMessageVariant","setToastMessageVariant","TOAST_STYLE_TYPE","toastMessage","setToastMessage","triggerToast","setTriggerToast","navigateBack","setNavigateBack","toastMessageRef","showDialogAPIError","setShowDialogAPIError","ruleList","setRoleList","timeOutLocal","setTimeOutLocal","renderFirst","setRenderFirst","deleteTableRowRef","deviationCategoryOptions","setDeviationCategoryOptions","typeOfDeviationCategoryOptions","setTypeOfDeviationCategoryOptions","tableTypeOfDeviationData","setTableTypeOFDeviationData","autoManu","setAutoManu","autoMenuUID","setAutoMenuUID","useEffect","parsed","queryString","getProductList","getIncomeSchemeList","getDeviationCategoryInfo","getApprovalLevelList","getTypeOfDeviationCategoryInfo","_a","getInitialData","getNameByUid","arrayOfObjects","matchedObject","obj","handleInputChange","event","name","value","nameOfTypeOfDeviation","prevPageObj","updatedObj","validateForm","isValid","simpleValidator","prev","_b","prepareToSaveCreate","addedRecords","_c","enrichForSave","transformedApprovalUsers","record","prepareToApprove","totalRecords","payloadForApprove","finalJsonObject","initialJsonObject","OPERATION_TYPE","ENTITY","stringifyObject","onSaveClick","STATIC_MASTER_TYPE_TOAST_TEXT","enrichedObj","ProductDeviationService","res","err","parseStandardAPIErrorMessage","onCancelClick","linkProductConfigurationDeviation","onApproveClick","StaticMasterTypeService","onBackClick","onEditClick","onAddRow","_d","_e","_g","_f","_h","_i","_k","_j","_m","_l","_o","_n","_p","_q","validateField","getPageTitle","getRuleList","searchTerm","BusinessRuleService","results","AUTOCOMPLETE_MESSAGES","debounce","func","delay","searchUsers","itemTemplate","item","jsxs","jsx","LoadingIcon","Text","renderRule","rowData","AutoComplete","DROPDOWN_STYLE_TYPE","e","selectedUser","rowDataObj","editModuleCardMenu","setEditModuleCardMenu","deleteRow","onToggleMenu","prevState","renderIsUserActive","CheckBox","CHECKBOX_STYLE_TYPE","renderActions","ButtonBox","BUTTON_TYPE","ProductConfigProductService","IncomeSchemeService","ProductDeviationCategoryService","StaticMasterDataService","SimpleReactValidator","getStandardValidator","messageReplace","validate","renderTypeOfDeviation","SimpleDropDown","INPUT_STYLE_TYPE","approvalLevelList","setApprovalLevelList","OrgStructureApprovalService","renderApprovalLevel","ruleApplied","productName","displayName","deviationCategory","typeOfDeviation","productScheme","description","reasons","AclGuard","PageTitle","Fragment","InputBox","InputTextArea","EditableTableV2","Column","ToastCustom","MenuBox","ErrorDialog","PageDeviationCM$1","withRouter"],"mappings":"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"}