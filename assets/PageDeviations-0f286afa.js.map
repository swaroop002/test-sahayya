{"version":3,"file":"PageDeviations-0f286afa.js","sources":["../../src/views/transaction/PageDDE/Legal/PageDeviations/PageDeviations.tsx"],"sourcesContent":["import AclGuard from \"components/AclGuard/AclGuard\";\nimport AutoComplete from \"components/AutoComplete/AutoComplete\";\nimport ButtonBox from \"components/ButtonBox/ButtonBox\";\nimport DeviationTable from \"components/DeviationTable/DeviationTable\";\nimport { Column, EditableComponentRef } from \"components/EditableTableV2\";\nimport ErrorDialog from \"components/ErrorDialog/ErrorDialog\";\nimport IconButton, { BUTTON_TYPES } from \"components/IconButton/IconButton\";\nimport Info from \"components/Info/Info\";\nimport InputTextArea from \"components/InputTextArea/InputTextArea\";\nimport SaveComponent from \"components/Save/SaveComponent\";\nimport Section from \"components/Section/Section\";\nimport SimpleDropDown from \"components/SimpleDropDown/SimpleDropDown\";\nimport Text from \"components/Text/Text\";\nimport TextButton from \"components/TextButton/TextButton\";\nimport ToastCustom from \"components/Toast\";\nimport i18n from \"i18n\";\nimport { ToastPositionType } from \"primereact/toast\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport StaticMasterDataService from \"services/masterdata/StaticMaster/StaticMasterDataService\";\nimport LegalService from \"services/transaction/DDE/LegalService\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport {\n  getStandardValidator,\n  messageReplace,\n  parseStandardAPIErrorMessage,\n  validateGetAPIResponse,\n  validatePutAPIResponse,\n} from \"utils/CommonUtil\";\nimport {\n  BUTTON_TYPE,\n  DEVIATION_CATEGORY,\n  INPUT_STYLE_TYPE,\n  PAGE_MODE,\n  STATIC_MASTER_TYPE_TOAST_TEXT,\n  TOAST_STYLE_TYPE,\n  TYPE_OF_DEVIATION,\n} from \"utils/Constant\";\nimport { isLegalSectionAccessDisabled, updateLegalDeviationsRowDataObj } from \"../Helper\";\n\nexport interface ILegalSectionProps {\n  isLoading?: boolean;\n  ref?: any;\n}\n\ninterface IDropDownOptions {\n  name: string;\n  code: string;\n  uid: string;\n}\n\ninterface IDropdownList {\n  deviationType: IDropDownOptions[];\n  deviationForAutomatic: IDropDownOptions[];\n  deviationForManual: IDropDownOptions[];\n}\n\nexport type TDeviationType = \"TYPE_OF_DEVIATION_AUTOMATIC\" | \"TYPE_OF_DEVIATION_MANUAL\";\ninterface IPageObj {\n  showInfo: boolean;\n  dropdownOptions: IDropdownList;\n  stageUid: string;\n  legalUid: string;\n  tableObj: {\n    search: string;\n  };\n}\n\nexport interface ILegalDeviationRowData {\n  uid: string;\n  loan: {\n    uid: string;\n  };\n  stage: {\n    uid: string;\n  };\n  deviation: {\n    uid: string;\n  };\n  smDeviationType: string;\n  actualDeviation: string;\n  mitigation: string;\n  isActive: boolean;\n  smDeviationCategory: string;\n}\n\nconst initialTableRowData: ILegalDeviationRowData = {\n  uid: \"\",\n  loan: {\n    uid: \"\",\n  },\n  stage: {\n    uid: \"\",\n  },\n  deviation: {\n    uid: \"\",\n  },\n  actualDeviation: \"\",\n  smDeviationType: TYPE_OF_DEVIATION.TYPE_OF_DEVIATION_MANUAL,\n  mitigation: \"\",\n  isActive: true,\n  smDeviationCategory: \"\",\n};\n\nconst initialPageOj: IPageObj = {\n  showInfo: true,\n  dropdownOptions: {\n    deviationType: [],\n    deviationForAutomatic: [],\n    deviationForManual: [],\n  },\n  stageUid: \"\",\n  legalUid: \"\",\n  tableObj: {\n    search: ``,\n  },\n};\n\nconst PageDeviations = () => {\n  const params: { loanUid?: string; stageUid?: string } = useParams();\n\n  /*\n    -------------------------------------------------------\n      State\n    -------------------------------------------------------\n  */\n\n  const [pageObj, setPageObj] = useState<IPageObj>({ ...initialPageOj });\n  const [pageMode, setPageMode] = useState(PAGE_MODE.VIEW);\n  const [deviationSuggestionsTemplate, setDeviationSuggestionsTemplate] = useState<\n    {\n      name: string | undefined;\n      uid: string | undefined;\n    }[]\n  >([]);\n\n  const [position, setPosition] = useState<ToastPositionType | undefined>(\"bottom-right\");\n  const [toastMessage, setToastMessage] = useState(\"\");\n  const [triggerToast, setTriggerToast] = useState(false);\n  const [toastMessageVariant, setToastMessageVariant] = useState(TOAST_STYLE_TYPE.PRIMARY);\n  const [showDialogAPIError, setShowDialogAPIError] = useState(false);\n  const [errorMessage, setErrorMessage] = useState<any>(\"\");\n\n  // ref\n  const tableRef = React.useRef<EditableComponentRef>(null);\n  const toastMessageRef = useRef(null);\n\n  const [, forceUpdate] = useState<boolean>(false);\n  const simpleValidator = useRef(\n    new SimpleReactValidator({\n      validators: { ...getStandardValidator() },\n      ...messageReplace(),\n      autoForceUpdate: { forceUpdate: () => forceUpdate((prev) => !prev) },\n    })\n  );\n\n  // --------------------------- global variables ---------------------- //\n\n  /*\n     -------------------------------------------------------\n       useEffect\n     -------------------------------------------------------\n   */\n\n  useEffect(() => {\n    setPageObj((prevPageObj) => ({\n      ...prevPageObj,\n      stageUid: params?.stageUid ?? \"\",\n    }));\n    getDeviationTypeOptions();\n  }, []);\n\n  useEffect(() => {\n    if (pageObj?.stageUid) {\n      getLegalDetails();\n    }\n  }, [pageObj?.stageUid]);\n\n  useEffect(() => {\n    if (pageObj.legalUid) {\n      setPageObj((prev) => ({\n        ...prev,\n        tableObj: {\n          search: `?loanUid=${params.loanUid}&legalUid=${pageObj.legalUid}&reEvalDeviations=false`,\n        },\n      }));\n    }\n  }, [pageObj?.legalUid]);\n\n  useEffect(() => {\n    if (pageObj.tableObj.search) {\n      tableRef.current?.search();\n    }\n  }, [pageObj.tableObj]);\n\n  useEffect(() => {\n    if (toastMessageRef?.current && toastMessage !== \"\") {\n      // @ts-ignore: will be fixed in future\n      toastMessageRef?.current?.showFunction();\n      setToastMessage(\"\");\n    }\n  }, [toastMessage, triggerToast]);\n\n  useEffect(() => {\n    if (errorMessage) {\n      setShowDialogAPIError(true);\n    }\n  }, [errorMessage]);\n\n  /*\n    -------------------------------------------------------\n      Service Calls\n    -------------------------------------------------------\n  */\n\n  const getLegalDetails = () => {\n    LegalService.getLegalDetails(pageObj?.stageUid ?? \"\")\n      .then((res) => {\n        if (validateGetAPIResponse(res)) {\n          setPageObj((prevObj: IPageObj) => ({\n            ...prevObj,\n            legalUid: res?.data?.results?.[0]?.uid,\n          }));\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setErrorMessage(parseStandardAPIErrorMessage(err));\n      });\n  };\n\n  const getDeviationTypeOptions = () => {\n    StaticMasterDataService.getAll(0, 1000, \"staticMasterType.code=TYPE_OF_DEVIATION&\")\n      .then((res) => {\n        if (validateGetAPIResponse(res)) {\n          updateDropdownOptions(\"deviationType\", res?.data?.results);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setErrorMessage(parseStandardAPIErrorMessage(err));\n      });\n  };\n\n  /*\n    -------------------------------------------------------\n      Handlers\n    -------------------------------------------------------\n  */\n\n  const handleDeviationTypeChange = (e: any, rowData: ILegalDeviationRowData) => {\n    let rowDataObj: ILegalDeviationRowData = { ...rowData };\n    rowDataObj = {\n      ...rowDataObj,\n      smDeviationType: e.target.value,\n    };\n    tableRef.current?.reportDataChange(rowDataObj);\n  };\n\n  const handleManualDeviationChange = (e: any, rowData: any) => {\n    const { value } = e.target;\n    if (typeof value === \"object\") {\n      let rowDataObj = { ...rowData };\n\n      rowDataObj = {\n        ...rowDataObj,\n        deviation: {\n          ...rowDataObj.deviation,\n          uid: e.target.value?.uid ?? \"\",\n          name: e.target.value?.name ?? \"\",\n        },\n      };\n      tableRef.current?.reportDataChange(rowDataObj);\n    }\n  };\n\n  const handleChange = (\n    e: any,\n    options: {\n      rowData: ILegalDeviationRowData;\n      field: keyof ILegalDeviationRowData;\n    }\n  ) => {\n    let rowDataObj: ILegalDeviationRowData = { ...options.rowData };\n    rowDataObj = {\n      ...rowDataObj,\n      [`${options.field}`]: e.target.value,\n    };\n    tableRef.current?.reportDataChange(rowDataObj);\n  };\n\n  /* \n    --------------------------------------------------------\n    Validators:\n    --------------------------------------------------------\n  */\n\n  const validate = (e: any) => {\n    simpleValidator?.current?.showMessageFor(e?.target?.name);\n  };\n\n  const validateForm = () => {\n    let isValid = false;\n    isValid = simpleValidator?.current?.allValid() ?? false;\n    if (isValid) {\n      return isValid;\n    } else {\n      forceUpdate((prev) => !prev);\n      simpleValidator?.current?.showMessages();\n      forceUpdate((prev) => !prev);\n      return false;\n    }\n  };\n\n  /*\n    -------------------------------------------------------\n      Button Click Handlers\n    -------------------------------------------------------\n  */\n\n  const onCloseInfo = () => {\n    setPageObj((prevPageObj) => ({ ...prevPageObj, showInfo: false }));\n  };\n\n  const onAddDeviation = () => {\n    tableRef.current?.addRow({ ...initialTableRowData });\n  };\n\n  const onDeleteRow = (rowData: ILegalDeviationRowData) => {\n    tableRef.current?.deleteRow(rowData);\n    simpleValidator.current = new SimpleReactValidator({\n      validators: { ...getStandardValidator() },\n      ...messageReplace(),\n      autoForceUpdate: { forceUpdate: () => forceUpdate((prev) => !prev) },\n    });\n  };\n\n  const onSave = async () => {\n    if (!validateForm()) {\n      return;\n    }\n    const payload = enrichForSave();\n\n    try {\n      const res = await LegalService.updateDeviations(payload);\n\n      if (validatePutAPIResponse(res)) {\n        setToastMessage(STATIC_MASTER_TYPE_TOAST_TEXT.SAVED);\n        setTriggerToast(!triggerToast);\n        setPageMode(PAGE_MODE.VIEW);\n        tableRef.current?.clearAll();\n        tableRef.current?.search();\n      }\n    } catch (error) {\n      console.log(error);\n      setErrorMessage(parseStandardAPIErrorMessage(error));\n    }\n  };\n\n  const onEdit = () => setPageMode(PAGE_MODE.EDIT);\n\n  const onCancel = () => {\n    setPageMode(PAGE_MODE.VIEW);\n    resetValidator();\n    setPageObj((prev) => ({\n      ...prev,\n      tableObj: {\n        search: `?loanUid=${params.loanUid}&legalUid=${pageObj.legalUid}&reEvalDeviations=false`,\n      },\n    }));\n    tableRef.current?.clearAll();\n  };\n\n  const onPopulateAutoDeviations = async () => {\n    try {\n      // resetting the validator because on click of autopopulate, table search triggers and new row(s) are added but the previous added rows (if any) without data are getting validated\n      simpleValidator.current = new SimpleReactValidator({\n        validators: { ...getStandardValidator() },\n        ...messageReplace(),\n        autoForceUpdate: { forceUpdate: () => forceUpdate((prev) => !prev) },\n      });\n      setPageObj((prev) => ({\n        ...prev,\n        tableObj: {\n          search: `?loanUid=${params.loanUid}&legalUid=${pageObj.legalUid}&reEvalDeviations=true`,\n        },\n      }));\n      tableRef.current?.clearAll();\n    } catch (error) {\n      console.log(error);\n      setErrorMessage(parseStandardAPIErrorMessage(error));\n    }\n  };\n\n  /*\n    -------------------------------------------------------\n      Helper Functions\n    -------------------------------------------------------\n  */\n\n  const searchManualDeviation = async (e: any, rowData: any) => {\n    let suggestionsTemplate: any[] = [];\n    try {\n      const search = `&deviationCategory.name=${DEVIATION_CATEGORY.LEGAL_DEVIATIONS}&type.code=${TYPE_OF_DEVIATION.TYPE_OF_DEVIATION_MANUAL}&name:lk=${e.query}`;\n\n      const res = await LegalService.getDeviationNames(0, 10, search);\n\n      if (validateGetAPIResponse(res)) {\n        suggestionsTemplate = res?.data?.results?.map((record: any) => {\n          return {\n            name: record?.name,\n            uid: record?.uid,\n          };\n        });\n      }\n    } catch (error) {\n      setToastMessageVariant(TOAST_STYLE_TYPE.QUATERNARY);\n      setPosition(\"top-right\");\n      setToastMessage(STATIC_MASTER_TYPE_TOAST_TEXT.ERROR);\n      setTriggerToast(!triggerToast);\n    }\n\n    if (suggestionsTemplate.length === 0) {\n      suggestionsTemplate.push({ name: \"\", uid: \"\" });\n    }\n\n    setDeviationSuggestionsTemplate(suggestionsTemplate);\n  };\n\n  const enrichForSave = () => {\n    const data = {\n      loanUid: params?.loanUid ?? \"\",\n      stageUid: pageObj?.stageUid ?? \"\",\n    };\n\n    let addRows = tableRef.current?.getAddedRecords() ?? [];\n    let deletedRows = tableRef.current?.getDeletedRecords() ?? [];\n    let updatedRows = tableRef.current?.getUpdatedRecords() ?? [];\n    addRows = addRows.map((rowData: any) => ({\n      ...rowData,\n      loan: {\n        uid: data?.loanUid,\n      },\n      stage: {\n        uid: data?.stageUid,\n      },\n      smDeviationCategory: DEVIATION_CATEGORY.LEGAL_DEVIATIONS,\n    }));\n\n    deletedRows = deletedRows.map((rowData: any) => updateLegalDeviationsRowDataObj(rowData));\n    updatedRows = updatedRows.map((rowData: any) => updateLegalDeviationsRowDataObj(rowData));\n\n    const enrichData = [...addRows, ...deletedRows, ...updatedRows];\n    return enrichData;\n  };\n\n  const updateDropdownOptions = (key: keyof IDropdownList, options: any[]) => {\n    setPageObj((prevState: any) => ({\n      ...prevState,\n      dropdownOptions: {\n        ...prevState?.dropdownOptions,\n        [key]: options ?? [],\n      },\n    }));\n  };\n\n  const resetValidator = () => {\n    simpleValidator.current = new SimpleReactValidator({\n      validators: { ...getStandardValidator() },\n      ...messageReplace(),\n      autoForceUpdate: { forceUpdate: () => forceUpdate((prev) => !prev) },\n    });\n    simpleValidator?.current?.hideMessages();\n  };\n\n  /*\n    -------------------------------------------------------\n      Sectional Rendering\n    -------------------------------------------------------\n  */\n\n  const manualDeviationsTemplate = (item: any) => {\n    if (item?.name === undefined) {\n      return (\n        <div className=\"flex flex-col items-center justify-center h-39 pointer-events-none cursor-default\">\n          <Text className=\"text-primary-labelColor mt-2\" label=\"label.noDataFound\" />\n        </div>\n      );\n    }\n    return (\n      <div className=\"flex flex-col\">\n        <Text className=\"text-primary-labelColor\" label={item?.name} />\n      </div>\n    );\n  };\n\n  const renderHeaderTypeOfDeviation = () => {\n    return (\n      <div className=\"flex items-center\">\n        <Text label={i18n.t(\"label.legal.deviationType*\")} />\n      </div>\n    );\n  };\n\n  const renderTypeOfDeviations = (rowData: ILegalDeviationRowData) => {\n    return (\n      <div className=\"h-24\">\n        <SimpleDropDown\n          placeholder=\"placeholder.legal.deviationType\"\n          name={`typeOfDeviation${rowData?.uid}`}\n          value={rowData?.smDeviationType}\n          variant={INPUT_STYLE_TYPE.PRIMARY}\n          options={pageObj.dropdownOptions.deviationType}\n          optionLabel=\"name\"\n          optionValue=\"code\"\n          onChange={(e) => handleDeviationTypeChange(e, rowData)}\n          onBlur={validate}\n          validation={simpleValidator?.current?.message(\n            `typeOfDeviation${rowData?.uid}`,\n            rowData?.smDeviationType,\n            \"mandatory\"\n          )}\n          hideLabel\n          disabled\n        />\n      </div>\n    );\n  };\n\n  const renderHeaderDeviation = () => {\n    return (\n      <div className=\"flex items-center\">\n        <Text label={i18n.t(\"label.legal.deviation*\")} />\n      </div>\n    );\n  };\n\n  const renderDeviation = (rowData: any) => {\n    return (\n      <div className=\"h-24\">\n        {rowData?.smDeviationType === TYPE_OF_DEVIATION.TYPE_OF_DEVIATION_MANUAL ? (\n          <AutoComplete\n            variant={INPUT_STYLE_TYPE.PRIMARY}\n            placeholder=\"\"\n            name={`deviation${rowData?.uid}`}\n            value={rowData?.deviation?.name}\n            suggestions={deviationSuggestionsTemplate}\n            completeMethod={(e: any) => searchManualDeviation(e, rowData)}\n            onChange={(e) => handleManualDeviationChange(e, rowData)}\n            itemTemplate={manualDeviationsTemplate}\n            onBlur={validate}\n            validation={simpleValidator?.current?.message(\n              `deviation${rowData?.uid}`,\n              rowData?.deviation?.name,\n              `mandatory`\n            )}\n            hideLabel\n          />\n        ) : (\n          <>\n            {rowData?.smDeviationType === TYPE_OF_DEVIATION.TYPE_OF_DEVIATION_AUTOMATIC ? (\n              <AutoComplete\n                variant={INPUT_STYLE_TYPE.PRIMARY}\n                placeholder=\"\"\n                name={`deviation${rowData?.uid}`}\n                value={rowData?.deviation?.name}\n                onBlur={validate}\n                validation={simpleValidator?.current?.message(\n                  `deviation${rowData?.uid}`,\n                  rowData?.deviation?.name,\n                  `mandatory`\n                )}\n                hideLabel\n                disabled\n              />\n            ) : null}\n          </>\n        )}\n      </div>\n    );\n  };\n\n  const renderHeaderActualDeviation = () => {\n    return (\n      <div className=\"flex items-center\">\n        <Text label={i18n.t(\"label.legal.actualDeviation*\")} />\n      </div>\n    );\n  };\n\n  const renderActualDeviation = (rowData: ILegalDeviationRowData) => {\n    return (\n      <div className=\"h-24\">\n        <InputTextArea\n          name={`actualDeviation${rowData?.uid}`}\n          className=\"!h-full\"\n          variant={INPUT_STYLE_TYPE.SECONDARY}\n          maxCount={1000}\n          autoResize\n          value={rowData?.actualDeviation}\n          onChange={(e) => handleChange(e, { rowData, field: \"actualDeviation\" })}\n          onBlur={validate}\n          validation={simpleValidator?.current?.message(\n            `actualDeviation${rowData?.uid}`,\n            rowData?.actualDeviation,\n            \"mandatory\"\n          )}\n          hideLabel\n        />\n      </div>\n    );\n  };\n\n  const renderHeaderMitigants = () => {\n    return (\n      <div className=\"flex items-center\">\n        <Text label={i18n.t(\"label.legal.mitigants*\")} />\n      </div>\n    );\n  };\n\n  const renderMitigants = (rowData: ILegalDeviationRowData) => {\n    return (\n      <div className=\"h-24\">\n        <InputTextArea\n          name={`mitigates${rowData?.uid}`}\n          className=\"!h-full\"\n          variant={INPUT_STYLE_TYPE.SECONDARY}\n          maxCount={1000}\n          autoResize\n          value={rowData?.mitigation}\n          onChange={(e) => handleChange(e, { rowData, field: \"mitigation\" })}\n          onBlur={validate}\n          validation={simpleValidator?.current?.message(\n            `mitigates${rowData?.uid}`,\n            rowData?.mitigation,\n            \"mandatory\"\n          )}\n          hideLabel\n        />\n      </div>\n    );\n  };\n\n  const renderHeaderAction = () => {\n    return (\n      <div className=\"flex items-center\">\n        <Text label={i18n.t(\"label.investmentInfo.table.colTitle.action\")} />\n      </div>\n    );\n  };\n\n  const renderActions = (rowData: any) => {\n    return (\n      <div className=\"h-24\">\n        <IconButton\n          buttonType={BUTTON_TYPES.DELETE}\n          onClick={() => {\n            onDeleteRow(rowData);\n          }}\n          tooltipOptions={{\n            position: \"left\",\n            className: \"text-xs font-Roboto bg-black text-white !p-1 rounded-md \",\n            showDelay: \"1000,\",\n            hideDelay: \"300\",\n          }}\n          disabled={\n            pageMode === PAGE_MODE.VIEW ||\n            rowData?.smDeviationType === TYPE_OF_DEVIATION.TYPE_OF_DEVIATION_AUTOMATIC\n          }\n        />\n      </div>\n    );\n  };\n\n  /*\n    -------------------------------------------------------\n    Main Rendering\n    -------------------------------------------------------\n  */\n  return (\n    <div className=\"grid gap-5 mb-5\">\n      {pageObj?.showInfo ? (\n        <Info description=\"description.legal.info\" onClose={onCloseInfo} />\n      ) : null}\n\n      <Section title=\"label.legal.legalDeviation\">\n        <SaveComponent\n          title=\"\"\n          pageMode={pageMode}\n          onSave={onSave}\n          onCancel={onCancel}\n          onEdit={onEdit}\n        >\n          <AclGuard override={{ read: pageMode === PAGE_MODE.VIEW }}>\n            <div className=\"flex justify-between\">\n              <div className=\"\">\n                <Text\n                  label={\"label.legal.deviations\"}\n                  className=\"text-primary-sideBarBgColor text-xs font-bold\"\n                />\n              </div>\n              <div className=\"flex\">\n                <div className=\" mr-3 self-center\">\n                  <TextButton\n                    label=\"Populate Auto Deviations\"\n                    onClick={onPopulateAutoDeviations}\n                    disabled={!pageObj?.legalUid ? true : false}\n                  />\n                </div>\n                <div className=\" mr-3 self-center\">\n                  <ButtonBox\n                    buttonType={BUTTON_TYPE.ICON_TEXT_ROW}\n                    customLabel={\"Add\"}\n                    onClick={onAddDeviation}\n                    disabled={pageMode === PAGE_MODE.VIEW}\n                  />\n                </div>\n              </div>\n            </div>\n\n            {pageObj.stageUid && pageObj.legalUid ? (\n              <DeviationTable\n                ref={tableRef}\n                standardDataFormatPromise={LegalService.getLegalDeviations}\n                search={pageObj.tableObj.search}\n                uniqueKey=\"uid\"\n                mode={\"UPDATE\"}\n                isIgnoreInitialLoad\n              >\n                <Column\n                  header={renderHeaderTypeOfDeviation}\n                  className=\"text-primary-ptext-1000 text-xs py-3 pl-6\"\n                  style={{ minWidth: \"170px\", width: \"170px\" }}\n                  body={renderTypeOfDeviations}\n                />\n                <Column\n                  header={renderHeaderDeviation}\n                  className=\"table-header-right text-primary-ptext-1000 text-xs py-3 pl-6\"\n                  body={renderDeviation}\n                />\n                <Column\n                  header={renderHeaderActualDeviation}\n                  className=\"table-header-right text-primary-ptext-1000 text-xs py-3 pl-6\"\n                  body={renderActualDeviation}\n                />\n                <Column\n                  header={renderHeaderMitigants}\n                  className=\"table-header-right text-primary-ptext-1000 text-xs py-3 pl-6\"\n                  body={renderMitigants}\n                />\n                <Column\n                  header={renderHeaderAction}\n                  className=\"text-primary-ptext-1000 text-center text-xs py-3 px-6\"\n                  style={{ minWidth: \"50px\", width: \"50px\" }}\n                  body={renderActions}\n                />\n              </DeviationTable>\n            ) : null}\n          </AclGuard>\n        </SaveComponent>\n      </Section>\n\n      <ToastCustom\n        position={\"bottom-right\"}\n        ref={toastMessageRef}\n        toastText={toastMessage}\n        variant={TOAST_STYLE_TYPE.PRIMARY}\n      />\n\n      <ErrorDialog\n        onHide={() => {\n          setShowDialogAPIError(false);\n          setErrorMessage(\"\");\n        }}\n        visible={showDialogAPIError}\n        errorMessage={errorMessage}\n      />\n    </div>\n  );\n};\n\nexport default PageDeviations;\n"],"names":["initialTableRowData","TYPE_OF_DEVIATION","initialPageOj","PageDeviations","params","useParams","pageObj","setPageObj","useState","pageMode","setPageMode","PAGE_MODE","deviationSuggestionsTemplate","setDeviationSuggestionsTemplate","position","setPosition","toastMessage","setToastMessage","triggerToast","setTriggerToast","toastMessageVariant","setToastMessageVariant","TOAST_STYLE_TYPE","showDialogAPIError","setShowDialogAPIError","errorMessage","setErrorMessage","tableRef","React","toastMessageRef","useRef","forceUpdate","simpleValidator","SimpleReactValidator","getStandardValidator","messageReplace","prev","useEffect","prevPageObj","getDeviationTypeOptions","getLegalDetails","_a","LegalService","res","validateGetAPIResponse","prevObj","_c","_b","err","parseStandardAPIErrorMessage","StaticMasterDataService","updateDropdownOptions","handleDeviationTypeChange","rowData","rowDataObj","handleManualDeviationChange","value","handleChange","options","validate","validateForm","isValid","onCloseInfo","onAddDeviation","onDeleteRow","onSave","payload","enrichForSave","validatePutAPIResponse","STATIC_MASTER_TYPE_TOAST_TEXT","error","onEdit","onCancel","resetValidator","onPopulateAutoDeviations","searchManualDeviation","suggestionsTemplate","search","DEVIATION_CATEGORY","record","data","addRows","deletedRows","updatedRows","updateLegalDeviationsRowDataObj","key","prevState","manualDeviationsTemplate","item","jsx","Text","renderHeaderTypeOfDeviation","i18n","renderTypeOfDeviations","SimpleDropDown","INPUT_STYLE_TYPE","e","renderHeaderDeviation","renderDeviation","AutoComplete","Fragment","_d","_f","_e","renderHeaderActualDeviation","renderActualDeviation","InputTextArea","renderHeaderMitigants","renderMitigants","renderHeaderAction","renderActions","IconButton","BUTTON_TYPES","jsxs","Info","Section","SaveComponent","AclGuard","TextButton","ButtonBox","BUTTON_TYPE","DeviationTable","Column","ToastCustom","ErrorDialog"],"mappings":"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"}