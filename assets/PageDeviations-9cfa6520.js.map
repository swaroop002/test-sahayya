{"version":3,"file":"PageDeviations-9cfa6520.js","sources":["../../src/views/transaction/PageTechnical/PageDeviations/PageDeviations.tsx"],"sourcesContent":["import AclGuard from \"components/AclGuard/AclGuard\";\nimport AutoComplete from \"components/AutoComplete/AutoComplete\";\nimport ButtonBox from \"components/ButtonBox/ButtonBox\";\nimport DeviationTable from \"components/DeviationTable/DeviationTable\";\nimport { Column, EditableComponentRef } from \"components/EditableTableV2\";\nimport ErrorDialog from \"components/ErrorDialog/ErrorDialog\";\nimport IconButton, { BUTTON_TYPES } from \"components/IconButton/IconButton\";\nimport Info from \"components/Info/Info\";\nimport InputTextArea from \"components/InputTextArea/InputTextArea\";\nimport SaveComponent from \"components/Save/SaveComponent\";\nimport Section from \"components/Section/Section\";\nimport SimpleDropDown from \"components/SimpleDropDown\";\nimport Text from \"components/Text/Text\";\nimport TextButton from \"components/TextButton/TextButton\";\nimport ToastCustom from \"components/Toast\";\nimport i18n from \"i18n\";\nimport { ToastPositionType } from \"primereact/toast\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport StaticMasterDataService from \"services/masterdata/StaticMaster/StaticMasterDataService\";\nimport TechnicalService from \"services/transaction/DDE/TechnicalService\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport {\n  getStandardValidator,\n  messageReplace,\n  parseStandardAPIErrorMessage,\n  validateGetAPIResponse,\n  validatePutAPIResponse,\n} from \"utils/CommonUtil\";\nimport {\n  BUTTON_TYPE,\n  DEVIATION_CATEGORY,\n  INPUT_STYLE_TYPE,\n  PAGE_MODE,\n  STATIC_MASTER_TYPE_TOAST_TEXT,\n  TOAST_STYLE_TYPE,\n  TYPE_OF_DEVIATION,\n} from \"utils/Constant\";\n\ninterface IDropDownOptions {\n  name: string;\n  code: string;\n  uid: string;\n}\n\ninterface IDropdownList {\n  deviationType: IDropDownOptions[];\n  deviationForAutomatic: IDropDownOptions[];\n  deviationForManual: IDropDownOptions[];\n}\n\nexport type TDeviationType = \"TYPE_OF_DEVIATION_AUTOMATIC\" | \"TYPE_OF_DEVIATION_MANUAL\";\ninterface IPageObj {\n  showInfo: boolean;\n  dropdownOptions: IDropdownList;\n  stageUid: string;\n  technicalUid: string;\n  tableObj: {\n    search: string;\n  };\n}\n\nexport interface ITechnicalDeviationRowData {\n  uid: string;\n  loan: {\n    uid: string;\n  };\n  stage: {\n    uid: string;\n  };\n  deviation: {\n    uid: string;\n  };\n  smDeviationType: string;\n  actualDeviation: string;\n  mitigation: string;\n  isActive: boolean;\n  smDeviationCategory: string;\n}\n\nconst initialTableRowData: ITechnicalDeviationRowData = {\n  uid: \"\",\n  loan: {\n    uid: \"\",\n  },\n  stage: {\n    uid: \"\",\n  },\n  deviation: {\n    uid: \"\",\n  },\n  actualDeviation: \"\",\n  smDeviationType: TYPE_OF_DEVIATION.TYPE_OF_DEVIATION_MANUAL,\n  mitigation: \"\",\n  isActive: true,\n  smDeviationCategory: \"\",\n};\n\nconst initialPageOj: IPageObj = {\n  showInfo: true,\n  dropdownOptions: {\n    deviationType: [],\n    deviationForAutomatic: [],\n    deviationForManual: [],\n  },\n  stageUid: \"\",\n  technicalUid: \"\",\n  tableObj: {\n    search: ``,\n  },\n};\n\nconst PageDeviations = () => {\n\n  const params: { loanUid?: string; stageUid?: string } = useParams();\n\n  /*\n    -------------------------------------------------------\n      State\n    -------------------------------------------------------\n  */\n  const [pageMode, setPageMode] = useState(PAGE_MODE.VIEW);\n  const [pageObj, setPageObj] = useState<IPageObj>({ ...initialPageOj });\n  const [deviationSuggestionsTemplate, setDeviationSuggestionsTemplate] = useState<\n    {\n      name: string | undefined;\n      uid: string | undefined;\n    }[]\n  >([]);\n\n  const [position, setPosition] = useState<ToastPositionType | undefined>(\"bottom-right\");\n  const [, forceUpdate] = useState<boolean>(false);\n  const [toastMessage, setToastMessage] = useState(\"\");\n  const [triggerToast, setTriggerToast] = useState(false);\n  const [toastMessageVariant, setToastMessageVariant] = useState(TOAST_STYLE_TYPE.PRIMARY);\n  const [errorMessage, setErrorMessage] = useState<any>(\"\");\n  const [showDialogAPIError, setShowDialogAPIError] = useState(false);\n  // ref\n  const tableRef = React.useRef<EditableComponentRef>(null);\n  const toastMessageRef = useRef(null);\n  const simpleValidator = useRef(\n    new SimpleReactValidator({\n      validators: { ...getStandardValidator() },\n      ...messageReplace(),\n      autoForceUpdate: { forceUpdate: () => forceUpdate((prev) => !prev) },\n    })\n  );\n  // --------------------------- global variables ---------------------- //\n\n  /*\n     -------------------------------------------------------\n       useEffect\n     -------------------------------------------------------\n   */\n\n  useEffect(() => {\n    setPageObj((prevPageObj) => ({\n      ...prevPageObj,\n      stageUid: params?.stageUid ?? \"\",\n    }));\n    getDeviationTypeOptions();\n  }, []);\n\n  useEffect(() => {\n    if (pageObj?.stageUid) {\n      getTechnicalDetails();\n    }\n  }, [pageObj?.stageUid]);\n\n  useEffect(() => {\n    if (pageObj.technicalUid) {\n      setPageObj((prev) => ({\n        ...prev,\n        tableObj: {\n          search: `?loanUid=${params.loanUid}&technicalUid=${pageObj.technicalUid}&reEvalDeviations=false`,\n        },\n      }));\n    }\n  }, [pageObj?.technicalUid]);\n\n  useEffect(() => {\n    if (pageObj.tableObj.search) {\n      tableRef?.current?.search();\n    }\n  }, [pageObj.tableObj]);\n\n  useEffect(() => {\n    if (toastMessageRef?.current && toastMessage !== \"\") {\n      // @ts-ignore: will be fixed in future\n      toastMessageRef?.current?.showFunction();\n      setToastMessage(\"\");\n    }\n  }, [toastMessage, triggerToast]);\n\n  useEffect(() => {\n    if (errorMessage) {\n      setShowDialogAPIError(true);\n    }\n  }, [errorMessage]);\n\n  /*\n    -------------------------------------------------------\n      Service Calls\n    -------------------------------------------------------\n  */\n\n  const getTechnicalDetails = () => {\n    TechnicalService.getTechnicalDetails(pageObj?.stageUid ?? \"\")\n      .then((res) => {\n        if (validateGetAPIResponse(res)) {\n          setPageObj((prevObj: IPageObj) => ({\n            ...prevObj,\n            technicalUid: res?.data?.results?.[0]?.uid,\n          }));\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setErrorMessage(parseStandardAPIErrorMessage(err));\n      });\n  };\n\n  const getDeviationTypeOptions = () => {\n    StaticMasterDataService.getAll(0, 1000, \"staticMasterType.code=TYPE_OF_DEVIATION\")\n      .then((res) => {\n        if (validateGetAPIResponse(res)) {\n          updateDropdownOptions(\"deviationType\", res?.data?.results);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setErrorMessage(parseStandardAPIErrorMessage(err));\n      });\n  };\n\n  /*\n    -------------------------------------------------------\n      Handlers\n    -------------------------------------------------------\n  */\n  const handleDeviationTypeChange = (e: any, rowData: ITechnicalDeviationRowData) => {\n    let rowDataObj: ITechnicalDeviationRowData = { ...rowData };\n    rowDataObj = {\n      ...rowDataObj,\n      smDeviationType: e.target.value,\n    };\n    tableRef.current?.reportDataChange(rowDataObj);\n  };\n\n  const handleManualDeviationChange = (e: any, rowData: any) => {\n    const { value } = e.target;\n    if (typeof value === \"object\") {\n      let rowDataObj = { ...rowData };\n\n      rowDataObj = {\n        ...rowDataObj,\n        deviation: {\n          ...rowDataObj.deviation,\n          uid: e.target.value?.uid ?? \"\",\n          name: e.target.value?.name ?? \"\",\n        },\n      };\n      tableRef.current?.reportDataChange(rowDataObj);\n    }\n  };\n\n  const handleChange = (\n    e: any,\n    options: {\n      rowData: ITechnicalDeviationRowData;\n      field: keyof ITechnicalDeviationRowData;\n    }\n  ) => {\n    let rowDataObj: ITechnicalDeviationRowData = { ...options.rowData };\n    rowDataObj = {\n      ...rowDataObj,\n      [`${options.field}`]: e.target.value,\n    };\n    tableRef.current?.reportDataChange(rowDataObj);\n  };\n  /* \n    --------------------------------------------------------\n    Validators:\n    --------------------------------------------------------\n  */\n\n  const validate = (e: any) => {\n    simpleValidator?.current?.showMessageFor(e?.target?.name);\n  };\n\n  const validateForm = () => {\n    let isValid = false;\n    isValid = simpleValidator?.current?.allValid() ?? false;\n    if (isValid) {\n      return isValid;\n    } else {\n      forceUpdate((prev) => !prev);\n      simpleValidator?.current?.showMessages();\n      forceUpdate((prev) => !prev);\n      return false;\n    }\n  };\n\n  /*\n    -------------------------------------------------------\n      Button Click Handlers\n    -------------------------------------------------------\n  */\n  const onCloseInfo = () => {\n    setPageObj((prevPageObj) => ({ ...prevPageObj, showInfo: false }));\n  };\n\n  const onAddDeviation = () => {\n    tableRef.current?.addRow({ ...initialTableRowData });\n  };\n\n  const onDeleteRow = (rowData: ITechnicalDeviationRowData) => {\n    tableRef.current?.deleteRow(rowData);\n    simpleValidator.current = new SimpleReactValidator({\n      validators: { ...getStandardValidator() },\n      ...messageReplace(),\n      autoForceUpdate: { forceUpdate: () => forceUpdate((prev) => !prev) },\n    });\n  };\n\n  const onSave = async () => {\n    if (!validateForm()) {\n      return;\n    }\n    const payload = enrichForSave();\n\n    try {\n      const res = await TechnicalService.updateDeviations(payload);\n\n      if (validatePutAPIResponse(res)) {\n        setToastMessage(STATIC_MASTER_TYPE_TOAST_TEXT.SAVED);\n        setTriggerToast(!triggerToast);\n        setPageMode(PAGE_MODE.VIEW);\n        tableRef.current?.clearAll();\n        tableRef.current?.search();\n      }\n    } catch (error) {\n      setErrorMessage(parseStandardAPIErrorMessage(error));\n    }\n  };\n\n  const onEdit = () => setPageMode(PAGE_MODE.EDIT);\n\n  const onCancel = () => {\n    setPageMode(PAGE_MODE.VIEW);\n    resetValidator();\n    setPageObj((prev) => ({\n      ...prev,\n      tableObj: {\n        search: `?loanUid=${params.loanUid}&technicalUid=${pageObj.technicalUid}&reEvalDeviations=false`,\n      },\n    }));\n    tableRef?.current?.clearAll();\n  };\n\n  const onPopulateAutoDeviations = async () => {\n    // resetting the validator because on click of autopopulate, table search triggers and new row(s) are added but the previous added rows (if any) without data are getting validated\n    simpleValidator.current = new SimpleReactValidator({\n      validators: { ...getStandardValidator() },\n      ...messageReplace(),\n      autoForceUpdate: { forceUpdate: () => forceUpdate((prev) => !prev) },\n    });\n\n    try {\n      setPageObj((prev) => ({\n        ...prev,\n        tableObj: {\n          search: `?loanUid=${params.loanUid}&technicalUid=${pageObj.technicalUid}&reEvalDeviations=true`,\n        },\n      }));\n      tableRef.current?.clearAll();\n    } catch (error) {\n      setErrorMessage(parseStandardAPIErrorMessage(error));\n    }\n  };\n  /*\n    -------------------------------------------------------\n      Helper Functions\n    -------------------------------------------------------\n  */\n\n  const searchManualDeviation = async (e: any, rowData: any) => {\n    let suggestionsTemplate: any[] = [];\n    try {\n      const search = `&deviationCategory.name=${DEVIATION_CATEGORY.TECHNICAL_DEVIATIONS}&type.code=${TYPE_OF_DEVIATION.TYPE_OF_DEVIATION_MANUAL}&name:lk=${e.query}`;\n\n      const res = await TechnicalService.getDeviationNames(0, 10, search);\n\n      if (validateGetAPIResponse(res)) {\n        suggestionsTemplate = res?.data?.results?.map((record: any) => {\n          return {\n            name: record?.name,\n            uid: record?.uid,\n          };\n        });\n      }\n    } catch (error) {\n      setToastMessageVariant(TOAST_STYLE_TYPE.QUATERNARY);\n      setPosition(\"top-right\");\n      setToastMessage(STATIC_MASTER_TYPE_TOAST_TEXT.ERROR);\n      setTriggerToast(!triggerToast);\n    }\n\n    if (suggestionsTemplate.length === 0) {\n      suggestionsTemplate.push({ name: \"\", uid: \"\" });\n    }\n\n    setDeviationSuggestionsTemplate(suggestionsTemplate);\n  };\n\n  const enrichForSave = () => {\n    const data = {\n      loanUid: params?.loanUid ?? \"\",\n      stageUid: pageObj?.stageUid,\n    };\n\n    const updateTechnicallDeviationsRowDataObj = (data: any): ITechnicalDeviationRowData => {\n      const obj: ITechnicalDeviationRowData = {\n        uid: data?.uid,\n        loan: {\n          uid: data?.loan?.uid,\n        },\n        stage: {\n          uid: data?.stage?.uid,\n        },\n        actualDeviation: data?.actualDeviation,\n        deviation: {\n          uid: data?.deviation?.uid,\n        },\n        smDeviationType: data?.smDeviationType,\n        mitigation: data?.mitigation,\n        isActive: data?.isActive,\n        smDeviationCategory: DEVIATION_CATEGORY.TECHNICAL_DEVIATIONS,\n      };\n      return obj;\n    };\n\n    let addRows = tableRef.current?.getAddedRecords() ?? [];\n    let deletedRows = tableRef.current?.getDeletedRecords() ?? [];\n    let updatedRows = tableRef.current?.getUpdatedRecords() ?? [];\n\n    addRows = addRows.map((rowData: any) => ({\n      ...rowData,\n      loan: {\n        uid: data?.loanUid,\n      },\n      stage: {\n        uid: data?.stageUid,\n      },\n      smDeviationCategory: DEVIATION_CATEGORY.TECHNICAL_DEVIATIONS,\n    }));\n\n    deletedRows = deletedRows.map((rowData: any) => updateTechnicallDeviationsRowDataObj(rowData));\n    updatedRows = updatedRows.map((rowData: any) => updateTechnicallDeviationsRowDataObj(rowData));\n\n    const enrichData = [...addRows, ...deletedRows, ...updatedRows];\n    return enrichData;\n  };\n\n  const updateDropdownOptions = (key: keyof IDropdownList, options: any[]) => {\n    setPageObj((prevState: any) => ({\n      ...prevState,\n      dropdownOptions: {\n        ...prevState?.dropdownOptions,\n        [key]: options ?? [],\n      },\n    }));\n  };\n\n  const resetValidator = () => {\n    simpleValidator.current = new SimpleReactValidator({\n      validators: { ...getStandardValidator() },\n      ...messageReplace(),\n      autoForceUpdate: { forceUpdate: () => forceUpdate((prev) => !prev) },\n    });\n    simpleValidator?.current?.hideMessages();\n  };\n\n  /*\n    -------------------------------------------------------\n      Sectional Rendering\n    -------------------------------------------------------\n  */\n\n  const manualDeviationsTemplate = (item: any) => {\n    if (item?.name === undefined) {\n      return (\n        <div className=\"flex flex-col items-center justify-center h-39 pointer-events-none cursor-default\">\n          <Text className=\"text-primary-labelColor mt-2\" label=\"label.noDataFound\" />\n        </div>\n      );\n    }\n    return (\n      <div className=\"flex flex-col\">\n        <Text className=\"text-primary-labelColor\" label={item?.name} />\n      </div>\n    );\n  };\n\n  const renderHeaderTypeOfDeviation = () => {\n    return (\n      <div className=\"flex items-center\">\n        <Text label={i18n.t(\"label.legal.deviationType*\")} />\n      </div>\n    );\n  };\n\n  const renderTypeOfDeviations = (rowData: ITechnicalDeviationRowData) => {\n    return (\n      <div className=\"h-24\">\n        <SimpleDropDown\n          placeholder=\"placeholder.legal.deviationType\"\n          name={`typeOfDeviation${rowData?.uid}`}\n          value={rowData?.smDeviationType}\n          variant={INPUT_STYLE_TYPE.PRIMARY}\n          options={pageObj.dropdownOptions.deviationType}\n          optionLabel=\"name\"\n          optionValue=\"code\"\n          onChange={(e) => handleDeviationTypeChange(e, rowData)}\n          onBlur={validate}\n          validation={simpleValidator?.current?.message(\n            `typeOfDeviation${rowData?.uid}`,\n            rowData?.smDeviationType,\n            \"mandatory\"\n          )}\n          hideLabel\n          disabled\n        />\n      </div>\n    );\n  };\n\n  const renderHeaderDeviation = () => {\n    return (\n      <div className=\"flex items-center\">\n        <Text label={i18n.t(\"label.legal.deviation*\")} />\n      </div>\n    );\n  };\n\n  const renderDeviation = (rowData: any) => {\n    return (\n      <div className=\"h-24\">\n        {rowData?.smDeviationType === TYPE_OF_DEVIATION.TYPE_OF_DEVIATION_MANUAL ? (\n          <AutoComplete\n            variant={INPUT_STYLE_TYPE.PRIMARY}\n            placeholder=\"\"\n            name={`deviation${rowData?.uid}`}\n            value={rowData?.deviation?.name}\n            suggestions={deviationSuggestionsTemplate}\n            completeMethod={(e: any) => searchManualDeviation(e, rowData)}\n            onChange={(e) => handleManualDeviationChange(e, rowData)}\n            itemTemplate={manualDeviationsTemplate}\n            onBlur={validate}\n            validation={simpleValidator?.current?.message(\n              `deviation${rowData?.uid}`,\n              rowData?.deviation?.name,\n              `mandatory`\n            )}\n            hideLabel\n          />\n        ) : (\n          <>\n            {rowData?.smDeviationType === TYPE_OF_DEVIATION.TYPE_OF_DEVIATION_AUTOMATIC ? (\n              <AutoComplete\n                variant={INPUT_STYLE_TYPE.PRIMARY}\n                placeholder=\"\"\n                name={`deviation${rowData?.uid}`}\n                value={rowData?.deviation?.name}\n                onBlur={validate}\n                validation={simpleValidator?.current?.message(\n                  `deviation${rowData?.uid}`,\n                  rowData?.deviation?.name,\n                  `mandatory`\n                )}\n                hideLabel\n                disabled\n              />\n            ) : null}\n          </>\n        )}\n      </div>\n    );\n  };\n\n  const renderHeaderActualDeviation = () => {\n    return (\n      <div className=\"flex items-center\">\n        <Text label={i18n.t(\"label.legal.actualDeviation*\")} />\n      </div>\n    );\n  };\n\n  const renderActualDeviation = (rowData: ITechnicalDeviationRowData) => {\n    return (\n      <div className=\"h-24\">\n        <InputTextArea\n          name={`actualDeviation${rowData?.uid}`}\n          className=\"!h-full\"\n          variant={INPUT_STYLE_TYPE.SECONDARY}\n          maxCount={1000}\n          autoResize\n          value={rowData?.actualDeviation}\n          onChange={(e) => handleChange(e, { rowData, field: \"actualDeviation\" })}\n          onBlur={validate}\n          validation={simpleValidator?.current?.message(\n            `actualDeviation${rowData?.uid}`,\n            rowData?.actualDeviation,\n            \"mandatory\"\n          )}\n          hideLabel\n        />\n      </div>\n    );\n  };\n\n  const renderHeaderMitigants = () => {\n    return (\n      <div className=\"flex items-center\">\n        <Text label={i18n.t(\"label.legal.mitigants*\")} />\n      </div>\n    );\n  };\n\n  const renderMitigants = (rowData: ITechnicalDeviationRowData) => {\n    return (\n      <div className=\"h-24\">\n        <InputTextArea\n          name={`mitigates${rowData?.uid}`}\n          className=\"!h-full\"\n          variant={INPUT_STYLE_TYPE.SECONDARY}\n          maxCount={1000}\n          autoResize\n          value={rowData?.mitigation}\n          onChange={(e) => handleChange(e, { rowData, field: \"mitigation\" })}\n          onBlur={validate}\n          validation={simpleValidator?.current?.message(\n            `mitigates${rowData?.uid}`,\n            rowData?.mitigation,\n            \"mandatory\"\n          )}\n          hideLabel\n        />\n      </div>\n    );\n  };\n\n  const renderHeaderAction = () => {\n    return (\n      <div className=\"flex items-center\">\n        <Text label={i18n.t(\"label.investmentInfo.table.colTitle.action\")} />\n      </div>\n    );\n  };\n\n  const renderActions = (rowData: any) => {\n    return (\n      <div className=\"h-24\">\n        <IconButton\n          buttonType={BUTTON_TYPES.DELETE}\n          onClick={() => onDeleteRow(rowData)}\n          tooltipOptions={{\n            position: \"left\",\n            className: \"text-xs font-Roboto bg-black text-white !p-1 rounded-md \",\n            showDelay: \"1000,\",\n            hideDelay: \"300\",\n          }}\n          disabled={\n            pageMode === PAGE_MODE.VIEW ||\n            rowData?.smDeviationType === TYPE_OF_DEVIATION.TYPE_OF_DEVIATION_AUTOMATIC\n          }\n        />\n      </div>\n    );\n  };\n\n  /*\n    -------------------------------------------------------\n    Main Rendering\n    -------------------------------------------------------\n  */\n  return (\n    <div className=\"grid gap-5 mb-5\">\n      {pageObj?.showInfo ? (\n        <Info description=\"description.legal.info\" onClose={onCloseInfo} />\n      ) : null}\n      <Section title=\"heading.technical.technicalDeviations\">\n        <SaveComponent\n          title=\"\"\n          pageMode={pageMode}\n          onSave={onSave}\n          onCancel={onCancel}\n          onEdit={onEdit}\n        >\n          <AclGuard override={{ read: pageMode === PAGE_MODE.VIEW }}>\n            <div className=\"flex justify-between\">\n              <div className=\"\">\n                <Text\n                  label={\"label.legal.deviations\"}\n                  className=\"text-primary-sideBarBgColor text-xs font-bold\"\n                />\n              </div>\n              <div className=\"flex\">\n                <div className=\" mr-3 self-center\">\n                  <TextButton\n                    label=\"Populate Auto Deviations\"\n                    onClick={onPopulateAutoDeviations}\n                    disabled={!pageObj?.technicalUid ? true : false}\n                  />\n                </div>\n                <div className=\" mr-3 self-center\">\n                  <ButtonBox\n                    buttonType={BUTTON_TYPE.ICON_TEXT_ROW}\n                    customLabel={\"Add\"}\n                    onClick={onAddDeviation}\n                    disabled={pageMode === PAGE_MODE.VIEW}\n                  />\n                </div>\n              </div>\n            </div>\n\n            {pageObj.stageUid && pageObj.technicalUid ? (\n              <DeviationTable\n                ref={tableRef}\n                standardDataFormatPromise={TechnicalService.getTechnicalDeviations}\n                search={pageObj.tableObj.search}\n                uniqueKey=\"uid\"\n                mode={\"UPDATE\"}\n                isIgnoreInitialLoad\n              >\n                <Column\n                  header={renderHeaderTypeOfDeviation}\n                  className=\"text-primary-ptext-1000 text-xs py-3 pl-6\"\n                  style={{ minWidth: \"170px\", width: \"170px\" }}\n                  body={renderTypeOfDeviations}\n                />\n                <Column\n                  header={renderHeaderDeviation}\n                  className=\"table-header-right text-primary-ptext-1000 text-xs py-3 pl-6\"\n                  body={renderDeviation}\n                />\n                <Column\n                  header={renderHeaderActualDeviation}\n                  className=\"table-header-right text-primary-ptext-1000 text-xs py-3 pl-6\"\n                  body={renderActualDeviation}\n                />\n                <Column\n                  header={renderHeaderMitigants}\n                  className=\"table-header-right text-primary-ptext-1000 text-xs py-3 pl-6\"\n                  body={renderMitigants}\n                />\n                <Column\n                  header={renderHeaderAction}\n                  className=\"text-primary-ptext-1000 text-center text-xs py-3 px-6 action-content\"\n                  body={renderActions}\n                />\n              </DeviationTable>\n            ) : null}\n          </AclGuard>\n        </SaveComponent>\n      </Section>\n\n      <ToastCustom\n        position={\"bottom-right\"}\n        ref={toastMessageRef}\n        toastText={toastMessage}\n        variant={TOAST_STYLE_TYPE.PRIMARY}\n      />\n\n      <ErrorDialog\n        onHide={() => {\n          setShowDialogAPIError(false);\n          setErrorMessage(\"\");\n        }}\n        visible={showDialogAPIError}\n        errorMessage={errorMessage}\n      />\n    </div>\n  );\n};\n\nexport default PageDeviations;\n"],"names":["initialTableRowData","TYPE_OF_DEVIATION","initialPageOj","PageDeviations","params","useParams","pageMode","setPageMode","useState","PAGE_MODE","pageObj","setPageObj","deviationSuggestionsTemplate","setDeviationSuggestionsTemplate","position","setPosition","forceUpdate","toastMessage","setToastMessage","triggerToast","setTriggerToast","toastMessageVariant","setToastMessageVariant","TOAST_STYLE_TYPE","errorMessage","setErrorMessage","showDialogAPIError","setShowDialogAPIError","tableRef","React","toastMessageRef","useRef","simpleValidator","SimpleReactValidator","getStandardValidator","messageReplace","prev","useEffect","prevPageObj","getDeviationTypeOptions","getTechnicalDetails","_a","TechnicalService","res","validateGetAPIResponse","prevObj","_c","_b","err","parseStandardAPIErrorMessage","StaticMasterDataService","updateDropdownOptions","handleDeviationTypeChange","rowData","rowDataObj","handleManualDeviationChange","value","handleChange","options","validate","validateForm","isValid","onCloseInfo","onAddDeviation","onDeleteRow","onSave","payload","enrichForSave","validatePutAPIResponse","STATIC_MASTER_TYPE_TOAST_TEXT","error","onEdit","onCancel","resetValidator","onPopulateAutoDeviations","searchManualDeviation","suggestionsTemplate","search","DEVIATION_CATEGORY","record","data","updateTechnicallDeviationsRowDataObj","addRows","deletedRows","updatedRows","key","prevState","manualDeviationsTemplate","item","jsx","Text","renderHeaderTypeOfDeviation","i18n","renderTypeOfDeviations","SimpleDropDown","INPUT_STYLE_TYPE","e","renderHeaderDeviation","renderDeviation","AutoComplete","Fragment","_d","_f","_e","renderHeaderActualDeviation","renderActualDeviation","InputTextArea","renderHeaderMitigants","renderMitigants","renderHeaderAction","renderActions","IconButton","BUTTON_TYPES","jsxs","Info","Section","SaveComponent","AclGuard","TextButton","ButtonBox","BUTTON_TYPE","DeviationTable","Column","ToastCustom","ErrorDialog"],"mappings":"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"}