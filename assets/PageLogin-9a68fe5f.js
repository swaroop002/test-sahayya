import{r as g,a7 as _,j as e,a8 as U,a9 as O,aa as C,ab as B,ac as M,w as k,ad as Y,ae as F,af as $,x as D,ag as G,L as I,ah as R,ai as z,T as v,aj as E,ak as P,al as K,am as T,an as H,A as J,s as W,z as X,B as q,S as Q,m as Z,ao as V,ap as ee,g as ae}from"./index-e8217573.js";import{g as se}from"./Google-f2d66fe8.js";import{L as te}from"./LinkButton-92540c18.js";const le=l=>{const{variant:y,styleObj:b,args:u,hideLabel:N,hideErrorRow:n,labelClassNames:a,labelStyleObj:w,validation:h,errorClassNames:S,...x}=l,{placeholder:f,label:d}=x,j=()=>{const s={...B,overrideStyle:b,overrideClasses:l.className,isDisabled:l.disabled,isInvalid:!!l.validation,removeStyleProperty:[],removeClasses:[]};return M(s,y)},{t:p}=_();let m;return f!==void 0?m=p(f,u):m="",e.jsxs("div",{className:"group grid w-full",children:[!N&&e.jsx(U,{label:d,labelClassNames:a,labelStyleObj:w,isInvalid:h}),e.jsx(O,{...x,placeholder:m,className:`${j()} ${x.disabled?"!bg-secondary-disabledBGColor !border-primary-gray-300 placeholder-secondary-gray-500 ":" "} `}),!n&&e.jsx(C,{validation:h,hideErrorRow:n,errorClassNames:S})]})},oe=g.memo(le),A="11.0.3";function re(l){var p,m;const[y,b]=g.useState([]),[u,N]=g.useState({email:"",password:""}),[,n]=g.useState(void 0),a=g.useRef(new Y({validators:{...F()},...$(),autoForceUpdate:{forceUpdate:()=>n(s=>!s)}})),w=D();g.useEffect(()=>{G(I.USER_INFO)&&l.navigateNoAuth(R)},[]);const h=s=>{const{name:t,value:i}=s.target;N(o=>({...o,[t]:i}))},S=async()=>{var t,i;let s=!1;return s=((t=a==null?void 0:a.current)==null?void 0:t.allValid())??!1,s||(n(o=>!o),(i=a==null?void 0:a.current)==null||i.showMessages(),n(o=>!o),!1)},x=async s=>{var i,o;let t=!1;if(t=S(),!!t)if((i=a==null?void 0:a.current)!=null&&i.allValid()){const L={username:u.email,password:u.password};return J.login(L).then(r=>{if((r==null?void 0:r.status)===201)return W(I.USER_INFO,JSON.stringify(r==null?void 0:r.data)),X.getUserDetail().then(c=>{(c==null?void 0:c.status)===200?(console.log(c),w(q(c.data)),c.data.sahayyaUserType===Q.PARTNER_USER?l.navigate(Z):l.navigateNoAuth(R)):b(V(c))})}).catch(r=>{b(ee(r))})}else(o=a==null?void 0:a.current)==null||o.showMessages(),n(L=>!L)},f=s=>{window.location.href=`${ae("VITE_BASE_API_URL")}/auth/pub/google/login`},{email:d,password:j}=u;return console.log(A),e.jsxs("div",{className:"relative flex justify-center h-screen",children:[e.jsx("div",{className:"absolute left-6 top-6",children:e.jsx("img",{src:z,alt:"Sahayya Logo"})}),e.jsxs("div",{className:"w-102 z-10 px-9 pt-9 pb-14 mt-21.5 mb-21 bg-white",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(v,{label:"label.auth.login",className:"px-2 font-bold text-primary-primaryTextColor text-h1 font-Roboto"})}),e.jsx("div",{className:"flex justify-center my-6 text-center",children:e.jsx(v,{label:"label.auth.login.googleLogin",className:"text-xs text-primary-primaryTextColor font-Roboto"})}),e.jsx("div",{className:"w-full ",children:e.jsx(E,{label:"component.button.googleLogin",variant:P.PRIMARY,buttonIcon:se,className:"!bg-primary-googleButtonColor !border-none",buttonIconClassName:"max-w-fit h-3.5 w-3.5 ",onClick:f,isIgnoreAccessLevel:!0})}),e.jsxs("div",{className:"flex mt-8",children:[e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("hr",{className:"w-35"})}),e.jsx(v,{label:"label.auth.login.OR",className:"mx-4 text-xs"}),e.jsx("div",{className:"flex items-center justify-center ",children:e.jsx("hr",{className:"w-35"})})]}),e.jsx("div",{className:"flex justify-center my-6 text-center",children:e.jsx(v,{label:"label.auth.login.partnerLogin",className:"text-xs text-primary-primaryTextColor font-Roboto"})}),e.jsx("div",{children:e.jsx(oe,{label:"label.auth.login.emailID",name:"email",value:d,onChange:h,placeholder:"placeholder.auth.login.emailID",onBlur:()=>a.current.showMessageFor("email"),validation:(p=a==null?void 0:a.current)==null?void 0:p.message("email",d,"mandatory|email")})}),e.jsx("div",{className:"mt-4 mb-1.5",children:e.jsx(K,{label:"label.auth.login.password",placeholder:"placeholder.auth.login.password",name:"password",value:j,type:"password",onChange:h,toggleMask:!0,onBlur:()=>a.current.showMessageFor("password"),validation:(m=a==null?void 0:a.current)==null?void 0:m.message("password",j,"mandatory")})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(te,{label:"link.auth.login.password",path:d?`${T}?email=${d}`:T})}),e.jsxs("div",{className:"w-full mt-4 ",children:[e.jsx(E,{label:"component.button.logIn",variant:P.PRIMARY,onClickWithLoader:x,isIgnoreAccessLevel:!0}),y.map((s,t)=>e.jsx("div",{className:"flex items-center justify-center",children:e.jsx(C,{errorMessage:s,errorClassNames:"!item-center"},t)},t))]})]}),e.jsxs("span",{className:"absolute right-0 font-bold bottom-10",children:["V",e.jsx("sub",{children:A})]}),e.jsx("div",{className:"absolute -bottom-6 ",children:e.jsx("img",{src:H,alt:"search-icon",className:"w-full max-w-fit h-61"})})]})}const de=k(re);export{de as default};
//# sourceMappingURL=PageLogin-9a68fe5f.js.map
