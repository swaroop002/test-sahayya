import{r as d,j as t,dL as g,b as j,l as b,i as T}from"./index-e8217573.js";import{R}from"./ReadOnlyTable-86accb69.js";import{S as $}from"./Section-00ef9f2b.js";import{u as p}from"./CustomHooks-0ce50620.js";import{C as x}from"./column.esm-938bad7d.js";import{C as r}from"./CommunicationService-a4294cdd.js";import{u as A}from"./useSelector-dc41929a.js";import"./No_data-1720c54e.js";import"./SimpleDropDown-061a3470.js";import"./virtualscroller.esm-9939945c.js";import"./withAuth-6de36ebf.js";import"./datatable.esm-f474a654.js";import"./paginator.esm-11c2c115.js";const S="/assets/Goto_Icon_Notification-2e1a2bbf.svg",B=()=>{const[o]=d.useState({limit:10,loading:!1,totalRecords:0,start:0,search:'&notificationType=web&sort={"createdAt":"DESC"}',runCustomQuery:!1,records:[]}),a=d.useRef(null),m=A(e=>e.UserProfileReducers.profileObj);d.useEffect(()=>{u()});const u=async()=>{try{const e=await r.updateNotificationStatusToRead()}catch(e){console.log(e)}},h=e=>{var n,i;let s=(n=e==null?void 0:e.activityType)==null?void 0:n.split("_");return s=s.join(" "),s=((i=s[0])==null?void 0:i.toUpperCase())+(s==null?void 0:s.slice(1)),t.jsx("div",{className:"flex items-center",children:s??"-"})},y=e=>{var s,n,i,c,l,f;return t.jsx("div",{className:"flex items-center",children:`${(s=e==null?void 0:e.metadata)!=null&&s.lanId?`${(n=e==null?void 0:e.metadata)==null?void 0:n.lanId}`:""} ${(i=e==null?void 0:e.metadata)!=null&&i.applicantName?`| ${(c=e==null?void 0:e.metadata)==null?void 0:c.applicantName}`:""} ${(l=e==null?void 0:e.metadata)!=null&&l.assigneeName?`| ${(f=e==null?void 0:e.metadata)==null?void 0:f.assigneeName}`:""} ${e!=null&&e.message?`| ${e==null?void 0:e.message}`:""} `})},N=e=>{var i,c,l;const s=g[(i=e==null?void 0:e.metadata)==null?void 0:i.stageName]||"",n=j+b+T+s+"/"+((c=e==null?void 0:e.metadata)==null?void 0:c.loanUid)+"/"+((l=e==null?void 0:e.metadata)==null?void 0:l.stageUid)+"/";return t.jsx("a",{className:"w-full flex justify-center items-center cursor-pointer",href:n,children:t.jsx("img",{src:S,alt:"navigate-to"})})};return t.jsx("div",{children:t.jsx($,{title:"Notifications",children:t.jsxs(R,{standardDataFormatPromise:r.getAllNotifications,dataKey:"id",search:`${o.search}&userUid=${m==null?void 0:m.userUid}`,ref:a,children:[t.jsx(x,{className:"text-primary-ptext-1000 text-left text-xs py-3 pl-6",header:p("label.notifications.title"),body:h}),t.jsx(x,{className:"text-primary-ptext-1000 text-left text-xs py-3 pl-6",header:p("label.notifications.message"),body:y}),t.jsx(x,{className:"text-primary-ptext-1000 text-left text-xs py-3 px-6",header:p("label.notifications.action"),body:N,style:{minWidth:"50px",width:"50px"}})]})})})};export{B as default};
//# sourceMappingURL=PageNotifications-6b195d3e.js.map
