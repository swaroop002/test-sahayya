var Mt=Object.defineProperty;var Pt=(e,a,m)=>a in e?Mt(e,a,{enumerable:!0,configurable:!0,writable:!0,value:m}):e[a]=m;var ot=(e,a,m)=>(Pt(e,typeof a!="symbol"?a+"":a,m),m);import{at as Dt,c8 as Qe,eD as _e,b3 as ve,f8 as Me,b2 as he,r as y,aF as z,ad as Be,ae as Ue,af as Fe,j as n,R as xn,T as Ze,ax as fn,o as C,cn as Ms,f9 as jt,fa as _t,fb as Lt,v as Te,fc as rt,ey as ts,aa as Yt,aH as We,J as an,da as ss,fd as Bt,eA as Ut,eW as pt,ao as Ce,fe as Ft,et as kt,ff as Hn,ex as Wt,q as $t,aG as He,fg as lt,d7 as Xe,aw as ct}from"./index-e8217573.js";import{B as un}from"./ButtonBox-9e46519a.js";import{i as Rs,D as is,a as at,c as os}from"./DocumentUploader-e2ec1a13.js";import{E as Nt}from"./ErrorDialog-d5eef4d7.js";import{L as Gn}from"./LazyLoader-70599949.js";import{R as wt}from"./RichTextEditor-a03bd2fb.js";import{S as ln}from"./SaveComponent-160c5b32.js";import{S as sn}from"./Section-00ef9f2b.js";import{S as Ke}from"./Skeleton-7e12d019.js";import{T as Ht}from"./Toast-ae99ea5b.js";import{I as Gt}from"./Industry-6ae795a6.js";import{S as je}from"./StaticMasterDataService-689a6eca.js";import{S as zn}from"./StageService-c1c03c89.js";import{O as Is}from"./OtherDocumentService-d3804bc8.js";import{P as Ge}from"./PDService-c0e55969.js";import{L as zt,s as Kt,_ as Jt,p as qt,E as Xt}from"./Helper-03e9d878.js";import{A as Ps}from"./Address-75e58af3.js";import{A as Ds}from"./AutoComplete-0bca608a.js";import{I as xt}from"./InputAddon-04f948e7.js";import{I as w}from"./InputBox-b9e88f52.js";import{I as cn}from"./InputTextArea-b90aad1d.js";import{M as Qt}from"./MenuBox-defc36b0.js";import{R as ut}from"./RadioButton-86c37166.js";import{S as ye}from"./SimpleDropDown-061a3470.js";import{T as bn}from"./TextData-06df331b.js";import{B as ft}from"./BankAccountDetailsService-375c75c8.js";import{S as Kn}from"./SystemDatePicker-abe08a29.js";import{a as js}from"./CustomHooks-0ce50620.js";import{C as Ie,E as vt}from"./EditableTableV2-6afcb42b.js";import{I as _s,B as Ls}from"./IconButton-36693dd9.js";import{R as mt}from"./ReadOnlyTable-86accb69.js";import{C as Zt}from"./BaseChips-c7cc0dee.js";import{i as Vt,M as ei}from"./MediaGallery-5884b284.js";import{F as ni}from"./FinancialService-0c38c3ed.js";import"./kebab-menu-8835ad2e.js";import"./loader-5f2cfb31.js";import"./DatePicker-b1c13861.js";import"./withAuth-6de36ebf.js";import"./FileUploadCustom-5ab7fd25.js";import"./Loading-783a01c7.js";import"./Dialog-adadaf64.js";import"./FileUploadMenuBox-f47dc693.js";import"./FileUploadService-1aaf11f7.js";import"./DocumentService-a293b5f4.js";import"./index-8739acfd.js";import"./link-0172a3d4.js";import"./TransitionGroup-c8afe0ce.js";import"./esm-70d64670.js";import"./TextButton-41b4a67e.js";import"./City-7102c574.js";import"./Pincode-a7c9b067.js";import"./search_icon-459d6871.js";import"./virtualscroller.esm-9939945c.js";import"./datatable.esm-f474a654.js";import"./paginator.esm-11c2c115.js";import"./sortIcon-54357a29.js";import"./Download_Icon-51fc7f46.js";import"./eye_icon-081bddb3.js";import"./No_data-1720c54e.js";const si="/custom/api",ti=si+"/core/business/category";class ii extends Dt{constructor(){super(...arguments);ot(this,"getCoreBusinessCategory",(m=0,x=10,r="")=>{const D=ti+`/search?start=${m}&limit=${x}&sort={"name":"ASC"}&${r}`;return this.makeGetRequestWithAuth(D)})}}const Et=new ii,oi=e=>{var a,m,x,r,D,T,E,B;return{dateOfInitiation:(a=e==null?void 0:e.stage)==null?void 0:a.createdAtSystemDate,stage:(m=e==null?void 0:e.stage)==null?void 0:m.stageName,pdType:(x=e==null?void 0:e.stage)==null?void 0:x.smStageType,assignTo:{name:(D=(r=e==null?void 0:e.stage)==null?void 0:r.assignee)==null?void 0:D.name},CCEmails:e!=null&&e.ccEmail?JSON.parse((e==null?void 0:e.ccEmail)??[]):[],description:(T=e==null?void 0:e.stage)==null?void 0:T.remarks,applicant:(E=e==null?void 0:e.stage)==null?void 0:E.applicant,stageDocuments:((B=e==null?void 0:e.stage)==null?void 0:B.stageDocuments)??[]}},yt=e=>{var a,m,x,r,D,T,E,B,F,N,M,o,k,Y,ie,X,f,g,W,d,H,j;if(e&&(e!=null&&e.stage)){const{pd:p}=e.stage;return{uid:p==null?void 0:p.uid,applicantType:(a=p==null?void 0:p.applicant)==null?void 0:a.applicantType,dateOfInitiation:(m=e==null?void 0:e.stage)==null?void 0:m.createdAtSystemDate,customerName:[(x=p==null?void 0:p.applicant)==null?void 0:x.firstName,(r=p==null?void 0:p.applicant)==null?void 0:r.middleName,(D=p==null?void 0:p.applicant)==null?void 0:D.lastName].filter(Boolean).join(" "),placeOfVisit:p==null?void 0:p.smPlaceOfVisit,dateOfPD:p==null?void 0:p.dateOfPd,ITRAvailability:(p==null?void 0:p.isItrAvailable)===!0?_e.YES:(p==null?void 0:p.isItrAvailable)===!1?_e.NO:"",placeOfVisitUid:(T=p==null?void 0:p.placeOfVisitAddress)==null?void 0:T.uid,address:(E=p==null?void 0:p.placeOfVisitAddress)==null?void 0:E.address,pincode:{pinCode:(F=(B=p==null?void 0:p.placeOfVisitAddress)==null?void 0:B.pincode)==null?void 0:F.pinCode,uid:(M=(N=p==null?void 0:p.placeOfVisitAddress)==null?void 0:N.pincode)==null?void 0:M.uid},city:{name:(k=(o=p==null?void 0:p.placeOfVisitAddress)==null?void 0:o.city)==null?void 0:k.name,uid:(ie=(Y=p==null?void 0:p.placeOfVisitAddress)==null?void 0:Y.city)==null?void 0:ie.uid},state:(g=(f=(X=p==null?void 0:p.placeOfVisitAddress)==null?void 0:X.city)==null?void 0:f.state)==null?void 0:g.name,latitude:(W=p==null?void 0:p.placeOfVisitAddress)!=null&&W.latitude?`${parseFloat((d=p==null?void 0:p.placeOfVisitAddress)==null?void 0:d.latitude).toFixed(4)}`:"",longitude:(H=p==null?void 0:p.placeOfVisitAddress)!=null&&H.longitude?`${parseFloat((j=p==null?void 0:p.placeOfVisitAddress)==null?void 0:j.longitude).toFixed(4)}`:""}}return{}},ri=e=>{var a,m;return{uid:e==null?void 0:e.uid,smPlaceOfVisit:e==null?void 0:e.placeOfVisit,dateOfPd:e==null?void 0:e.dateOfPD,isItrAvailable:(e==null?void 0:e.ITRAvailability)===_e.YES,placeOfVisitAddress:{uid:e==null?void 0:e.placeOfVisitUid,address:e==null?void 0:e.address,pincode:{uid:(a=e==null?void 0:e.pincode)==null?void 0:a.uid},city:{uid:(m=e==null?void 0:e.city)==null?void 0:m.uid},latitude:Number(e==null?void 0:e.latitude),longitude:Number(e==null?void 0:e.longitude)}}},dt=e=>{if(e&&(e!=null&&e.stage)){const{pd:a}=e.stage;return{id:a==null?void 0:a.id,uid:a==null?void 0:a.uid,isActive:a==null?void 0:a.isActive,familyType:(a==null?void 0:a.smFamilyType)??"",noOfHouseholdMembers:(a==null?void 0:a.noOfHouseholdMembers)??"",noOfDependantsMembers:(a==null?void 0:a.noOfDependentMembers)??"",ownershipOfResidence:(a==null?void 0:a.smOwnershipOfCurrentResidence)??"",areaOfResidence:(a==null?void 0:a.areaOfCurrentResidence)??"",yearsInCurrentCity:(a==null?void 0:a.noYearsInCurrentCity)??"",detailsOnNeighbour:(a==null?void 0:a.neighbourhoodDescription)??"",storyboard:(a==null?void 0:a.storyboard)??""}}return{}},li=e=>({uid:e==null?void 0:e.uid,smFamilyType:e==null?void 0:e.familyType,noOfHouseholdMembers:Number(e==null?void 0:e.noOfHouseholdMembers),noOfDependentMembers:Number(e==null?void 0:e.noOfDependantsMembers),smOwnershipOfCurrentResidence:e==null?void 0:e.ownershipOfResidence,areaOfCurrentResidence:Number(e==null?void 0:e.areaOfResidence),noYearsInCurrentCity:Number(e==null?void 0:e.yearsInCurrentCity),neighbourhoodDescription:e==null?void 0:e.detailsOnNeighbour,storyboard:e==null?void 0:e.storyboard}),ht=e=>{if(e&&(e!=null&&e.stage)){const{pd:a}=e.stage;return{uid:a==null?void 0:a.uid,id:a==null?void 0:a.id,isActive:a==null?void 0:a.isActive,totalRentalIncome:ve(a==null?void 0:a.rentalIncome,"en-IN",0),agriculturalIncome:ve(a==null?void 0:a.agriculturalIncome,"en-IN",0),FDDividendIncome:ve(a==null?void 0:a.otherIncome,"en-IN",0)}}return{}},ci=e=>({uid:e==null?void 0:e.uid,rentalIncome:he(e==null?void 0:e.totalRentalIncome),agriculturalIncome:he(e==null?void 0:e.agriculturalIncome),otherIncome:he(e==null?void 0:e.FDDividendIncome)}),ai=e=>{const{pd:a}=(e==null?void 0:e.stage)||{};return{uid:a==null?void 0:a.uid,id:a==null?void 0:a.id,isActive:a==null?void 0:a.isActive,assets:[],investmentComments:a==null?void 0:a.remarksOnInvestment}},ui=e=>({uid:e==null?void 0:e.uid,remarksOnInvestment:e==null?void 0:e.investmentComments,financialDetail:e==null?void 0:e.assets.map(a=>({uid:a.uid??"",smAssetType:a.smAssetType,amount:Number(a.amount),isActive:a.isActive}))}),mi=(e,a,m)=>{var x;return(x=e==null?void 0:e.repaymentHistory)==null?void 0:x.map(r=>{var D,T;return console.log(r,"ele?.uid"),{uid:r==null?void 0:r.uid,isActive:r==null?void 0:r.isActive,loan:{uid:a},stage:{uid:m},smCustomerType:r==null?void 0:r.smCustomerType,applicant:{uid:(D=r==null?void 0:r.applicant)==null?void 0:D.uid},bank:{uid:(T=r==null?void 0:r.bank)==null?void 0:T.uid},smPurpose:r==null?void 0:r.smPurpose,sanctionedAmount:r!=null&&r.sanctionedAmount?Number(r==null?void 0:r.sanctionedAmount):null,outstandingAmount:r!=null&&r.outstandingAmount?Number(r==null?void 0:r.outstandingAmount):null,sanctionedTenor:r!=null&&r.sanctionedTenor?Number(r==null?void 0:r.sanctionedTenor):null,balanceTenor:r!=null&&r.balanceTenor?Number(r==null?void 0:r.balanceTenor):null,emiAmount:r!=null&&r.emiAmount?Number(r==null?void 0:r.emiAmount):null,pastDefaults:r==null?void 0:r.pastDefaults,noOfBounces:r!=null&&r.noOfBounces?Number(r==null?void 0:r.noOfBounces):null,roi:r!=null&&r.roi?Number(r==null?void 0:r.roi):null}})},yi=e=>{var m;return(m=e==null?void 0:e.loanDocumentsProof)==null?void 0:m.map((x,r)=>{if(x!=null&&x.documentUid)return{uid:x==null?void 0:x.uid,docType:{code:x==null?void 0:x.documentCode,uid:x==null?void 0:x.documentUid},docNo:(x==null?void 0:x[`${x==null?void 0:x.primaryKeyAttributeName}`])??null,dob:x!=null&&x.dob?x==null?void 0:x.dob:null,loanSectionKey:"",docCategory:x==null?void 0:x.documentCategory,attributes:qt(x),documentSections:bt(x==null?void 0:x.documentSectionUrls),isActive:x==null?void 0:x.isActive}}).filter(Boolean)},di=e=>{var m,x,r,D,T,E,B,F,N,M,o,k,Y,ie,X,f,g,W;const a={uid:e==null?void 0:e.uid,isActive:e==null?void 0:e.isActive,employmentType:e==null?void 0:e.smEmploymentNature,industry:(m=e==null?void 0:e.industry)==null?void 0:m.uid,businessCategory:(x=e==null?void 0:e.coreBusinessCategory)==null?void 0:x.uid,designation:e==null?void 0:e.designation,orgName:e==null?void 0:e.orgName,tenantType:e==null?void 0:e.smTenantType,tenantName:e==null?void 0:e.tenantName,tenantMobileNo:e==null?void 0:e.tenantMobileNo,dateOfJoining:new Date(e==null?void 0:e.incorporationDate),yearsInCurrentEmp:`${e==null?void 0:e.smIncorporationYear}`,totalExpInYear:e==null?void 0:e.expInYear,monthlyGrossSalary:ve(e==null?void 0:e.grossIncomeMonth,"en-IN",0),monthlyNetSalary:ve(e==null?void 0:e.netIncomeMonth,"en-IN",0),businessManagedBy:e==null?void 0:e.smBusinessManagedBy,businessSeasonality:e==null?void 0:e.smBusinessSeasonality,noOfEmp:e==null?void 0:e.smNoOfEmployee,businessType:e==null?void 0:e.smBusinessType,businessConstitution:e==null?void 0:e.smBusinessConstitution,businessOwnerShip:e==null?void 0:e.smOwnershipOfBusinessPremises,propertyOwnedBy:e==null?void 0:e.smOwnershipOfRentalPremises,monthlyDeductions:ve(e==null?void 0:e.monthlyDeductions,"en-IN",0),annualBonus:ve(e==null?void 0:e.annualBonus,"en-IN",0),performanceIncentive:ve(e==null?void 0:e.performanceIncentive,"en-IN",0),businessInCurrentLoc:`${e==null?void 0:e.businessInCurrentLocationYears}`,resiCumOffice:e!=null&&e.isPremisesResidentialOffice?_e.YES:_e.NO,sizeOfBusinessPremises:`${e==null?void 0:e.sizeOfPremises}`,businessLocation:e==null?void 0:e.smPremisesLocation,structureType:e==null?void 0:e.smPremisesStructureType,noOfEmpAtVisit:e==null?void 0:e.noOfEmployeesSeenDuringVisit,stockSeenAtVisit:e==null?void 0:e.businessStockSeenDuringVisit,approachRoad:e==null?void 0:e.businessApproachRoad,assetsInPremises:e==null?void 0:e.businessAssetsSeenDuringVisit,noOfOperationalDays:`${e==null?void 0:e.noOfDaysOperationalMonthly}`,firstGenerationBusiness:e!=null&&e.isFirstGenerationBusiness?_e.YES:_e.NO,salaryPaidToEmp:ve(e==null?void 0:e.businessAnnualSalaryToEmployees,"en-IN",0),creditorCycle:e==null?void 0:e.businessCreditCycle,serviceOffered:e==null?void 0:e.businessProductService,rawMaterials:e==null?void 0:e.businessRawMaterial,avgDailySales:ve(e==null?void 0:e.businessAvgDailySale,"en-IN",0),lastSixMonthAvgMonthlySales:ve(e==null?void 0:e.businessAvgMonthlySale,"en-IN",0),lastSixMonthHighestMonthlySales:ve(e==null?void 0:e.businessHighestMonthlySale,"en-IN",0),lastSixMonthLowestMonthlySales:ve(e==null?void 0:e.businessLowestMonthlySale,"en-IN",0),lastSixMonthAvgMonthlyPurchase:ve(e==null?void 0:e.businessAvgMonthlyPurchase,"en-IN",0),avgExpense:ve(e==null?void 0:e.businessAvgMonthlyExpense,"en-IN",0),estimateGrossMargin:`${e==null?void 0:e.businessEstGrossMargin}`,netMargin:`${e==null?void 0:e.businessEstNetMargin}`,commentOnBusiness:e==null?void 0:e.businessInteriorExteriorRemarks,rentAmount:ve(e==null?void 0:e.rentalAmountAsPerAgreement,"en-IN",0),rentPaidSinceMonths:`${e==null?void 0:e.rentPaidSinceMonths}`,rentAgreement:e!=null&&e.isRentalAgreementAvailable?_e.YES:_e.NO,rentalAgreementDate:e!=null&&e.rentalAgreementDate?new Date(e==null?void 0:e.rentalAgreementDate):"",rentalStartDate:e!=null&&e.rentalStartDate?new Date(e==null?void 0:e.rentalStartDate):"",rentMode:e==null?void 0:e.smRentPaymentMode,rentReceiptBank:(r=e==null?void 0:e.rentReceiptBank)!=null&&r.uid?{name:(D=e==null?void 0:e.rentReceiptBank)==null?void 0:D.name,uid:(T=e==null?void 0:e.rentReceiptBank)==null?void 0:T.uid}:null,rentBankAccount:e==null?void 0:e.rentBankAccount,lastOneMonthAmountCollected:ve(e==null?void 0:e.rentCollectedLastMonth1,"en-IN",0),secondLastMonthAmountCollected:ve(e==null?void 0:e.rentCollectedLastMonth2,"en-IN",0),thirdLastMonthAmountCollected:ve(e==null?void 0:e.rentCollectedLastMonth3,"en-IN",0),tenureRentInMonths:e==null?void 0:e.rentalTenure,escalation:`${e==null?void 0:e.rentalEscaltionPct}`,remark:e==null?void 0:e.remarks,loanDocuments:Kt(e==null?void 0:e.loanDocuments)??{...Jt},address:e!=null&&e.premisesAddress?{uid:(E=e==null?void 0:e.premisesAddress)==null?void 0:E.uid,address:(B=e==null?void 0:e.premisesAddress)==null?void 0:B.address,pincode:{pinCode:(N=(F=e==null?void 0:e.premisesAddress)==null?void 0:F.pincode)==null?void 0:N.pinCode,uid:(o=(M=e==null?void 0:e.premisesAddress)==null?void 0:M.pincode)==null?void 0:o.uid},city:{name:(Y=(k=e==null?void 0:e.premisesAddress)==null?void 0:k.city)==null?void 0:Y.name,uid:(X=(ie=e==null?void 0:e.premisesAddress)==null?void 0:ie.city)==null?void 0:X.uid},state:"",latitude:Number((f=e==null?void 0:e.premisesAddress)==null?void 0:f.latitude),longitude:Number((g=e==null?void 0:e.premisesAddress)==null?void 0:g.longitude)}:null,referenceData:(W=e==null?void 0:e.employmentReference)==null?void 0:W.map((d,H)=>{var j,p,V,ee,Z,me,R,Ne,Ee,ne;return{uid:d==null?void 0:d.uid,isActive:d==null?void 0:d.isActive,referenceName:d==null?void 0:d.referenceName,knownInYears:`${d==null?void 0:d.knowForHowManyYear}`,relationshipNature:d==null?void 0:d.smNatureOfRelationship,mobileNo:d==null?void 0:d.mobileNo,country_code:"+91",address:{uid:(j=d==null?void 0:d.address)==null?void 0:j.uid,address:(p=d==null?void 0:d.address)==null?void 0:p.address,pincode:{pinCode:(ee=(V=d==null?void 0:d.address)==null?void 0:V.pincode)==null?void 0:ee.pinCode,uid:(me=(Z=d==null?void 0:d.address)==null?void 0:Z.pincode)==null?void 0:me.uid},city:{name:(Ne=(R=d==null?void 0:d.address)==null?void 0:R.city)==null?void 0:Ne.name,uid:(ne=(Ee=d==null?void 0:d.address)==null?void 0:Ee.city)==null?void 0:ne.uid},state:""}}})};return(e==null?void 0:e.smEmploymentNature)===Me.EMPLOYMENT_TYPE_SELF_EMPLOYED&&(a.establishmentName=e==null?void 0:e.orgName,a.yearsInCurrentBusiness=e==null?void 0:e.smIncorporationYear,a.totalWorkExp=`${e==null?void 0:e.expInYear}`),(e==null?void 0:e.smEmploymentNature)===Me.EMPLOYMENT_TYPE_SELF_EMPLOYED_RENTAL_INCOME&&(a.areaOfProperty=e==null?void 0:e.sizeOfPremises),a},gt=(e,a,m,x,r)=>{var T,E,B,F,N,M,o,k,Y,ie,X;const D={uid:e==null?void 0:e.uid,isActive:e==null?void 0:e.isActive,loan:{uid:a},stage:{uid:x},applicant:{uid:m},smEmploymentNature:e==null?void 0:e.employmentType,industry:{uid:e==null?void 0:e.industry},coreBusinessCategory:{uid:e==null?void 0:e.businessCategory},designation:e==null?void 0:e.designation,orgName:e==null?void 0:e.orgName,smTenantType:e==null?void 0:e.tenantType,tenantName:e==null?void 0:e.tenantName,tenantMobileNo:e==null?void 0:e.tenantMobileNo,incorporationDate:e!=null&&e.dateOfJoining?e==null?void 0:e.dateOfJoining:null,smIncorporationYear:`${e==null?void 0:e.yearsInCurrentEmp}`,expInYear:e!=null&&e.totalExpInYear?Number(e==null?void 0:e.totalExpInYear):null,grossIncomeMonth:he(e==null?void 0:e.monthlyGrossSalary),netIncomeMonth:he(e==null?void 0:e.monthlyNetSalary),smBusinessManagedBy:e==null?void 0:e.businessManagedBy,smBusinessSeasonality:e==null?void 0:e.businessSeasonality,smNoOfEmployee:e==null?void 0:e.noOfEmp,smBusinessType:e==null?void 0:e.businessType,smBusinessConstitution:e==null?void 0:e.businessConstitution,smOwnershipOfBusinessPremises:e==null?void 0:e.businessOwnerShip,smOwnershipOfRentalPremises:e==null?void 0:e.propertyOwnedBy,monthlyDeductions:he(e==null?void 0:e.monthlyDeductions),annualBonus:he(e==null?void 0:e.annualBonus),performanceIncentive:he(e==null?void 0:e.performanceIncentive),businessInCurrentLocationYears:e!=null&&e.businessInCurrentLoc?Number(e==null?void 0:e.businessInCurrentLoc):null,isPremisesResidentialOffice:(e==null?void 0:e.resiCumOffice)===_e.YES,sizeOfPremises:e!=null&&e.sizeOfBusinessPremises?Number(e==null?void 0:e.sizeOfBusinessPremises):null,smPremisesLocation:e==null?void 0:e.businessLocation,smPremisesStructureType:e==null?void 0:e.structureType,noOfEmployeesSeenDuringVisit:e==null?void 0:e.noOfEmpAtVisit,businessStockSeenDuringVisit:e==null?void 0:e.stockSeenAtVisit,businessApproachRoad:e==null?void 0:e.approachRoad,businessAssetsSeenDuringVisit:e==null?void 0:e.assetsInPremises,noOfDaysOperationalMonthly:e!=null&&e.noOfOperationalDays?Number(e==null?void 0:e.noOfOperationalDays):null,isFirstGenerationBusiness:(e==null?void 0:e.firstGenerationBusiness)===_e.YES,businessAnnualSalaryToEmployees:he(e==null?void 0:e.salaryPaidToEmp),businessCreditCycle:e==null?void 0:e.creditorCycle,businessProductService:e==null?void 0:e.serviceOffered,businessRawMaterial:e==null?void 0:e.rawMaterials,businessAvgDailySale:he(e==null?void 0:e.avgDailySales),businessAvgMonthlySale:he(e==null?void 0:e.lastSixMonthAvgMonthlySales),businessHighestMonthlySale:he(e==null?void 0:e.lastSixMonthHighestMonthlySales),businessLowestMonthlySale:he(e==null?void 0:e.lastSixMonthLowestMonthlySales),businessAvgMonthlyPurchase:he(e==null?void 0:e.lastSixMonthAvgMonthlyPurchase),businessAvgMonthlyExpense:he(e==null?void 0:e.avgExpense),businessEstGrossMargin:e!=null&&e.estimateGrossMargin?Number(e==null?void 0:e.estimateGrossMargin):null,businessEstNetMargin:e!=null&&e.netMargin?Number(e==null?void 0:e.netMargin):null,businessInteriorExteriorRemarks:e==null?void 0:e.commentOnBusiness,rentalAmountAsPerAgreement:he(e==null?void 0:e.rentAmount),rentPaidSinceMonths:e!=null&&e.rentPaidSinceMonths?Number(e==null?void 0:e.rentPaidSinceMonths):null,isRentalAgreementAvailable:(e==null?void 0:e.rentAgreement)===_e.YES,rentalAgreementDate:e!=null&&e.rentalAgreementDate?e==null?void 0:e.rentalAgreementDate:null,rentalStartDate:e!=null&&e.rentalStartDate?e==null?void 0:e.rentalStartDate:null,smRentPaymentMode:e==null?void 0:e.rentMode,rentReceiptBank:(T=e==null?void 0:e.rentReceiptBank)!=null&&T.uid?{uid:(E=e==null?void 0:e.rentReceiptBank)==null?void 0:E.uid}:null,rentBankAccount:e==null?void 0:e.rentBankAccount,rentCollectedLastMonth1:he(e==null?void 0:e.lastOneMonthAmountCollected),rentCollectedLastMonth2:he(e==null?void 0:e.secondLastMonthAmountCollected),rentCollectedLastMonth3:he(e==null?void 0:e.secondLastMonthAmountCollected),rentalTenure:e==null?void 0:e.tenureRentInMonths,rentalEscaltionPct:e!=null&&e.escalation?Number(e==null?void 0:e.escalation):null,remarks:e==null?void 0:e.remark,premisesAddress:null,loanDocuments:yi(e),employmentReference:(B=e==null?void 0:e.referenceData)==null?void 0:B.map((f,g)=>{var W,d,H,j,p,V;return{uid:f==null?void 0:f.uid,loan:{uid:a},stage:{uid:x},referenceName:f==null?void 0:f.referenceName,knowForHowManyYear:f!=null&&f.knownInYears?Number(f==null?void 0:f.knownInYears):null,smNatureOfRelationship:f==null?void 0:f.relationshipNature,mobileNo:f==null?void 0:f.mobileNo,country_code:"+91",address:{uid:(W=f==null?void 0:f.address)==null?void 0:W.uid,address:(d=f==null?void 0:f.address)==null?void 0:d.address,pincode:{uid:(j=(H=f==null?void 0:f.address)==null?void 0:H.pincode)==null?void 0:j.uid},city:{uid:(V=(p=f==null?void 0:f.address)==null?void 0:p.city)==null?void 0:V.uid}},isActive:f==null?void 0:f.isActive}})};return r===Me.EMPLOYMENT_TYPE_SELF_EMPLOYED&&(D.orgName=e==null?void 0:e.establishmentName,D.smIncorporationYear=e==null?void 0:e.yearsInCurrentBusiness,D.expInYear=e!=null&&e.totalWorkExp?Number(e==null?void 0:e.totalWorkExp):null),r===Me.EMPLOYMENT_TYPE_SELF_EMPLOYED_RENTAL_INCOME&&(D.sizeOfPremises=e!=null&&e.areaOfProperty?Number(e==null?void 0:e.areaOfProperty):null,D.premisesAddress={uid:(F=e==null?void 0:e.address)==null?void 0:F.uid,loan:{uid:a},applicant:{uid:m},address:(N=e==null?void 0:e.address)==null?void 0:N.address,pincode:{uid:(o=(M=e==null?void 0:e.address)==null?void 0:M.pincode)==null?void 0:o.uid},city:{uid:(Y=(k=e==null?void 0:e.address)==null?void 0:k.city)==null?void 0:Y.uid},latitude:Number((ie=e==null?void 0:e.address)==null?void 0:ie.latitude),longitude:Number((X=e==null?void 0:e.address)==null?void 0:X.longitude)}),D},hi=e=>{var a,m,x,r,D,T,E,B,F,N,M,o,k,Y;return{uid:e==null?void 0:e.uid,isActive:e==null?void 0:e.isActive,referenceName:e==null?void 0:e.referenceName,knownInYears:`${e==null?void 0:e.knowForHowManyYear}`,relationshipNature:e==null?void 0:e.smNatureOfRelationship,mobileNo:e==null?void 0:e.mobileNo,country_code:"+91",address:{uid:(a=e==null?void 0:e.address)==null?void 0:a.uid,address:(m=e==null?void 0:e.address)==null?void 0:m.address,pincode:{pinCode:(r=(x=e==null?void 0:e.address)==null?void 0:x.pincode)==null?void 0:r.pinCode,uid:(T=(D=e==null?void 0:e.address)==null?void 0:D.pincode)==null?void 0:T.uid},city:{name:(B=(E=e==null?void 0:e.address)==null?void 0:E.city)==null?void 0:B.name,uid:(N=(F=e==null?void 0:e.address)==null?void 0:F.city)==null?void 0:N.uid},state:"",latitude:(M=e==null?void 0:e.address)!=null&&M.latitude?`${parseFloat((o=e==null?void 0:e.address)==null?void 0:o.latitude).toFixed(4)}`:"",longitude:(k=e==null?void 0:e.address)!=null&&k.longitude?`${parseFloat((Y=e==null?void 0:e.address)==null?void 0:Y.longitude).toFixed(4)}`:""}}},As=(e,a,m)=>{var x,r,D,T,E,B,F,N,M,o;return{uid:e==null?void 0:e.uid,isActive:e==null?void 0:e.isActive,loan:{uid:a},stage:{uid:m},referenceName:e==null?void 0:e.referenceName,knowForHowManyYear:e!=null&&e.knownInYears?Number(e==null?void 0:e.knownInYears):null,smNatureOfRelationship:e==null?void 0:e.relationshipNature,mobileNo:e==null?void 0:e.mobileNo,country_code:"+91",address:{uid:(x=e==null?void 0:e.address)==null?void 0:x.uid,address:(r=e==null?void 0:e.address)==null?void 0:r.address,pincode:{uid:(T=(D=e==null?void 0:e.address)==null?void 0:D.pincode)==null?void 0:T.uid},city:{uid:(B=(E=e==null?void 0:e.address)==null?void 0:E.city)==null?void 0:B.uid},latitude:(F=e==null?void 0:e.address)!=null&&F.latitude?Number((N=e==null?void 0:e.address)==null?void 0:N.latitude):null,longitude:(M=e==null?void 0:e.address)!=null&&M.longitude?Number((o=e==null?void 0:e.address)==null?void 0:o.longitude):null}}},bt=e=>e.map(m=>({uid:m.uid?m.uid:null,section:m.code,fileName:m.fileName,fileType:m.contentType,thumbUrl:m.thumbUrl,url:m.url,meta:m!=null&&m.meta?JSON.stringify(m==null?void 0:m.meta):"",isActive:m.isActive})),Ot=(e,a)=>e.map(r=>({uid:r.uid??null,docType:{uid:r.documentUid},loan:{uid:a.loanUid},applicant:{uid:a.applicantUid},stage:{uid:a.stageUid??""},loanSectionKey:zt.applicants,docCategory:Qe.DOCUMENT_CATEGORY_OTHER_DOCUMENTS,documentSections:bt(r.documentSectionUrls),isActive:r.isActive})).filter(r=>{let D=!1;for(let T=0;T<r.documentSections.length;T++)r.documentSections[T].url&&(D=!0);return D}),gi=e=>{const a=e.map(m=>({uid:m.uid,fileName:m.fileName,fileType:m.fileType,section:m.section,sectionName:m.sectionName,thumbUrl:m.thumbUrl,url:m.url,isActive:m.isActive}));return a.length?a:[{uid:"",fileName:"",fileType:"",section:"",sectionName:"",thumbUrl:"",url:"",isActive:!1}]},pi=e=>({uid:e.uid,attributes:{},dob:"",docCategory:e.docCategory,docFor:e.docFor,docNo:"",docType:{...e.docType},documentSections:gi(e.documentSections),loanSectionKey:e.loanSectionKey,isActive:e.isActive}),Nn={uid:"",key:Math.random().toString(36).substring(2),isActive:!0,referenceName:"",knownInYears:"",mobileNo:"",relationshipNature:"",address:{uid:"",address:"",pincode:{name:"",uid:""},city:{name:"",uid:""},state:""}},Ys=y.forwardRef((e,a)=>{const{data:m=Nn,pageMode:x=z.EDIT,isLoading:r,className:D,title:T,titleArgs:E,dropdownOption:B,renderHeaderContent:F,headerContainerClassName:N,isSectionSaveWrapped:M,cardNumber:o,onRemoveReferenceDetails:k,onSaveReferenceDetails:Y,onCancelReferenceDetails:ie}=e,[X,f]=y.useState(m),[g,W]=y.useState(z.VIEW),d=y.useRef(null),[,H]=y.useState(!1),j=y.useRef(new Be({validators:{...Ue()},...Fe(),autoForceUpdate:{forceUpdate:()=>H(L=>!L)}})),p=[{className:"",label:"Remove",command:()=>{k==null||k()},disabled:o===0}];y.useEffect(()=>{m&&Object.keys(m).length>0&&f(()=>({...m}))},[m]),y.useImperativeHandle(a,()=>({props:e,save:Ee,remove:Ne,onCancel:R,resetValidator:ne}));const V=L=>{var J,se;(se=j==null?void 0:j.current)==null||se.showMessageFor((J=L==null?void 0:L.target)==null?void 0:J.name)},ee=()=>{var J,se;let L=!1;return L=(J=j==null?void 0:j.current)==null?void 0:J.allValid(),L||(H(ge=>!ge),(se=j==null?void 0:j.current)==null||se.showMessages(),H(ge=>!ge),!1)},Z=L=>{f(J=>({...J,[L.target.name]:L.target.value}))},me=()=>{W(z.EDIT)},R=()=>{W(z.VIEW),ne(),M&&(ie==null||ie())},Ne=()=>(f(L=>({...L,isActive:!1})),{...X,isActive:!1}),Ee=()=>{var J,se;const L=(J=d==null?void 0:d.current)==null?void 0:J.save();if(!(!ee()||!L))return{...X,address:{...L,uid:(se=X==null?void 0:X.address)==null?void 0:se.uid}}},ne=()=>{var L,J;j.current=new Be({validators:{...Ue()},...Fe(),autoForceUpdate:{forceUpdate:()=>H(se=>!se)}}),(L=j==null?void 0:j.current)==null||L.hideMessages(),(J=d==null?void 0:d.current)==null||J.resetValidator()},re=y.useMemo(()=>{const{address:L,pincode:J,city:se,state:ge}=(X==null?void 0:X.address)??{};return{address:L,pincode:J,city:se,state:ge}},[X==null?void 0:X.address]),b=()=>n.jsx("div",{className:"flex flex-col space-y-4 w-full",children:n.jsx(Ps,{pageMode:M?g:x,ref:d,data:re,variant:Ms.QUATERNARY})}),A=()=>{var de,oe,xe;const{referenceName:L,knownInYears:J,mobileNo:se,relationshipNature:ge}=X;return n.jsxs(xn.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-4 gap-x-4 gap-y-5 mt-5 w-full",children:[n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.reference.details.name",name:"referenceName",className:"",value:L,onChange:Z,onBlur:V,validation:(de=j==null?void 0:j.current)==null?void 0:de.message("referenceName",L,"mandatory|checkString|max:30")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.reference.details.known.how.many.years",name:"knownInYears",className:"text-right",value:J,onChange:Z,onBlur:V,validation:(oe=j==null?void 0:j.current)==null?void 0:oe.message("knownInYears",J,"mandatory|checkNumber|max:6,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(xt,{label:"label.reference.details.mobile.number",name:"mobileNo",value:se,variant:C.SECONDARY,onChange:Z,onBlur:V,validation:(xe=j==null?void 0:j.current)==null?void 0:xe.message("mobileNo",se,"mandatory|onlyInteger|checkNumber|phoneNumber")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.reference.details.nature.of.relationship",name:"relationshipNature",value:ge,onChange:Z,options:B==null?void 0:B.NATURE_OF_RELATIONSHIP,optionLabel:"name",optionValue:"code"})})]}),b()]})},I=()=>n.jsxs(xn.Fragment,{children:[n.jsx("div",{className:` flex items-center justify-between w-full  ${N??""}`,children:F?F==null?void 0:F():n.jsx(Ze,{label:T,args:E,className:"text-primary-sideBarBgColor text-sm font-bold mb-1"})}),n.jsx(fn,{override:{read:M?g===z.VIEW:x===z.VIEW},children:A()})]});return n.jsx("div",{className:`w-full h-full flex flex-col justify-start items-start ${D??""}`,children:r?n.jsx(Ke,{height:"19.375rem",width:"100%",borderRadius:"8px",animation:"wave"}):M?n.jsx(ln,{title:"title.reference.details",titleArgs:{count:o},pageMode:g,onCancel:R,onEdit:me,onSave:Y,kebabModel:p,className:"w-full",children:I()}):I()})});Ys.defaultProps={data:{}};const Tt={industry:"",businessCategory:"",businessType:"",orgName:"",totalExpInYear:"",dateOfJoining:"",yearsInCurrentEmp:"",noOfEmp:"",businessConstitution:"",designation:"",monthlyGrossSalary:"",monthlyDeductions:"",monthlyNetSalary:"",annualBonus:"",performanceIncentive:"",establishmentName:"",businessOwnerShip:"",yearsInCurrentBusiness:"",totalWorkExp:"",businessInCurrentLoc:"",businessManagedBy:"",resiCumOffice:"",sizeOfBusinessPremises:"",businessLocation:"",structureType:"",noOfEmpAtVisit:"",noOfOperationalDays:"",businessSeasonality:"",salaryPaidToEmp:"",creditorCycle:"",serviceOffered:"",rawMaterials:"",avgDailySales:"",lastSixMonthAvgMonthlySales:"",lastSixMonthHighestMonthlySales:"",lastSixMonthLowestMonthlySales:"",lastSixMonthAvgMonthlyPurchase:"",avgExpense:"",estimateGrossMargin:"",netMargin:"",stockSeenAtVisit:"",approachRoad:"",assetsInPremises:"",commentOnBusiness:"",firstGenerationBusiness:"",tenantName:"",tenantMobileNo:"",propertyOwnedBy:"",tenantType:"",areaOfProperty:"",rentAmount:"",rentPaidSinceMonths:"",rentAgreement:"",rentalAgreementDate:"",rentalStartDate:"",rentMode:"",rentReceiptBank:{name:"",uid:""},rentBankAccount:"",lastOneMonthAmountCollected:"",secondLastMonthAmountCollected:"",thirdLastMonthAmountCollected:"",tenureRentInMonths:"",escalation:"",remark:"",address:{uid:"",address:"",pincode:{name:"",uid:""},city:{name:"",uid:""},state:"",latitude:"",longitude:""},referenceData:[],loanDocuments:[{...Xt}]},rs={uid:"",key:Math.random().toString(36).substring(2),isActive:!0,employmentType:"",...Tt},Ni={...Rs,key:Math.random().toString().substring(2)},Ss={deletedReferences:[],deletedDocsAndRecordings:[]},It=y.forwardRef((e,a)=>{const{data:m=rs,isLoading:x,className:r,children:D,cardNumber:T,dropdownOption:E,documentCategory:B={salaryDocumentCategory:Qe.DOCUMENT_CATEGORY_SALARIED_SALARY_PROOF,businessDocumentCategory:Qe.DOCUMENT_CATEGORY_BUSINESS_PROOF_PD,recordingDocumentCategory:Qe.DOCUMENT_CATEGORY_EMPLOYMENT_RETAILS_RECORDING},onSaveEmploymentDetails:F,onRemoveEmploymentDetails:N,onCancelEmploymentDetails:M}=e,[o,k]=y.useState(m),[Y,ie]=y.useState(z.VIEW),[X,f]=y.useState(!0),[g,W]=y.useState({disableFieldDependentOnRentMode:!0}),[d,H]=y.useState([{...Nn}]),[j,p]=y.useState([{...Ni}]),[V,ee]=y.useState([]),[Z,me]=y.useState([]),[R,Ne]=y.useState(!1),[Ee,ne]=y.useState([]),[re,b]=y.useState(Ss),[A,I]=y.useState("bottom-right"),[L,J]=y.useState(""),[se,ge]=y.useState(!1);y.useState("");const de=y.useRef(null),oe=y.useRef([]),xe=y.useRef(null),Re=y.useRef(null),ue=y.useRef([]),Je=y.useRef(null),[,qe]=y.useState(!1),t=y.useRef(new Be({validators:{...Ue()},...Fe(),autoForceUpdate:{forceUpdate:()=>qe(c=>!c)}})),mn=[{className:"",label:"Remove",command:()=>{N==null||N()},disabled:T===0}],tn=[{items:[]}];y.useEffect(()=>{gs()},[m]),y.useEffect(()=>{En(),o!=null&&o.employmentType&&!X&&In()},[o==null?void 0:o.employmentType]),y.useEffect(()=>{En(),Xn()},[o==null?void 0:o.rentAgreement]),y.useEffect(()=>{o!=null&&o.rentMode&&(En(),ps())},[o==null?void 0:o.rentMode]),y.useEffect(()=>{var c;if(o!=null&&o.dateOfJoining){const h=(c=jt(new Date,o==null?void 0:o.dateOfJoining))==null?void 0:c.years;k(v=>({...v,yearsInCurrentEmp:`${h}`}))}},[o==null?void 0:o.dateOfJoining]),y.useEffect(()=>{if(o!=null&&o.monthlyGrossSalary||o!=null&&o.monthlyDeductions){const{monthlyGrossSalary:c,monthlyDeductions:h}=o;k(v=>({...v,monthlyNetSalary:ve(he(c??"")-he(h??""),"en-IN",0)}))}},[o==null?void 0:o.monthlyGrossSalary,o==null?void 0:o.monthlyDeductions]),y.useImperativeHandle(a,()=>({props:e,save:Pe,remove:K,onCancel:_,getSelectedEmploymentType:ys,resetValidator:En,onSuccess:as}));const yn=async()=>await Et.getCoreBusinessCategory(0,1e3,`industryType.code=${Lt.RENTAL_INCOME_PROPERTY_LEASING}`).then(c=>{var h,v;if(Te(c)&&((h=c.data)==null?void 0:h.results.length)>0)return(v=c==null?void 0:c.data)==null?void 0:v.results[0];console.log("error")}),P=c=>{var h,v;(v=t==null?void 0:t.current)==null||v.showMessageFor((h=c==null?void 0:c.target)==null?void 0:h.name)},on=()=>{var h,v;let c=!1;return c=(h=t==null?void 0:t.current)==null?void 0:h.allValid(),c||(qe($=>!$),(v=t==null?void 0:t.current)==null||v.showMessages(),qe($=>!$),!1)},dn=()=>{var h;let c=!0;return oe!=null&&oe.current?c=(h=qn())==null?void 0:h.every(v=>v!==void 0&&Object.keys(v).length>0):c=!1,c},hn=()=>{var h;let c=!0;return ue!=null&&ue.current?c=(h=Tn())==null?void 0:h.every(v=>v!==void 0&&Object.keys(v).length>0):c=!1,c},gn=()=>{var c,h,v,$,te;(c=xe==null?void 0:xe.current)==null||c.resetDocUpload(),(h=Re==null?void 0:Re.current)==null||h.resetDocUpload();for(let Q=0;Q<j.length;Q++)(v=ue==null?void 0:ue.current)!=null&&v[Q]&&((te=($=ue==null?void 0:ue.current)==null?void 0:$[Q])==null||te.resetDocUpload())},G=c=>{c.target.name==="employmentType"&&f(!1),k(h=>({...h,[c.target.name]:c.target.value}))},be=c=>{const h=he(c.target.value);k(v=>({...v,[c.target.name]:ve(h,"en-IN",0)}))},vn=(c,h)=>{k(v=>({...v,firstGenerationBusiness:h}))},u=c=>{const{name:h,value:v}=c.target;k(typeof v=="object"?$=>({...$,[h]:{name:v==null?void 0:v.name,uid:v==null?void 0:v.uid}}):$=>({...$,[h]:{name:v}}))},_=()=>{ie(z.VIEW),En(),us(),ms(),M==null||M()},K=()=>({...On(),isActive:!1}),le=()=>{ie(z.EDIT)},fe=()=>{var h;const c=(h=de==null?void 0:de.current)==null?void 0:h.save();if(!(!on()||!c))return On()},Oe=()=>{var $,te;const c=(o==null?void 0:o.employmentType)===Me.EMPLOYMENT_TYPE_SALARIED?($=xe==null?void 0:xe.current)==null?void 0:$.getUploadedData():(te=Re==null?void 0:Re.current)==null?void 0:te.getUploadedData(),h=dn(),v=hn();if(!(!on()||!h||!c||(o==null?void 0:o.employmentType)===Me.EMPLOYMENT_TYPE_SALARIED&&!v))return On()},Pe=()=>(o==null?void 0:o.employmentType)===Me.EMPLOYMENT_TYPE_SELF_EMPLOYED_RENTAL_INCOME?fe():Oe(),pe=()=>{const c={...Nn,key:Math.random().toString(36).substring(2)};H(h=>[...h,c])},Ae=()=>{const c={...Rs,key:Math.random().toString(36).substring(2)};p(h=>[...h,c])},Ve=c=>{var $,te;const h=(te=($=oe==null?void 0:oe.current)==null?void 0:$[c])==null?void 0:te.remove();b(Q=>({...Q,deletedReferences:[...Q.deletedReferences,h]}));const v=d.filter((Q,ce)=>ce!==c);H(Q=>[...v])},rn=c=>{var $,te,Q;const h=(te=($=ue==null?void 0:ue.current)==null?void 0:$[c])==null?void 0:te.getUploadedData();h&&(h!=null&&h.uid)&&(h.isActive=!1,b(ce=>({...ce,deletedDocsAndRecordings:[...ce.deletedDocsAndRecordings,h]}))),ue.current=(Q=ue==null?void 0:ue.current)==null?void 0:Q.filter((ce,s)=>s!==c);const v=j.filter((ce,s)=>s!==c);p(ce=>[...v])},Jn=(c,h,v)=>{var Q;const $=[];$.push({label:"Remove",className:"px-1.5 text-xs text-primary-labelColor h-6.5 hover:bg-primary-sapphireBlue-100",command:()=>{v&&v===ss.REFERENCE&&typeof h=="number"&&Ve(h),v&&v===ss.DOCUMENTS&&typeof h=="number"&&rn(h)}});const te=[...$];tn[0].items=[...te],(Q=Je==null?void 0:Je.current)==null||Q.show(c)},ls=()=>{var $,te,Q;const c=($=de==null?void 0:de.current)==null?void 0:$.save(),h=(te=Re==null?void 0:Re.current)==null?void 0:te.getUploadedData();let v=[...Tn()];return h&&(v=[h,...v]),{...o,address:{uid:(Q=o==null?void 0:o.address)==null?void 0:Q.uid,...c},loanDocumentsProof:v}},cs=()=>{var v,$;const c=(o==null?void 0:o.employmentType)===Me.EMPLOYMENT_TYPE_SALARIED?(v=xe==null?void 0:xe.current)==null?void 0:v.getUploadedData():($=Re==null?void 0:Re.current)==null?void 0:$.getUploadedData();let h=[...Tn()];return c&&(h=[c,...h]),{...o,referenceData:qn(),loanDocumentsProof:h}},On=()=>(o==null?void 0:o.employmentType)===Me.EMPLOYMENT_TYPE_SELF_EMPLOYED_RENTAL_INCOME?ls():cs(),qn=()=>{var h,v;return[...(v=(h=oe==null?void 0:oe.current)==null?void 0:h.filter(($,te)=>{var Q;return(Q=oe==null?void 0:oe.current)==null?void 0:Q[te]}))==null?void 0:v.map(($,te)=>{var Q,ce;return(ce=(Q=oe==null?void 0:oe.current)==null?void 0:Q[te])==null?void 0:ce.save()}),...re.deletedReferences]},Tn=()=>{var h,v;const c=(v=(h=ue==null?void 0:ue.current)==null?void 0:h.filter(($,te)=>{var Q;return(Q=ue==null?void 0:ue.current)==null?void 0:Q[te]}))==null?void 0:v.map(($,te)=>{var Q,ce;return(ce=(Q=ue==null?void 0:ue.current)==null?void 0:Q[te])==null?void 0:ce.getUploadedData()});return c?[...c,...re.deletedDocsAndRecordings]:[...re.deletedDocsAndRecordings]},as=()=>{ie(z.VIEW)},En=()=>{var c;t.current=new Be({validators:{...Ue()},...Fe(),autoForceUpdate:{forceUpdate:()=>qe(h=>!h)}}),(c=t==null?void 0:t.current)==null||c.hideMessages()},us=()=>{oe.current.forEach((c,h)=>{var v,$;($=(v=oe==null?void 0:oe.current)==null?void 0:v[h])==null||$.resetValidator()})},ms=()=>{var c;(c=de==null?void 0:de.current)==null||c.resetValidator()},ys=()=>o==null?void 0:o.employmentType,ds=()=>(o==null?void 0:o.employmentType)===Me.EMPLOYMENT_TYPE_SALARIED||(o==null?void 0:o.employmentType)===Me.EMPLOYMENT_TYPE_SELF_EMPLOYED_RENTAL_INCOME,hs=()=>(o==null?void 0:o.employmentType)===Me.EMPLOYMENT_TYPE_SALARIED?rt.OCCUPATION_TYPE_SALARIED:(o==null?void 0:o.employmentType)===Me.EMPLOYMENT_TYPE_SELF_EMPLOYED_RENTAL_INCOME?rt.OCCUPATION_TYPE_RENTAL_INCOME:"",gs=()=>{var c,h,v;if(f(!0),m&&Object.keys(m).length>0){k(()=>({...m})),H([...m.referenceData??[{...Nn}]]);const $=(c=m==null?void 0:m.loanDocuments)==null?void 0:c.filter((ce,s)=>(ce==null?void 0:ce.docCategory)===Qe.DOCUMENT_CATEGORY_EMPLOYMENT_RETAILS_RECORDING);$!=null&&$.length&&p($);const te=(h=m==null?void 0:m.loanDocuments)==null?void 0:h.filter((ce,s)=>(ce==null?void 0:ce.docCategory)===Qe.DOCUMENT_CATEGORY_SALARIED_SALARY_PROOF);te!=null&&te.length&&ee(te);const Q=(v=m==null?void 0:m.loanDocuments)==null?void 0:v.filter((ce,s)=>(ce==null?void 0:ce.docCategory)===Qe.DOCUMENT_CATEGORY_BUSINESS_PROOF_PD);Q!=null&&Q.length&&me(Q),b(Ss)}},In=async()=>{if(Zn(),gn(),me([]),ee([]),p([{...Rs}]),H([{...Nn}]),b(Ss),k(c=>({...c,businessType:hs()})),(o==null?void 0:o.employmentType)===Me.EMPLOYMENT_TYPE_SELF_EMPLOYED_RENTAL_INCOME){const c=await yn();k(h=>{var v;return{...h,industry:((v=c==null?void 0:c.industryType)==null?void 0:v.uid)??"",businessCategory:(c==null?void 0:c.uid)??"",resiCumOffice:_e.YES}})}},Xn=()=>{k(c=>({...c,rentalAgreementDate:""}))},ps=()=>{(o==null?void 0:o.rentMode)===_t.RENT_MODE_CASH?(W(c=>({...c,disableFieldDependentOnRentMode:!0})),k(c=>({...c,rentReceiptBank:{name:"",uid:""},rentBankAccount:"",lastOneMonthAmountCollected:"",secondLastMonthAmountCollected:"",thirdLastMonthAmountCollected:"",tenureRentInMonths:""}))):W(c=>({...c,disableFieldDependentOnRentMode:!1}))},Qn=async c=>{let h=[];Ne(!0);try{await ft.findBankName(0,10,`name:lk=${c.query}&isActive=true`).then(v=>{v.status===200&&(h=[...v.data.results],Ne(!1))})}catch{I("top-right"),J(We.ERROR),ge(!se)}h.length===0&&h.push({name:void 0,code:void 0,uid:void 0}),ne(h)},Zn=()=>{k(c=>({...c,...Tt}))},Vn=c=>c?n.jsx("div",{className:"flex flex-col",children:n.jsx(Ze,{className:"text-primary-labelColor",label:c==null?void 0:c.name})}):n.jsx("div",{className:"flex flex-col items-center justify-center h-39 pointer-events-none cursor-default",children:n.jsx(Ze,{className:"text-primary-labelColor mt-2",label:"label.noDataFound"})}),es=c=>n.jsxs("div",{className:" flex items-center justify-between w-full  ",children:[n.jsx(Ze,{label:"title.reference.details",args:{count:c+1},className:"text-primary-sideBarBgColor text-sm font-bold mb-1"}),n.jsx("div",{children:n.jsx(un,{buttonType:an.MENU,onClick:h=>Jn(h,c,ss.REFERENCE)})})]}),An=()=>n.jsxs(xn.Fragment,{children:[n.jsx("div",{className:"flex flex-col gap-4",children:d==null?void 0:d.map((c,h)=>n.jsxs(y.Fragment,{children:[h!==0?n.jsx("hr",{}):null,n.jsx(Ys,{renderHeaderContent:()=>es(h),data:c,pageMode:Y,ref:v=>{oe.current[h]=v},dropdownOption:E})]},(c==null?void 0:c.uid)??(c==null?void 0:c.key)))}),n.jsx("div",{className:"p-5 w-full rounded-xl bg-slate-100 mt-5",children:n.jsx(un,{buttonType:an.ICON_TEXT_ROW,customLabel:"Add Another Reference Detail",onClick:pe})})]}),Ns=y.useMemo(()=>{const{address:c,pincode:h,city:v,state:$,latitude:te,longitude:Q}=(o==null?void 0:o.address)??{};return{address:c,pincode:h,city:v,state:$,latitude:te,longitude:Q}},[o==null?void 0:o.address]),xs=()=>n.jsx(Ps,{pageMode:Y,ref:de,data:Ns,variant:Ms.SECONDARY,isLatLong:!0}),ns=c=>n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsx(bn,{label:c!=null&&c.mandatory?"label.document.business.proof":"label.document.business.proofNotMandatory",value:"License is mandatory",titleClass:"text-primary-sideBarBgColor text-sm font-bold mb-1"}),n.jsx("div",{children:n.jsx(is,{ref:Re,savedDocument:Z!=null&&Z[0]?Z==null?void 0:Z[0]:{},mode:Y,queryParamForDocList:(B==null?void 0:B.businessDocumentCategory)??"",mandatoryDocUpload:c==null?void 0:c.mandatory})})]}),Sn=c=>n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsx(bn,{label:c!=null&&c.mandatory?"label.document.recordings.and.documents":"label.document.recordings.and.documentsNotMandatory",value:"Audio minimum 5 mins, video minimum 25 sec, photos minimum 5 are mandatory",titleClass:"text-primary-sideBarBgColor text-sm font-bold mb-1"}),j.map((h,v)=>n.jsxs(y.Fragment,{children:[v!==0?n.jsx("hr",{}):null,n.jsxs("div",{className:" flex items-start justify-between w-full ",children:[n.jsx(is,{ref:$=>{ue.current[v]=$},savedDocument:h??{},mode:Y,queryParamForDocList:(B==null?void 0:B.recordingDocumentCategory)??"",mandatoryDocUpload:c==null?void 0:c.mandatory}),n.jsx("div",{children:n.jsx(un,{buttonType:an.MENU,onClick:$=>Jn($,v,ss.DOCUMENTS)})})]})]},(h==null?void 0:h.uid)??(h==null?void 0:h.key))),n.jsx("div",{className:"p-5 w-full rounded-xl bg-slate-100 mt-5",children:n.jsx(un,{buttonType:an.ICON_TEXT_ROW,customLabel:"Add Another Document",onClick:Ae})})]}),fs=()=>n.jsxs("div",{className:"flex flex-col space-y-4",children:[n.jsx(bn,{label:"label.document.salary.proof",value:"Attach Documents (PDF , JPG or PNG)",titleClass:"text-primary-sideBarBgColor text-sm font-bold mb-1"}),n.jsx("div",{children:n.jsx(is,{ref:xe,savedDocument:V!=null&&V[0]?V==null?void 0:V[0]:{},mode:Y,queryParamForDocList:(B==null?void 0:B.salaryDocumentCategory)??"",mandatoryDocUpload:!0})})]}),vs=()=>{var U,q,ae,Se,Le,$e,we,ze,De,ke,Ye,en;const{orgName:c,totalExpInYear:h,dateOfJoining:v,yearsInCurrentEmp:$,noOfEmp:te,businessConstitution:Q,designation:ce,monthlyGrossSalary:s,monthlyDeductions:i,monthlyNetSalary:l,annualBonus:O,performanceIncentive:S}=o;return n.jsxs("div",{className:`flex flex-col space-y-4 ${r}`,children:[n.jsx(bn,{label:"label.employment.details.salaried.employee.details",titleClass:"text-primary-sideBarBgColor text-xs mb-1 font-bold"}),n.jsxs("div",{className:"grid grid-cols-4 gap-x-4 gap-y-5 mt-5 ",children:[n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.name.of.organization",placeholder:"Enter Name of Organization",name:"orgName",className:"",value:c,onChange:G,onBlur:P,validation:(U=t==null?void 0:t.current)==null?void 0:U.message("orgName",c,"mandatory|checkString|max:40")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.total.year.of.experience",placeholder:"Enter Total no of years",name:"totalExpInYear",className:"text-right",value:h,onChange:G,onBlur:P,validation:(q=t==null?void 0:t.current)==null?void 0:q.message("totalExpInYear",h,"mandatory|checkNumber|max:6,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(Kn,{label:"label.employment.details.date.of.joining",name:"dateOfJoining",onChange:G,value:v?new Date(v):null,variant:C.SECONDARY,onBlur:P,validation:(ae=t==null?void 0:t.current)==null?void 0:ae.message("dateOfJoining",v,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{disabled:!0,variant:C.SECONDARY,label:"label.employment.details.years.in.current.employment",name:"yearsInCurrentEmp",className:"text-right",value:$,onChange:G,onBlur:P,validation:(Se=t==null?void 0:t.current)==null?void 0:Se.message("yearsInCurrentEmp",$,"mandatory|checkNumber|max:3,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.employment.details.number.of.employees",name:"noOfEmp",value:te,onChange:G,onBlur:P,options:E==null?void 0:E.NO_EMPLOYEE_OPTION,optionLabel:"name",optionValue:"code",validation:(Le=t==null?void 0:t.current)==null?void 0:Le.message("noOfEmp",te,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.employment.details.constitution.of.business",name:"businessConstitution",value:Q,onChange:G,onBlur:P,options:E==null?void 0:E.BUSINESS_CONSTITUTION_OPTION,optionLabel:"name",optionValue:"code",validation:($e=t==null?void 0:t.current)==null?void 0:$e.message("businessConstitution",Q,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.designation",name:"designation",className:"",value:ce,onChange:G,onBlur:P,validation:(we=t==null?void 0:t.current)==null?void 0:we.message("designation",ce,"mandatory|checkString|max:20")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.gross.monthly.salary",name:"monthlyGrossSalary",className:"text-right",value:s,onChange:be,onBlur:P,validation:(ze=t==null?void 0:t.current)==null?void 0:ze.message("monthlyGrossSalary",s,"mandatory|onlyInteger|max:20,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.monthly.deductions",placeholder:"Enter Monthly Deductions",name:"monthlyDeductions",className:"text-right",value:i,onChange:be,onBlur:P,validation:(De=t==null?void 0:t.current)==null?void 0:De.message("monthlyDeductions",i,"mandatory|onlyInteger|max:20,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{disabled:!0,variant:C.SECONDARY,label:"label.employment.details.monthly.net.salary",name:"monthlyNetSalary",className:"text-right",value:l,onChange:be,onBlur:P,validation:(ke=t==null?void 0:t.current)==null?void 0:ke.message("monthlyNetSalary",l,"mandatory|onlyInteger|max:20,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.annual.bonus",name:"annualBonus",className:"text-right",value:O,onChange:be,onBlur:P,validation:(Ye=t==null?void 0:t.current)==null?void 0:Ye.message("annualBonus",O,"mandatory|onlyInteger|max:20,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.performance.linked.incentive",name:"performanceIncentive",className:"text-right",value:S,onChange:be,onBlur:P,validation:(en=t==null?void 0:t.current)==null?void 0:en.message("performanceIncentive",S,"mandatory|onlyInteger|max:20,number")})})]}),fs(),Sn({mandatory:!0}),An(),D]})},Es=()=>{var _n,Ln,Yn,Bn,Un,Fn,kn,Wn,$n,wn,Bs,Us,Fs,ks,Ws,$s,ws,Hs,Gs,zs,Ks,Js,qs,Xs,Qs,Zs,Vs,et,nt,st,tt,it;const{establishmentName:c,businessConstitution:h,businessOwnerShip:v,yearsInCurrentBusiness:$,totalWorkExp:te,businessInCurrentLoc:Q,businessManagedBy:ce,resiCumOffice:s,sizeOfBusinessPremises:i,businessLocation:l,structureType:O,noOfEmpAtVisit:S,noOfEmp:U,noOfOperationalDays:q,businessSeasonality:ae,salaryPaidToEmp:Se,creditorCycle:Le,serviceOffered:$e,rawMaterials:we,avgDailySales:ze,lastSixMonthAvgMonthlySales:De,lastSixMonthHighestMonthlySales:ke,lastSixMonthLowestMonthlySales:Ye,lastSixMonthAvgMonthlyPurchase:en,avgExpense:nn,estimateGrossMargin:Cn,netMargin:Rn,stockSeenAtVisit:Mn,approachRoad:Pn,assetsInPremises:Dn,commentOnBusiness:jn,firstGenerationBusiness:pn}=o;return n.jsxs("div",{className:`flex flex-col space-y-4 ${r}`,children:[n.jsx(bn,{label:"label.employment.details.self.employed.details",titleClass:"text-primary-sideBarBgColor text-xs mb-1 font-bold"}),n.jsxs("div",{className:"grid grid-cols-4 gap-x-4 gap-y-5 mt-5",children:[n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.name.of.establishment",placeholder:"Enter Name of Establishment",name:"establishmentName",className:"",value:c,onChange:G,onBlur:P,validation:(_n=t==null?void 0:t.current)==null?void 0:_n.message("establishmentName",c,"mandatory|max:50")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.employment.details.constitution.of.business",name:"businessConstitution",value:h,onChange:G,onBlur:P,options:E==null?void 0:E.BUSINESS_CONSTITUTION_OPTION,optionLabel:"name",optionValue:"code",validation:(Ln=t==null?void 0:t.current)==null?void 0:Ln.message("businessConstitution",h,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.employment.details.ownership.of.business.premises",name:"businessOwnerShip",value:v,onChange:G,onBlur:P,options:E==null?void 0:E.OWNERSHIP_OF_BUSINESS_PREMISES_OPTION,optionLabel:"name",optionValue:"code",validation:(Yn=t==null?void 0:t.current)==null?void 0:Yn.message("businessOwnerShip",v,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.years.in.current.business",name:"yearsInCurrentBusiness",className:"text-right",value:$,onChange:G,onBlur:P,validation:(Bn=t==null?void 0:t.current)==null?void 0:Bn.message("yearsInCurrentBusiness",$,"mandatory|checkNumber|max:6,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.total.work.experience",name:"totalWorkExp",className:"text-right",value:te,onChange:G,onBlur:P,validation:(Un=t==null?void 0:t.current)==null?void 0:Un.message("totalWorkExp",te,"mandatory|checkNumber|max:6,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.business.in.current.location",name:"businessInCurrentLoc",className:"text-right",value:Q,onChange:G,onBlur:P,validation:(Fn=t==null?void 0:t.current)==null?void 0:Fn.message("businessInCurrentLoc",Q,"mandatory|checkNumber|max:6,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.business.managed.by",name:"businessManagedBy",className:"",value:ce,onChange:G,onBlur:P,validation:(kn=t==null?void 0:t.current)==null?void 0:kn.message("businessManagedBy",ce,"mandatory|checkString|max:30")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.employment.details.resi.cum.office",name:"resiCumOffice",value:s,onChange:G,onBlur:P,options:ts,optionLabel:"label",optionValue:"value",validation:(Wn=t==null?void 0:t.current)==null?void 0:Wn.message("resiCumOffice",s,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.size.of.business.premises",name:"sizeOfBusinessPremises",className:"text-right",value:i,onChange:G,onBlur:P,validation:($n=t==null?void 0:t.current)==null?void 0:$n.message("sizeOfBusinessPremises",i,"mandatory|checkNumber|max:6,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.employment.details.business.location",name:"businessLocation",value:l,onChange:G,onBlur:P,options:E==null?void 0:E.BUSINESS_LOCATION_OPTION,optionLabel:"name",optionValue:"code",validation:(wn=t==null?void 0:t.current)==null?void 0:wn.message("businessLocation",l,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.employment.details.type.of.structure",name:"structureType",value:O,onChange:G,onBlur:P,options:E==null?void 0:E.STRUCTURE_TYPE_OPTION,optionLabel:"name",optionValue:"code",validation:(Bs=t==null?void 0:t.current)==null?void 0:Bs.message("structureType",O,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.no.of.employees.seen.at.the.time.of.visit",name:"noOfEmpAtVisit",className:"text-right",value:S,onChange:G,onBlur:P,validation:(Us=t==null?void 0:t.current)==null?void 0:Us.message("noOfEmpAtVisit",S,"checkNumber|max:80,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.employment.details.number.of.employees",name:"noOfEmp",value:U,onChange:G,onBlur:P,options:E==null?void 0:E.NO_EMPLOYEE_OPTION,optionLabel:"name",optionValue:"code",validation:(Fs=t==null?void 0:t.current)==null?void 0:Fs.message("noOfEmp",U,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.no.of.days.operational",name:"noOfOperationalDays",className:"text-right",value:q,onChange:G,onBlur:P,validation:(ks=t==null?void 0:t.current)==null?void 0:ks.message("noOfOperationalDays",q,"mandatory|checkNumber|max:6,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.employment.details.business.seasonality",name:"businessSeasonality",value:ae,onChange:G,onBlur:P,options:E==null?void 0:E.SEASONALITY_OPTION,optionLabel:"name",optionValue:"code",validation:(Ws=t==null?void 0:t.current)==null?void 0:Ws.message("businessSeasonality",ae,"mandatory")})}),n.jsxs("div",{className:"col-span-1 flex flex-col justify-start items-start space-y-1",children:[n.jsx("div",{className:"flex items-top",children:n.jsx(Ze,{label:"label.employment.details.first.generation.business",className:"text-xs"})}),n.jsxs("div",{className:"flex justify-start items-center space-x-8",children:[n.jsxs("div",{className:"flex",children:[n.jsx(ut,{hideLabel:!0,hideErrorRow:!0,name:"firstGenerationBusiness",className:"flex items-center",onChange:Ts=>vn(Ts,"YES"),value:pn,checked:pn===_e.YES,disabled:Y===z.VIEW}),n.jsx("div",{className:"ml-2 flex items-top",children:n.jsx(Ze,{label:"label.radioButton.yes",className:"text-xs"})})]}),n.jsxs("div",{className:"flex",children:[n.jsx(ut,{hideLabel:!0,hideErrorRow:!0,name:"firstGenerationBusiness",className:"flex items-center",onChange:Ts=>vn(Ts,"NO"),value:pn,checked:pn===_e.NO,disabled:Y===z.VIEW}),n.jsx("div",{className:"ml-2 flex items-top",children:n.jsx(Ze,{label:"label.radioButton.no",className:"text-xs"})})]})]}),n.jsx("div",{className:"h-4 flex justify-start  items-center",children:n.jsx(Yt,{validation:($s=t==null?void 0:t.current)==null?void 0:$s.message("firstGenerationBusiness",pn,"mandatory")})})]}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.amount.of.salary.paid.employees",name:"salaryPaidToEmp",className:"text-right",value:Se,onChange:be,onBlur:P,validation:(ws=t==null?void 0:t.current)==null?void 0:ws.message("salaryPaidToEmp",Se,"mandatory|onlyInteger|max:20,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.credit.periods.creditor.cycle",name:"creditorCycle",className:"text-right",value:Le,onChange:G,onBlur:P,validation:(Hs=t==null?void 0:t.current)==null?void 0:Hs.message("creditorCycle",Le,"mandatory|max:80")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.product.or.services.offered",name:"serviceOffered",className:"",value:$e,onChange:G,onBlur:P,validation:(Gs=t==null?void 0:t.current)==null?void 0:Gs.message("serviceOffered",$e,"mandatory|max:80")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.raw.materials",name:"rawMaterials",className:"",value:we,onChange:G,onBlur:P,validation:(zs=t==null?void 0:t.current)==null?void 0:zs.message("rawMaterials",we,"mandatory|max:80")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.average.daily.sales",name:"avgDailySales",className:"text-right",value:ze,onChange:be,onBlur:P,validation:(Ks=t==null?void 0:t.current)==null?void 0:Ks.message("avgDailySales",ze,"mandatory|onlyInteger|max:20,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.average.monthly.sales.last.six.months",name:"lastSixMonthAvgMonthlySales",className:"text-right",value:De,onChange:be,onBlur:P,validation:(Js=t==null?void 0:t.current)==null?void 0:Js.message("lastSixMonthAvgMonthlySales",De,"mandatory|onlyInteger|max:20,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.highest.monthly.sales.last.six.months",name:"lastSixMonthHighestMonthlySales",className:"text-right",value:ke,onChange:be,onBlur:P,validation:(qs=t==null?void 0:t.current)==null?void 0:qs.message("lastSixMonthHighestMonthlySales",ke,"mandatory|onlyInteger|max:20,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.lowest.monthly.sales.last.six.months",name:"lastSixMonthLowestMonthlySales",className:"text-right",value:Ye,onChange:be,onBlur:P,validation:(Xs=t==null?void 0:t.current)==null?void 0:Xs.message("lastSixMonthLowestMonthlySales",Ye,"mandatory|onlyInteger|max:20,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.avg..monthly.purchase.last.six.months",name:"lastSixMonthAvgMonthlyPurchase",className:"text-right",value:en,onChange:be,onBlur:P,validation:(Qs=t==null?void 0:t.current)==null?void 0:Qs.message("lastSixMonthAvgMonthlyPurchase",en,"mandatory|onlyInteger|max:20,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.average.expense",name:"avgExpense",className:"text-right",value:nn,onChange:be,onBlur:P,validation:(Zs=t==null?void 0:t.current)==null?void 0:Zs.message("avgExpense",nn,"mandatory|onlyInteger|max:20,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.estimate.gross.margin",name:"estimateGrossMargin",className:"text-right",value:Cn,onChange:G,onBlur:P,validation:(Vs=t==null?void 0:t.current)==null?void 0:Vs.message("estimateGrossMargin",Cn,"mandatory|onlyInteger|max:6,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.net.margin",name:"netMargin",className:"text-right",value:Rn,onChange:G,onBlur:P,validation:(et=t==null?void 0:t.current)==null?void 0:et.message("netMargin",Rn,"mandatory|checkNumber|min:0,num|max:100,num|maxDecimal:2")})}),n.jsx("div",{className:"col-span-2",children:n.jsx(cn,{name:"stockSeenAtVisit",className:"!h-40",label:"label.employment.details.stock.seen.at.time.of.visit",variant:C.SECONDARY,maxCount:200,onChange:G,value:Mn,autoResize:!0,validation:(nt=t==null?void 0:t.current)==null?void 0:nt.message("stockSeenAtVisit",Mn,"mandatory"),onBlur:P})}),n.jsx("div",{className:"col-span-2",children:n.jsx(cn,{name:"approachRoad",className:"!h-40",label:"label.employment.details.approach.road",variant:C.SECONDARY,maxCount:200,onChange:G,value:Pn,autoResize:!0,validation:(st=t==null?void 0:t.current)==null?void 0:st.message("approachRoad",Pn,"mandatory"),onBlur:P})}),n.jsx("div",{className:"col-span-2",children:n.jsx(cn,{name:"assetsInPremises",className:"!h-40",label:"label.employment.details.assets.seen.in.business.premises",variant:C.SECONDARY,maxCount:200,onChange:G,value:Dn,autoResize:!0,validation:(tt=t==null?void 0:t.current)==null?void 0:tt.message("assetsInPremises",Dn,"mandatory"),onBlur:P})}),n.jsx("div",{className:"col-span-2",children:n.jsx(cn,{name:"commentOnBusiness",className:"!h-40",label:"label.employment.details.comments.interior/exterior.of.business",variant:C.SECONDARY,maxCount:200,onChange:G,value:jn,autoResize:!0,validation:(it=t==null?void 0:t.current)==null?void 0:it.message("commentOnBusiness",jn,"mandatory"),onBlur:P})})]}),ns({mandatory:!0}),Sn({mandatory:!1}),An(),D]})},bs=()=>{var ke,Ye,en,nn,Cn,Rn,Mn,Pn,Dn,jn,pn,_n,Ln,Yn,Bn,Un,Fn,kn,Wn,$n,wn;const{tenantName:c,tenantMobileNo:h,propertyOwnedBy:v,structureType:$,tenantType:te,areaOfProperty:Q,rentAmount:ce,rentPaidSinceMonths:s,rentAgreement:i,rentalAgreementDate:l,rentalStartDate:O,rentMode:S,resiCumOffice:U,rentReceiptBank:q,rentBankAccount:ae,lastOneMonthAmountCollected:Se,secondLastMonthAmountCollected:Le,thirdLastMonthAmountCollected:$e,tenureRentInMonths:we,escalation:ze,remark:De}=o;return n.jsxs("div",{className:`flex flex-col space-y-4 ${r}`,children:[n.jsx(bn,{label:"label.employment.details.lessee.details",titleClass:"text-primary-sideBarBgColor text-xs mb-1 font-bold"}),n.jsxs("div",{className:"grid grid-cols-4 gap-x-4 gap-y-5 mt-5",children:[n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.tenant.name",name:"tenantName",className:"",value:c,onChange:G,onBlur:P,validation:(ke=t==null?void 0:t.current)==null?void 0:ke.message("tenantName",c,"mandatory|checkString|max:50")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(xt,{variant:C.SECONDARY,label:"label.employment.details.mobile.number",name:"tenantMobileNo",value:h,onChange:G,onBlur:P,validation:(Ye=t==null?void 0:t.current)==null?void 0:Ye.message("tenantMobileNo",h,"mandatory|onlyInteger|checkNumber|phoneNumber")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.employment.details.property.owned.by",name:"propertyOwnedBy",value:v,onChange:G,onBlur:P,options:E==null?void 0:E.PROPERTY_OWNED_BY_OPTION,optionLabel:"name",optionValue:"code",validation:(en=t==null?void 0:t.current)==null?void 0:en.message("propertyOwnedBy",v,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.employment.details.type.of.structures",name:"structureType",value:$,onChange:G,onBlur:P,options:E==null?void 0:E.STRUCTURE_TYPE_OPTION,optionLabel:"name",optionValue:"code",validation:(nn=t==null?void 0:t.current)==null?void 0:nn.message("structureType",$,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.employment.details.type.of.lease.or.tenant",name:"tenantType",value:te,onChange:G,validation:(Cn=t==null?void 0:t.current)==null?void 0:Cn.message("tenantType",te,"mandatory"),onBlur:P,options:E==null?void 0:E.TENANT_TYPE_OPTION,optionLabel:"name",optionValue:"code"})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.area.of.property",name:"areaOfProperty",className:"text-right",value:Q,onChange:G,onBlur:P,validation:(Rn=t==null?void 0:t.current)==null?void 0:Rn.message("areaOfProperty",Q,"mandatory|checkNumber|max:6,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.rent.amount.agreement",name:"rentAmount",className:"text-right",value:ce,onChange:be,onBlur:P,validation:(Mn=t==null?void 0:t.current)==null?void 0:Mn.message("rentAmount",ce,"mandatory|onlyInteger|max:20,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.rent.paid.since.in.months",name:"rentPaidSinceMonths",className:"text-right",value:s,onChange:G,onBlur:P,validation:(Pn=t==null?void 0:t.current)==null?void 0:Pn.message("rentPaidSinceMonths",s,"mandatory|onlyInteger|max:20,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.employment.details.rent.agreement",name:"rentAgreement",value:i,onChange:G,onBlur:P,options:ts,optionLabel:"label",optionValue:"value",validation:(Dn=t==null?void 0:t.current)==null?void 0:Dn.message("rentAgreement",i,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(Kn,{disabled:i===_e.NO,label:"label.employment.details.rental.agreement.date",name:"rentalAgreementDate",onChange:G,value:l?new Date(l):null,variant:C.SECONDARY,onBlur:P,validation:(jn=t==null?void 0:t.current)==null?void 0:jn.message("rentalAgreementDate",l,`${i===_e.YES?"mandatory":"optional"}`)})}),n.jsx("div",{className:"col-span-1",children:n.jsx(Kn,{label:"label.employment.details.rental.start.date",name:"rentalStartDate",onChange:G,value:O?new Date(O):null,variant:C.SECONDARY,onBlur:P,validation:(pn=t==null?void 0:t.current)==null?void 0:pn.message("rentalStartDate",O,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.employment.details.rent.mode",name:"rentMode",value:S,onChange:G,onBlur:P,options:E==null?void 0:E.RENT_MODE_OPTION,optionLabel:"name",optionValue:"code",validation:(_n=t==null?void 0:t.current)==null?void 0:_n.message("rentMode",S,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{disabled:!0,label:"label.employment.details.resi.cum.office",name:"resiCumOffice",value:U,onChange:G,onBlur:P,options:ts,optionLabel:"label",optionValue:"value",validation:(Ln=t==null?void 0:t.current)==null?void 0:Ln.message("resiCumOffice",U,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(Ds,{disabled:g==null?void 0:g.disableFieldDependentOnRentMode,variant:C.PRIMARY,label:"label.employment.details.rentReceiptBank.name",name:"rentReceiptBank",value:q==null?void 0:q.name,suggestions:Ee,completeMethod:Qn,onChange:u,itemTemplate:Vn,loader:R,onBlur:g!=null&&g.disableFieldDependentOnRentMode?void 0:P,validation:g!=null&&g.disableFieldDependentOnRentMode?null:(Yn=t==null?void 0:t.current)==null?void 0:Yn.message("rentReceiptBank",q==null?void 0:q.uid,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{disabled:g==null?void 0:g.disableFieldDependentOnRentMode,variant:C.SECONDARY,label:"label.employment.details.rentReceiptBank.account.number",name:"rentBankAccount",className:"text-right",value:ae,onChange:G,onBlur:g!=null&&g.disableFieldDependentOnRentMode?void 0:P,validation:g!=null&&g.disableFieldDependentOnRentMode?null:(Bn=t==null?void 0:t.current)==null?void 0:Bn.message("rentBankAccount",ae,"mandatory|alpha_num|min:8|max:18")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{disabled:g==null?void 0:g.disableFieldDependentOnRentMode,variant:C.SECONDARY,label:"label.employment.details.amount.collected.last.one.month",name:"lastOneMonthAmountCollected",className:"text-right",value:Se,onChange:be,onBlur:g!=null&&g.disableFieldDependentOnRentMode?void 0:P,validation:g!=null&&g.disableFieldDependentOnRentMode?null:(Un=t==null?void 0:t.current)==null?void 0:Un.message("lastOneMonthAmountCollected",Se,"mandatory|onlyInteger|max:20,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{disabled:g==null?void 0:g.disableFieldDependentOnRentMode,variant:C.SECONDARY,label:"label.employment.details.amount.collected.second.last.month",name:"secondLastMonthAmountCollected",className:"text-right",value:Le,onChange:be,onBlur:g!=null&&g.disableFieldDependentOnRentMode?void 0:P,validation:g!=null&&g.disableFieldDependentOnRentMode||(Fn=t==null?void 0:t.current)==null?void 0:Fn.message("secondLastMonthAmountCollected",Le,"mandatory|onlyInteger|max:20,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{disabled:g==null?void 0:g.disableFieldDependentOnRentMode,variant:C.SECONDARY,label:"label.employment.details.amount.collected.third.last.month",name:"thirdLastMonthAmountCollected",className:"text-right",value:$e,onChange:be,onBlur:g!=null&&g.disableFieldDependentOnRentMode?void 0:P,validation:g!=null&&g.disableFieldDependentOnRentMode||(kn=t==null?void 0:t.current)==null?void 0:kn.message("thirdLastMonthAmountCollected",$e,"mandatory|onlyInteger|max:20,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{disabled:g==null?void 0:g.disableFieldDependentOnRentMode,variant:C.SECONDARY,label:"label.employment.details.tenure.of.rent.in.months",placeholder:"Enter Annual Net Income",name:"tenureRentInMonths",className:"text-right",value:we,onChange:G,onBlur:g!=null&&g.disableFieldDependentOnRentMode?void 0:P,validation:g!=null&&g.disableFieldDependentOnRentMode||(Wn=t==null?void 0:t.current)==null?void 0:Wn.message("tenureRentInMonths",we,"mandatory|onlyInteger|max:6,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.employment.details.escalation",name:"escalation",className:"text-right",value:ze,onChange:G,onBlur:P,validation:($n=t==null?void 0:t.current)==null?void 0:$n.message("escalation",ze,"mandatory|checkNumber|min:0,num|max:100,num|maxDecimal:2")})}),n.jsx("div",{className:"col-span-2",children:n.jsx(cn,{name:"remark",className:"!h-40",label:"label.employment.details.remark",variant:C.SECONDARY,maxCount:300,onChange:G,value:De,autoResize:!0,onBlur:P,validation:(wn=t==null?void 0:t.current)==null?void 0:wn.message("remark",De,"mandatory")})})]}),xs(),ns({mandatory:!1}),Sn({mandatory:!1})]})},Os=()=>{var c,h,v,$;return n.jsxs(xn.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-4 gap-x-4 gap-y-5 mt-5",children:[n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.employment.details.employment.type",name:"employmentType",value:o==null?void 0:o.employmentType,onChange:G,onBlur:P,options:E==null?void 0:E.EMPLOYMENT_TYPE_OPTION,optionLabel:"name",optionValue:"code",validation:(c=t==null?void 0:t.current)==null?void 0:c.message("employmentType",o==null?void 0:o.employmentType,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{disabled:(o==null?void 0:o.employmentType)===Me.EMPLOYMENT_TYPE_SELF_EMPLOYED_RENTAL_INCOME,label:"label.employment.details.industry",name:"industry",value:o==null?void 0:o.industry,onChange:G,onBlur:P,options:E==null?void 0:E.INDUSTRY_OPTION,optionLabel:"name",optionValue:"uid",validation:(h=t==null?void 0:t.current)==null?void 0:h.message("industry",o==null?void 0:o.industry,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{disabled:(o==null?void 0:o.employmentType)===Me.EMPLOYMENT_TYPE_SELF_EMPLOYED_RENTAL_INCOME,label:"label.employment.details.core.business.category",name:"businessCategory",value:o==null?void 0:o.businessCategory,onChange:G,onBlur:P,options:E==null?void 0:E.BUSINESS_CATEGORY_OPTION,optionLabel:"name",optionValue:"uid",validation:(v=t==null?void 0:t.current)==null?void 0:v.message("businessCategory",o==null?void 0:o.businessCategory,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{disabled:ds(),label:"label.employment.details.business.type",name:"businessType",value:o==null?void 0:o.businessType,onChange:G,onBlur:P,options:E==null?void 0:E.BUSINESS_TYPE_OPTION,optionLabel:"name",optionValue:"code",validation:($=t==null?void 0:t.current)==null?void 0:$.message("businessType",o==null?void 0:o.businessType,"mandatory")})})]}),(o==null?void 0:o.employmentType)===Me.EMPLOYMENT_TYPE_SALARIED?vs():null,(o==null?void 0:o.employmentType)===Me.EMPLOYMENT_TYPE_SELF_EMPLOYED?Es():null,(o==null?void 0:o.employmentType)===Me.EMPLOYMENT_TYPE_SELF_EMPLOYED_RENTAL_INCOME?bs():null]})};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`w-full h-full ${r??""}`,children:x?n.jsx(Ke,{height:"19.375rem",width:"100%",borderRadius:"8px",animation:"wave"}):n.jsx(ln,{title:"title.employment.details",titleArgs:{count:T},pageMode:Y,onCancel:_,onEdit:le,onSave:F,kebabModel:mn,children:n.jsx(fn,{override:{read:Y===z.VIEW},children:Os()})})}),n.jsx(Qt,{ref:Je,model:tn,variant:"SECONDARY",buttonClassName:"!bg-transparent",className:"width-full-menubox bg-white  w-max p-1.5 rounded-md mt-0.5 border shadow-autoCompletePanel"})]})});It.defaultProps={data:{}};const xi={familyType:"",noOfHouseholdMembers:"",noOfDependantsMembers:"",ownershipOfResidence:"",areaOfResidence:"",yearsInCurrentCity:"",detailsOnNeighbour:"",storyboard:""},At=y.forwardRef((e,a)=>{const{data:m={},isLoading:x,className:r,pageMode:D=z.EDIT,dropdownOptions:T}=e,[E,B]=y.useState(Object.keys(m).length?m:xi),[,F]=y.useState(!1),N=y.useRef(new Be({validators:{...Ue()},...Fe(),autoForceUpdate:{forceUpdate:()=>F(g=>!g)}}));y.useEffect(()=>{m&&Object.keys(m).length>0&&B(()=>({...m}))},[m]),y.useImperativeHandle(a,()=>({save:ie,onCancel:Y,resetValidator:X}));const M=g=>{var W,d;(d=N==null?void 0:N.current)==null||d.showMessageFor((W=g==null?void 0:g.target)==null?void 0:W.name)},o=()=>{var W,d;let g=!1;return g=(W=N==null?void 0:N.current)==null?void 0:W.allValid(),g||(F(H=>!H),(d=N==null?void 0:N.current)==null||d.showMessages(),F(H=>!H),!1)},k=g=>{B(W=>({...W,[g.target.name]:g.target.value}))},Y=()=>{X()},ie=()=>{if(o())return{...E}},X=()=>{var g;N.current=new Be({validators:{...Ue()},...Fe(),autoForceUpdate:{forceUpdate:()=>F(W=>!W)}}),(g=N==null?void 0:N.current)==null||g.hideMessages()},f=()=>{var Z,me,R,Ne,Ee,ne,re,b;const{familyType:g,noOfHouseholdMembers:W,noOfDependantsMembers:d,ownershipOfResidence:H,areaOfResidence:j,yearsInCurrentCity:p,detailsOnNeighbour:V,storyboard:ee}=E;return n.jsxs("div",{className:"grid grid-cols-4 gap-x-4 gap-y-5 mt-5",children:[n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.family.type.mandatory",name:"familyType",value:g,onChange:k,validation:(Z=N==null?void 0:N.current)==null?void 0:Z.message("familyType",g,"mandatory"),onBlur:M,options:T==null?void 0:T.FAMILY_TYPE_OPTION,optionLabel:"name",optionValue:"code"})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.family.no.household.members.mandatory",name:"noOfHouseholdMembers",className:"text-right",value:W,onChange:k,onBlur:M,validation:(me=N==null?void 0:N.current)==null?void 0:me.message("noOfHouseholdMembers",W,"mandatory|onlyInteger|checkNumber|max:6,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.family.no.dependants.member.mandatory",name:"noOfDependantsMembers",className:"text-right",value:d,onChange:k,onBlur:M,validation:(R=N==null?void 0:N.current)==null?void 0:R.message("noOfDependantsMembers",d,"mandatory|onlyInteger|checkNumber|max:6,number")})}),n.jsx("div",{}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.family.ownership.current.residence.mandatory",name:"ownershipOfResidence",value:H,onChange:k,onBlur:M,options:T==null?void 0:T.OWNERSHIP_OF_RESIDENCE_OPTION,optionLabel:"name",optionValue:"code",validation:(Ne=N==null?void 0:N.current)==null?void 0:Ne.message("ownershipOfResidence",H,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.family.area.current.residence.mandatory",name:"areaOfResidence",className:"text-right",value:j,onChange:k,onBlur:M,validation:(Ee=N==null?void 0:N.current)==null?void 0:Ee.message("areaOfResidence",j,"mandatory|checkNumber|max:6,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.family.years.current.city.mandatory",name:"yearsInCurrentCity",className:"text-right",value:p,onChange:k,onBlur:M,validation:(ne=N==null?void 0:N.current)==null?void 0:ne.message("yearsInCurrentCity",p,"mandatory|checkNumber|max:6,number")})}),n.jsx("div",{}),n.jsx("div",{className:"col-span-3",children:n.jsx(cn,{name:"detailsOnNeighbour",className:"!h-40",label:"label.family.details.neighbour.mandatory",placeholder:"",variant:C.SECONDARY,maxCount:300,onChange:k,value:V,autoResize:!0,validation:(re=N==null?void 0:N.current)==null?void 0:re.message("detailsOnNeighbour",V,"mandatory"),onBlur:M})}),n.jsx("div",{className:"col-span-3",children:n.jsx(cn,{name:"storyboard",className:"!h-40",label:"label.family.storyboard.mandatory",placeholder:"",variant:C.SECONDARY,maxCount:2e3,onChange:k,value:ee,autoResize:!0,validation:(b=N==null?void 0:N.current)==null?void 0:b.message("storyboard",ee,"mandatory|min:300"),onBlur:M})})]})};return n.jsx("div",{className:`w-full h-full ${r??""}`,children:x?n.jsx(Ke,{height:"19.375rem",width:"100%",borderRadius:"8px",animation:"wave"}):n.jsx(fn,{override:{read:D===z.VIEW},children:f()})})});At.defaultProps={data:{}};const fi={dateOfInitiation:"",stage:"",vendorType:"",externalVendor:"",internalAssignee:"",CCEmails:[],description:"",applicant:null,stageDocuments:[]},St=y.forwardRef((e,a)=>{const{data:m=fi,isLoading:x,className:r,pageMode:D=z.EDIT,loanId:T,dropdownOptions:E}=e,[B,F]=y.useState(m),[N,M]=y.useState(!1),[o,k]=y.useState({...Vt}),Y=y.useRef(),ie=y.useRef(null),X=y.useRef(null),f=js(),[,g]=y.useState(!1),W=y.useRef(new Be({validators:{...Ue()},...Fe(),autoForceUpdate:{forceUpdate:()=>g(b=>!b)}}));y.useEffect(()=>{var b;(b=ie==null?void 0:ie.current)==null||b.search()},[]);const d=b=>{var A,I;(I=W==null?void 0:W.current)==null||I.showMessageFor((A=b==null?void 0:b.target)==null?void 0:A.name)},H=b=>{F(A=>({...A,[b.target.name]:b.target.value}))},j=(b,A)=>{var L,J,se,ge,de,oe,xe,Re,ue,Je,qe,t,mn,tn,yn,P,on,dn,hn,gn,G,be;let I={uid:"",placeOfUpload:"",name:"",fileName:"",fileType:"",download:"",category:"",type:"",sectionName:"",url:""};A!=null&&A.loanDocumentSection?I={uid:A==null?void 0:A.uid,placeOfUpload:"",name:((se=(J=(L=A==null?void 0:A.loanDocumentSection)==null?void 0:L.loanDocument)==null?void 0:J.applicant)==null?void 0:se.firstName)??"-",fileName:((ge=A==null?void 0:A.loanDocumentSection)==null?void 0:ge.fileName)??"-",fileType:((de=A==null?void 0:A.loanDocumentSection)==null?void 0:de.fileType)??"-",download:"",category:((xe=(oe=A==null?void 0:A.loanDocumentSection)==null?void 0:oe.loanDocument)==null?void 0:xe.docCategory)??"-",type:((Je=(ue=(Re=A==null?void 0:A.loanDocumentSection)==null?void 0:Re.loanDocument)==null?void 0:ue.docType)==null?void 0:Je.name)??"-",sectionName:((qe=A==null?void 0:A.loanDocumentSection)==null?void 0:qe.section)??"-",url:(t=A==null?void 0:A.loanDocumentSection)==null?void 0:t.url}:A!=null&&A.kycDocument&&(I={uid:A==null?void 0:A.uid,placeOfUpload:"",name:((yn=(tn=(mn=A==null?void 0:A.kycDocument)==null?void 0:mn.kyc)==null?void 0:tn.applicant)==null?void 0:yn.firstName)??"-",fileName:((P=A==null?void 0:A.kycDocument)==null?void 0:P.fileName)??"-",fileType:((on=A==null?void 0:A.kycDocument)==null?void 0:on.fileType)??"-",download:"",category:"KYC",type:((gn=(hn=(dn=A==null?void 0:A.kycDocument)==null?void 0:dn.kyc)==null?void 0:hn.docType)==null?void 0:gn.name)??"-",sectionName:((G=A==null?void 0:A.kycDocument)==null?void 0:G.smDocSectionType)??"-",url:(be=A==null?void 0:A.kycDocument)==null?void 0:be.url}),k(I),M(!0)},p=b=>n.jsx("div",{className:"flex items-center",children:Ut[b==null?void 0:b.applicantType]??"-"}),V=()=>n.jsx("div",{className:"flex justify-end items-center w-full",children:n.jsx(Ze,{label:"label.stages.initiate.customer.name",className:"w-1/2 truncate"})}),ee=b=>n.jsx("div",{className:"flex items-center justify-end w-full",children:n.jsx("div",{className:"w-1/2 truncate",children:b!=null&&b.firstName||b!=null&&b.middleName||b!=null&&b.lastName?` ${(b==null?void 0:b.firstName)??""} ${(b==null?void 0:b.middleName)??""} ${(b==null?void 0:b.lastName)??""}`:"-"})}),Z=()=>n.jsxs("div",{className:" flex flex-col justify-start items-start space-y-2 mt-4",children:[n.jsx(Ze,{className:"text-xs text-primary-sideBarBgColor font-medium",label:"label.table.heading.stage.customer.selection"}),n.jsxs(mt,{ref:ie,value:[(m==null?void 0:m.applicant)??[]],hidePaginator:!0,dataKey:"id",className:"pd-initiationInfo",children:[n.jsx(Ie,{className:"text-primary-ptext-1000 text-left text-xs p-1 h-12 pl-6",header:f("label.stages.initiate.customer.type"),body:p}),n.jsx(Ie,{className:"text-primary-ptext-1000 text-left text-xs p-1 h-12 w-full flex justify-start stage-status-customer-name",header:V(),body:ee})]})]}),me=b=>{var A,I;return n.jsx("div",{className:"flex items-center",children:b!=null&&b.loanDocumentSection?((I=(A=b==null?void 0:b.loanDocumentSection)==null?void 0:A.loanDocument)==null?void 0:I.docCategory)??"-":"KYC"})},R=b=>n.jsx("div",{className:"flex items-center",children:(b==null?void 0:b.stageDocType)??"-"}),Ne=b=>{var A,I;return n.jsx("div",{className:"flex items-center",children:b!=null&&b.loanDocumentSection?((A=b==null?void 0:b.loanDocumentSection)==null?void 0:A.section)??"-":((I=b==null?void 0:b.kycDocument)==null?void 0:I.smDocSectionType)??"-"})},Ee=b=>n.jsx(_s,{buttonType:Ls.VIEW,onClick:A=>{j(A,b)},isIgnoreAccessLevel:!0}),ne=()=>{var b;return n.jsxs(mt,{dataKey:"id",ref:Y,value:m==null?void 0:m.stageDocuments,className:` h-auto selected-existing-doc-read-table ${(b=m==null?void 0:m.stageDocuments)!=null&&b.length?"!min-h-auto":"!min-h-50"}`,children:[n.jsx(Ie,{header:f("label.existing.document.category"),className:"text-primary-ptext-1000 text-left text-xs h-12 pl-6",body:me}),n.jsx(Ie,{header:f("label.existing.document.type"),className:"text-primary-ptext-1000 text-left text-xs h-12 pl-6",body:R}),n.jsx(Ie,{header:f("label.existing.document.section"),className:"text-primary-ptext-1000 text-left text-xs h-12 pl-6",body:Ne}),n.jsx(Ie,{header:f("label.existing.document.action"),className:"text-primary-ptext-1000 text-center text-xs h-12 px-6",style:{minWidth:"50px",width:"50px"},body:Ee})]})},re=()=>{var ge,de,oe;const{dateOfInitiation:b,stage:A,pdType:I,assignTo:L,CCEmails:J,description:se}=B;return n.jsxs(xn.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-4 gap-x-4 gap-y-5 ",children:[n.jsx("div",{className:"col-span-1",children:n.jsx(Kn,{label:"label.initiationInfo.date.of.initiation",placeholder:"placeholder.initiationInfo.date.of.initiation",name:"dateOfInitiation",onChange:H,showMinMaxRange:!0,value:new Date(b),variant:C.SECONDARY,validation:(ge=W==null?void 0:W.current)==null?void 0:ge.message("dateOfInitiation",b,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.initiationInfo.stage",name:"stage",optionLabel:"label",optionValue:"value",options:Bt,validation:(de=W==null?void 0:W.current)==null?void 0:de.message("stage",A,"mandatory"),value:A,onBlur:d,onChange:H})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.initiationInfo.PD.type",name:"pdType",optionLabel:"name",optionValue:"code",options:E==null?void 0:E.PD_TYPE_OPTION,validation:(oe=W==null?void 0:W.current)==null?void 0:oe.message("pdType",I,"mandatory"),value:I,onBlur:d,onChange:H})}),n.jsx("div",{}),n.jsx("div",{className:"col-span-1",children:n.jsx(Ds,{variant:C.PRIMARY,label:"label.initiationInfo.assign.to",name:"internalAssignee",value:L==null?void 0:L.name})})]}),n.jsx("div",{className:"grid grid-cols-4 gap-x-4 gap-y-5 mt-4",children:n.jsx("div",{className:"col-span-2",children:n.jsx(Zt,{ref:X,className:"",name:"CCEmails",value:J,label:"label.initiationInfo.cc"})})}),n.jsx("div",{className:"mt-6",children:ne()}),n.jsx("div",{className:"grid grid-cols-4 gap-x-4 gap-y-5 mt-7",children:n.jsx("div",{className:"col-span-3",children:Z()})}),n.jsx("div",{className:"grid grid-cols-4 gap-x-4 gap-y-5 mt-7",children:n.jsx("div",{className:"col-span-2",children:n.jsx(cn,{name:"description",className:"!h-40",label:"label.initiationInfo.description",placeholder:"placeholder.initiationInfo.description",variant:C.SECONDARY,maxCount:200,onChange:H,value:se,autoResize:!0})})}),n.jsx(ei,{visible:N,onToggleVisibility:()=>M(xe=>!xe),list:[],currentSection:o})]})};return n.jsx("div",{className:`w-full h-full ${r??""}`,children:x?n.jsx(Ke,{height:"19.375rem",width:"100%",borderRadius:"8px",animation:"wave"}):n.jsx(fn,{override:{read:D===z.VIEW},children:re()})})});St.defaultProps={data:{}};const vi={assets:[],investmentComments:""},Ei={uid:"",smAssetType:"",amount:"",isActive:!0},bi=y.forwardRef((e,a)=>{const{data:m=vi,isLoading:x,pageMode:r,stageId:D}=e,[T,E]=y.useState(m),[B,F]=y.useState([]),[N,M]=y.useState(""),[o,k]=y.useState(!1),Y=xn.useRef(null),ie=js(),[,X]=y.useState(!1),f=y.useRef(new Be({validators:{...Ue()},...Fe(),autoForceUpdate:{forceUpdate:()=>X(I=>!I)}}));y.useEffect(()=>{R(),me()},[]),y.useEffect(()=>{N&&k(!0)},[N]),y.useEffect(()=>{m&&Object.keys(m).length>0&&E(()=>({...m}))},[m]),y.useImperativeHandle(a,()=>({props:e,save:ee,editableTableRef:me}));const g=async()=>{var I;try{const L=await je.getAll(0,1e3,`staticMasterType.code=${pt.ASSET_TYPE}&`);Te(L)&&((I=L.data)!=null&&I.totalRecords)&&F([...L.data.results])}catch(L){M(Ce(L))}},W=I=>{var L,J;(J=f==null?void 0:f.current)==null||J.showMessageFor((L=I==null?void 0:I.target)==null?void 0:L.name)},d=()=>{var L,J;let I=!1;return I=(L=f==null?void 0:f.current)==null?void 0:L.allValid(),I||(X(se=>!se),(J=f==null?void 0:f.current)==null||J.showMessages(),X(se=>!se),!1)},H=I=>{E(L=>({...L,[I.target.name]:I.target.value}))},j=(I,L)=>{var se;const J={...L};J.smAssetType=I.target.value,(se=Y.current)==null||se.reportDataChange(J)},p=(I,L)=>{var ge;const J={...L},se=he(I.target.value);J.amount=ve(se,"en-IN",0),(ge=Y.current)==null||ge.reportDataChange(J)},V=()=>{var I;(I=Y==null?void 0:Y.current)==null||I.addRow(Ei)},ee=()=>{var J,se,ge;if(!d())return;let I={...T,assets:[...((J=Y.current)==null?void 0:J.getAddedRecords())??[],...((se=Y.current)==null?void 0:se.getDeletedRecords())??[],...((ge=Y.current)==null?void 0:ge.getUpdatedRecords())??[]]};const L=I.assets.map(de=>{var oe,xe;return{...de,amount:(xe=he((oe=de.amount)==null?void 0:oe.toString()))==null?void 0:xe.toString()}});return I={...I,assets:L},I},Z=I=>{var L;(L=Y.current)==null||L.deleteRow(I),Ee()},me=()=>{var I,L;(I=Y.current)==null||I.search(),(L=Y.current)==null||L.clearAll()},R=async()=>{g()},Ne=I=>ve(I,"en-IN",0),Ee=()=>{var I;f.current=new Be({validators:{...Ue()},...Fe(),autoForceUpdate:{forceUpdate:()=>X(L=>!L)}}),(I=f==null?void 0:f.current)==null||I.hideMessages()},ne=I=>{var L;return n.jsx(ye,{name:`smAssetType${I.uid}`,className:"!w-32",options:B,optionLabel:"name",optionValue:"code",value:I.smAssetType??"",onChange:J=>{j(J,I)},onBlur:W,validation:(L=f==null?void 0:f.current)==null?void 0:L.message(`smAssetType${I.uid}`,I.smAssetType,"mandatory")})},re=I=>{var L;return n.jsx(w,{name:`amount${I.uid}`,className:"!w-40 text-right",variant:C.SECONDARY,value:typeof I.amount=="number"?Ne(I.amount):I.amount,onChange:J=>{p(J,I)},onBlur:W,validation:(L=f==null?void 0:f.current)==null?void 0:L.message(`amount${I.uid}`,I.amount,"mandatory|onlyInteger")})},b=I=>n.jsx(_s,{buttonType:Ls.DELETE,onClick:()=>Z(I),disabled:r===z.VIEW}),A=()=>{const{investmentComments:I}=T;return n.jsxs("div",{className:"mt-3 flex flex-col gap-5",children:[n.jsx("div",{className:"self-end",children:n.jsx(un,{buttonType:an.ADD_ASSET,onClick:V})}),n.jsx("div",{children:n.jsxs(vt,{ref:Y,uniqueKey:"uid",mode:"UPDATE",standardDataFormatPromise:ni.getAll,search:`&stage.uid=${D}&isActive=${!0}`,children:[n.jsx(Ie,{header:ie("label.investmentInfo.table.colTitle.assetType"),className:"text-primary-ptext-1000 text-left text-xs h-12 pl-6",body:ne}),n.jsx(Ie,{header:ie("label.investmentInfo.table.colTitle.amt"),className:"table-header-right text-primary-ptext-1000 text-xs h-12 pl-6",body:re}),n.jsx(Ie,{header:ie("label.investmentInfo.table.colTitle.action"),className:"text-primary-ptext-1000 text-center text-xs h-12 px-6",style:{minWidth:"50px",width:"50px"},body:b})]})}),n.jsx("div",{className:"w-full",children:n.jsx(cn,{name:"investmentComments",className:"!min-h-40 !max-h-80 h-40",label:"label.investmentInfo.comments",labelClassNames:"font-bold text-xs !text-primary-gray-700",maxCount:200,placeholder:"Enter description here",value:I,onChange:H,variant:C.SECONDARY})})]})};return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"",children:x?n.jsx(Ke,{height:"19.375rem",width:"100%",borderRadius:"8px",animation:"wave"}):n.jsx(fn,{override:{read:r===z.VIEW},children:A()})}),n.jsx(Nt,{onHide:()=>{k(!1),M("")},visible:o,errorMessage:N})]})}),Ct={totalRentalIncome:"",agriculturalIncome:"",FDDividendIncome:""},Oi=y.forwardRef((e,a)=>{const{data:m={},pageMode:x=z.EDIT,isLoading:r,className:D}=e,[T,E]=y.useState(Object.keys(m).length?m:Ct),[,B]=y.useState(!1),F=y.useRef(new Be({validators:{...Ue()},...Fe(),autoForceUpdate:{forceUpdate:()=>B(f=>!f)}}));y.useEffect(()=>{m&&Object.keys(m).length>0&&E(()=>({...m}))},[m]),y.useImperativeHandle(a,()=>({save:Y,onCancel:k,resetValidator:ie}));const N=f=>{var g,W;(W=F==null?void 0:F.current)==null||W.showMessageFor((g=f==null?void 0:f.target)==null?void 0:g.name)},M=()=>{var g,W;let f=!1;return f=(g=F==null?void 0:F.current)==null?void 0:g.allValid(),f||(B(d=>!d),(W=F==null?void 0:F.current)==null||W.showMessages(),B(d=>!d),!1)},o=f=>{const g=he(f.target.value);E(W=>({...W,[f.target.name]:ve(g,"en-IN",0)}))},k=()=>{ie()},Y=()=>{if(M())return{...T}},ie=()=>{var f;F.current=new Be({validators:{...Ue()},...Fe(),autoForceUpdate:{forceUpdate:()=>B(g=>!g)}}),(f=F==null?void 0:F.current)==null||f.hideMessages()},X=()=>{var d,H,j;const{totalRentalIncome:f,agriculturalIncome:g,FDDividendIncome:W}=T;return n.jsxs("div",{className:"grid grid-cols-4 gap-x-4 gap-y-5 mt-5",children:[n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.other.income.total.rental.income",name:"totalRentalIncome",className:"text-right",value:f,onChange:o,onBlur:N,validation:(d=F==null?void 0:F.current)==null?void 0:d.message("totalRentalIncome",f,"mandatory|max:20,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.other.income.agricultural.income",name:"agriculturalIncome",className:"text-right",value:g,onChange:o,onBlur:N,validation:(H=F==null?void 0:F.current)==null?void 0:H.message("agriculturalIncome",g,"mandatory|max:20,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{variant:C.SECONDARY,label:"label.other.income.FD.interest",name:"FDDividendIncome",className:"text-right",value:W,onChange:o,onBlur:N,validation:(j=F==null?void 0:F.current)==null?void 0:j.message("FDDividendIncome",W,"mandatory|max:20,number")})})]})};return n.jsx("div",{className:`w-full h-full ${D??""}`,children:r?n.jsx(Ke,{height:"6.375rem",width:"100%",borderRadius:"8px",animation:"wave"}):n.jsx(fn,{override:{read:x===z.VIEW},children:X()})})}),Ti={applicantType:"",customerName:"",placeOfVisit:"",dateOfPD:"",ITRAvailability:"",address:"",pincode:"",city:"",state:"",latitude:"",longitude:"",dateOfInitiation:""},Rt=y.forwardRef((e,a)=>{const{data:m={},isLoading:x,className:r,pageMode:D=z.EDIT}=e,[T,E]=y.useState(Object.keys(m).length?m:Ti),B=y.useRef(null),[,F]=y.useState(!1),N=y.useRef(new Be({validators:{...Ue()},...Fe(),autoForceUpdate:{forceUpdate:()=>F(d=>!d)}}));y.useEffect(()=>{m&&Object.keys(m).length>0&&E(()=>({...m}))},[m]),y.useEffect(()=>{},[T]),y.useImperativeHandle(a,()=>({save:ie,onCancel:Y,resetValidator:X}));const M=d=>{var H,j;(j=N==null?void 0:N.current)==null||j.showMessageFor((H=d==null?void 0:d.target)==null?void 0:H.name)},o=()=>{var H,j;let d=!1;return d=(H=N==null?void 0:N.current)==null?void 0:H.allValid(),d||(F(p=>!p),(j=N==null?void 0:N.current)==null||j.showMessages(),F(p=>!p),!1)},k=d=>{E(H=>({...H,[d.target.name]:d.target.value}))},Y=()=>{X()},ie=()=>{var H;const d=(H=B==null?void 0:B.current)==null?void 0:H.save();if(!(!o()||!d))return{...T,...d,uid:T==null?void 0:T.uid}},X=()=>{var d,H;N.current=new Be({validators:{...Ue()},...Fe(),autoForceUpdate:{forceUpdate:()=>F(j=>!j)}}),(d=N==null?void 0:N.current)==null||d.hideMessages(),(H=B==null?void 0:B.current)==null||H.resetValidator()},f=y.useMemo(()=>{const{address:d,pincode:H,city:j,state:p,latitude:V,longitude:ee}=T;return{address:d,pincode:H,city:j,state:p,latitude:V,longitude:ee}},[T==null?void 0:T.address,T==null?void 0:T.pincode,T==null?void 0:T.city,T==null?void 0:T.state,T==null?void 0:T.latitude,T==null?void 0:T.longitude]),g=()=>n.jsx("div",{className:"flex flex-col space-y-4",children:n.jsx(Ps,{pageMode:D,ref:B,data:f,variant:Ms.SECONDARY,isLatLong:!0})}),W=()=>{var ee,Z,me,R,Ne;const{applicantType:d,customerName:H,placeOfVisit:j,dateOfPD:p,ITRAvailability:V}=T;return n.jsxs(xn.Fragment,{children:[n.jsxs("div",{className:"grid grid-cols-4 gap-x-4 gap-y-5 mt-5",children:[n.jsx("div",{className:"col-span-1",children:n.jsx(w,{disabled:!0,variant:C.SECONDARY,label:"label.pd.type.applicant.mandatory",name:"applicantType",value:d,onChange:k,onBlur:M,validation:(ee=N==null?void 0:N.current)==null?void 0:ee.message("customerName",H,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(w,{disabled:!0,variant:C.SECONDARY,label:"label.pd.customer.name.mandatory",name:"customerName",className:"",value:H,onChange:k,onBlur:M,validation:(Z=N==null?void 0:N.current)==null?void 0:Z.message("customerName",H,"mandatory|onlyInteger|max:50,number")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.pd.place.of.visit.mandatory",name:"placeOfVisit",value:j,onChange:k,onBlur:M,options:Ft,optionLabel:"name",optionValue:"code",validation:(me=N==null?void 0:N.current)==null?void 0:me.message("placeOfVisit",j,"mandatory")})}),n.jsx("div",{}),n.jsx("div",{className:"col-span-1",children:n.jsx(Kn,{minDate:T!=null&&T.dateOfInitiation?new Date(T==null?void 0:T.dateOfInitiation):void 0,variant:C.SECONDARY,label:"label.pd.date.of.pd.mandatory",name:"dateOfPD",value:p?new Date(p):null,onChange:k,onBlur:M,validation:(R=N==null?void 0:N.current)==null?void 0:R.message("dateOfPD",p,"mandatory")})}),n.jsx("div",{className:"col-span-1",children:n.jsx(ye,{label:"label.pd.ITR.availability.mandatory",name:"ITRAvailability",value:V,onChange:k,onBlur:M,options:ts,optionLabel:"label",optionValue:"value",validation:(Ne=N==null?void 0:N.current)==null?void 0:Ne.message("ITRAvailability",V,"mandatory")})})]}),g()]})};return n.jsx("div",{className:`w-full h-full ${r??""}`,children:x?n.jsx(Ke,{height:"19.375rem",width:"100%",borderRadius:"8px",animation:"wave"}):n.jsx(fn,{override:{read:D===z.VIEW},children:W()})})});Rt.defaultProps={data:{}};const Cs={LOGIN:"login",PD:"pd"},Ii=y.forwardRef((e,a)=>{const{isLoading:m,className:x,pdRecordings:r,onRemoveDocFromList:D,sectionMode:T,payloadInfo:E}=e,B=y.useRef([]);y.useImperativeHandle(a,()=>({save:F,cancel:N}));const F=()=>{var k,Y,ie;const M=[];for(let X=0;X<r.length;X++)if((k=B==null?void 0:B.current)!=null&&k[X]){const f=(ie=(Y=B==null?void 0:B.current)==null?void 0:Y[X])==null?void 0:ie.getUploadedData();if(f)M.push(f);else return}return Ot(M,E)},N=()=>{};return n.jsx(xn.Fragment,{children:n.jsx("div",{className:`w-full h-full ${x??""}`,children:m?n.jsx("div",{className:"flex items-center justify-center w-full h-full",children:n.jsx(Ke,{height:"19rem",width:"100%",borderRadius:"8px",animation:"wave"})}):n.jsx("div",{className:"flex flex-col",children:r.map((M,o)=>n.jsx(y.Fragment,{children:n.jsx(is,{ref:k=>{B.current[o]=k},docUploaderIndex:o,mode:T===z.CREATE?at.EDIT:at.VIEW,queryParamForDocList:Qe.DOCUMENT_CATEGORY_OTHER_DOCUMENTS,savedDocument:M??{},accessKebab:!0,onRemoveFromList:D})},M.uid?M.uid:M.listKey))})})})}),Ai={uid:"",isActive:!0,smCustomerType:"",customerName:"",applicant:{uid:""},bank:{name:"",uid:"",type:{code:""}},smPurpose:"",sanctionedAmount:"",outstandingAmount:"",balanceTenor:"",emiAmount:"",pastDefaults:"",sanctionedTenor:"",noOfBounces:"",roi:""},Si={repaymentHistory:[]},Ci=y.forwardRef((e,a)=>{const{isLoading:m,className:x,pageMode:r,applicantDetails:D,stageId:T,loanId:E,data:B=Si}=e,[F,N]=y.useState(B),[M,o]=y.useState({CUSTOMER_TYPE_OPTION:kt,CUSTOMER_NAME_OPTION:[],FINANCIER_TYPE_OPTION:[]}),[k,Y]=y.useState(!1),[ie,X]=y.useState([]),[f,g]=y.useState("bottom-right"),[W,d]=y.useState(""),[H,j]=y.useState(!1),[p,V]=y.useState(""),ee=y.useRef(null),Z=js(),[,me]=y.useState(!1),R=y.useRef(new Be({validators:{...Ue()},...Fe(),autoForceUpdate:{forceUpdate:()=>me(u=>!u)}}));y.useEffect(()=>{de(),L(),Ne()},[]),y.useEffect(()=>{B&&Object.keys(B).length>0&&N(()=>({...B}))},[B]),y.useEffect(()=>{},[D==null?void 0:D.applicantType]),y.useImperativeHandle(a,()=>({props:e,save:ge,onCancel:se,search:L,editableTableRef:ee}));const Ne=async u=>{var fe,Oe,Pe;const _=`applicantType=${Hn.PRIMARY}&loan.uid=${E}`,K=`applicantType=${Hn.CO_APPLICANT}&loan.uid=${E}`,le=`applicantType=${Hn.GUARANTOR}&loan.uid=${E}`;try{const pe=await zn.getCustomerDetails(0,50,_);Te(pe)&&((fe=pe.data)!=null&&fe.totalRecords)&&o(rn=>({...rn,CUSTOMER_NAME_OPTION_FOR_APPLICANT:[...pe.data.results]}));const Ae=await zn.getCustomerDetails(0,50,K);Te(Ae)&&((Oe=Ae.data)!=null&&Oe.totalRecords)&&o(rn=>({...rn,CUSTOMER_NAME_OPTION_FOR_CO_APPLICANT:[...Ae.data.results]}));const Ve=await zn.getCustomerDetails(0,50,le);Te(Ve)&&((Pe=Ve.data)!=null&&Pe.totalRecords)&&o(rn=>({...rn,CUSTOMER_NAME_OPTION_FOR_GUARANTOR:[...Ve.data.results]}))}catch(pe){console.log(pe),V(Ce(pe))}},Ee=async()=>{var u;try{const _=await je.getAll(0,1e3,`staticMasterType.code=${pt.BANK_FINANCIER_TYPE}&`);Te(_)&&((u=_.data)!=null&&u.totalRecords)&&o(K=>({...K,FINANCIER_TYPE_OPTION:[..._.data.results]}))}catch(_){console.log(_),V(Ce(_))}},ne=u=>{var _,K;(K=R==null?void 0:R.current)==null||K.showMessageFor((_=u==null?void 0:u.target)==null?void 0:_.name)},re=()=>{var _,K;let u=!1;return u=(_=R==null?void 0:R.current)==null?void 0:_.allValid(),u||(me(le=>!le),(K=R==null?void 0:R.current)==null||K.showMessages(),me(le=>!le),!1)},b=(u,_,K)=>{var fe;const le={..._};le[K]=u.target.value,(fe=ee.current)==null||fe.reportDataChange(le)},A=(u,_,K)=>{var Oe;const le={..._},fe=he(u.target.value);le[K]=ve(fe,"en-IN",0),(Oe=ee.current)==null||Oe.reportDataChange(le)},I=()=>{var u;(u=ee==null?void 0:ee.current)==null||u.addRow(JSON.parse(JSON.stringify(Ai))),oe()},L=()=>{var u,_;(u=ee.current)==null||u.search(),(_=ee.current)==null||_.clearAll(),oe()},J=u=>{var _;(_=ee.current)==null||_.deleteRow(u),oe()},se=()=>{oe()},ge=()=>{var K,le,fe;if(!re())return;let u={...F,repaymentHistory:[...((K=ee.current)==null?void 0:K.getAddedRecords())??[],...((le=ee.current)==null?void 0:le.getDeletedRecords())??[],...((fe=ee.current)==null?void 0:fe.getUpdatedRecords())??[]]};const _=u.repaymentHistory.map(Oe=>{var Pe,pe,Ae;return{...Oe,sanctionedAmount:`${he((Pe=Oe.sanctionedAmount)==null?void 0:Pe.toString())}`,outstandingAmount:`${he((pe=Oe.outstandingAmount)==null?void 0:pe.toString())}`,emiAmount:`${he((Ae=Oe.emiAmount)==null?void 0:Ae.toString())}`}});return u={...u,repaymentHistory:_},u},de=()=>{Ee()},oe=()=>{var u;R.current=new Be({validators:{...Ue()},...Fe(),autoForceUpdate:{forceUpdate:()=>me(_=>!_)}}),(u=R==null?void 0:R.current)==null||u.hideMessages()},xe=async(u,_)=>{let K=[];Y(!0);try{await ft.findBankName(0,10,`name:lk=${u.query}&isActive=true&type.code=${_}`).then(le=>{le.status===200&&(K=[...le.data.results],Y(!1))})}catch{g("top-right"),d(We.ERROR),j(!H)}K.length===0&&K.push({name:void 0,code:void 0,uid:void 0}),X(K)},Re=u=>u!=null&&u.name?n.jsx("div",{className:"flex flex-col",children:n.jsx(Ze,{className:"text-primary-labelColor",label:u==null?void 0:u.name})}):n.jsx("div",{className:"flex flex-col items-center justify-center h-39 pointer-events-none cursor-default",children:n.jsx(Ze,{className:"text-primary-labelColor mt-2",label:"label.noDataFound"})}),ue=u=>{var _;return n.jsx(ye,{name:`smCustomerType${u.uid}`,className:"!w-32",options:M==null?void 0:M.CUSTOMER_TYPE_OPTION,optionLabel:"name",optionValue:"code",value:u.smCustomerType??"",onChange:K=>{var fe;const le={...u};le.smCustomerType=K.target.value,le.applicant.uid&&(le.applicant.uid=""),(fe=ee.current)==null||fe.reportDataChange(le)},onBlur:ne,validation:(_=R==null?void 0:R.current)==null?void 0:_.message(`smCustomerType${u.uid}`,u.smCustomerType,"mandatory")})},Je=u=>{var _,K,le;return n.jsx(ye,{name:`customerName${u.uid}`,className:"!w-32",options:u.smCustomerType===Hn.PRIMARY?M==null?void 0:M.CUSTOMER_NAME_OPTION_FOR_APPLICANT:u.smCustomerType===Hn.CO_APPLICANT?M==null?void 0:M.CUSTOMER_NAME_OPTION_FOR_CO_APPLICANT:M==null?void 0:M.CUSTOMER_NAME_OPTION_FOR_GUARANTOR,optionLabel:"firstName",optionValue:"uid",value:((_=u.applicant)==null?void 0:_.uid)??"",onChange:fe=>{var Pe;const Oe={...u};Oe.applicant.uid=fe.target.value,(Pe=ee.current)==null||Pe.reportDataChange(Oe)},onBlur:ne,validation:(le=R==null?void 0:R.current)==null?void 0:le.message(`customerName${u.uid}`,(K=u.applicant)==null?void 0:K.uid,"mandatory"),disabled:!(u!=null&&u.smCustomerType)})},qe=u=>{var _,K,le,fe,Oe;return n.jsx(ye,{name:`financierType${u.uid}`,className:"!w-32",options:M==null?void 0:M.FINANCIER_TYPE_OPTION,optionLabel:"name",optionValue:"code",value:((K=(_=u==null?void 0:u.bank)==null?void 0:_.type)==null?void 0:K.code)??"",onChange:Pe=>{var Ae;const pe={...u};pe.bank.type.code=Pe.target.value,(Ae=ee.current)==null||Ae.reportDataChange(pe)},onBlur:ne,validation:(Oe=R==null?void 0:R.current)==null?void 0:Oe.message(`financierType${u.uid}`,(fe=(le=u==null?void 0:u.bank)==null?void 0:le.type)==null?void 0:fe.code,"mandatory")})},t=u=>{var _;return n.jsx(ye,{name:`smPurpose${u.uid}`,className:"!w-32",options:Wt,optionLabel:"name",optionValue:"value",value:u.smPurpose??"",onChange:K=>{b(K,u,"smPurpose")},onBlur:ne,validation:(_=R==null?void 0:R.current)==null?void 0:_.message(`smPurpose${u.uid}`,u.smPurpose,"mandatory")})},mn=u=>{var _,K,le,fe,Oe;return n.jsx(Ds,{disabled:!((K=(_=u==null?void 0:u.bank)==null?void 0:_.type)!=null&&K.code),variant:C.PRIMARY,name:`bank${u.uid}`,className:"!w-44",value:((le=u.bank)==null?void 0:le.name)??"",suggestions:ie,completeMethod:Pe=>{var pe,Ae;return xe(Pe,(Ae=(pe=u==null?void 0:u.bank)==null?void 0:pe.type)==null?void 0:Ae.code)},onChange:Pe=>{var Ve;const{value:pe}=Pe.target,Ae=u;typeof pe=="object"?(Ae.bank.name=pe==null?void 0:pe.name,Ae.bank.uid=pe==null?void 0:pe.uid):Ae.bank.name=pe,(Ve=ee.current)==null||Ve.reportDataChange(Ae)},itemTemplate:Re,loader:k,onBlur:ne,validation:(Oe=R==null?void 0:R.current)==null?void 0:Oe.message(`bank${u.uid}`,(fe=u.bank)==null?void 0:fe.uid,"mandatory")})},tn=u=>{var _;return n.jsx(w,{variant:C.SECONDARY,name:`sanctionedAmount${u.uid}`,className:"!w-44 text-right",value:u.sanctionedAmount??"",onChange:K=>{A(K,u,"sanctionedAmount")},onBlur:ne,validation:(_=R==null?void 0:R.current)==null?void 0:_.message(`sanctionedAmount${u.uid}`,u.sanctionedAmount,"mandatory|max:20")})},yn=u=>{var _;return n.jsx(w,{variant:C.SECONDARY,name:`outstandingAmount${u.uid}`,className:"!w-44 text-right",value:u.outstandingAmount??"",onChange:K=>{A(K,u,"outstandingAmount")},onBlur:ne,validation:(_=R==null?void 0:R.current)==null?void 0:_.message(`outstandingAmount${u.uid}`,u.outstandingAmount,"mandatory|max:20")})},P=u=>{var _;return n.jsx(w,{variant:C.SECONDARY,name:`balanceTenor${u.uid}`,className:"!w-44 text-right",value:u.balanceTenor??"",onChange:K=>{b(K,u,"balanceTenor")},onBlur:ne,validation:(_=R==null?void 0:R.current)==null?void 0:_.message(`balanceTenor${u.uid}`,u.balanceTenor,"mandatory|checkNumber|max:3,number|onlyInteger")})},on=u=>{var _;return n.jsx(w,{variant:C.SECONDARY,name:`emiAmount${u.uid}`,className:"text-right !w-44",value:u.emiAmount??"",onChange:K=>{A(K,u,"emiAmount")},onBlur:ne,validation:(_=R==null?void 0:R.current)==null?void 0:_.message(`emiAmount${u.uid}`,u.emiAmount,"mandatory|max:20")})},dn=u=>{var _;return n.jsx(w,{variant:C.SECONDARY,name:`pastDefaults${u.uid}`,className:"!w-44 text-left",value:u.pastDefaults??"",onChange:K=>{b(K,u,"pastDefaults")},onBlur:ne,validation:(_=R==null?void 0:R.current)==null?void 0:_.message(`pastDefaults${u.uid}`,u.pastDefaults,"mandatory")})},hn=u=>{var _;return n.jsx(w,{variant:C.SECONDARY,name:`sanctionedTenor${u.uid}`,className:"!w-44 text-right",value:u.sanctionedTenor??"",onChange:K=>{b(K,u,"sanctionedTenor")},onBlur:ne,validation:(_=R==null?void 0:R.current)==null?void 0:_.message(`sanctionedTenor${u.uid}`,u.sanctionedTenor,"mandatory|checkNumber|max:3,number|onlyInteger")})},gn=u=>{var _;return n.jsx(w,{variant:C.SECONDARY,name:`noOfBounces${u.uid}`,className:"text-right !w-44",value:u.noOfBounces??"",onChange:K=>{b(K,u,"noOfBounces")},onBlur:ne,validation:(_=R==null?void 0:R.current)==null?void 0:_.message(`noOfBounces${u.uid}`,u.noOfBounces,"mandatory|checkNumber|max:6,number|onlyInteger")})},G=u=>{var _;return n.jsx(w,{variant:C.SECONDARY,name:`roi${u.uid}`,className:"text-right !w-44",value:u.roi??"",onChange:K=>{b(K,u,"roi")},onBlur:ne,validation:(_=R==null?void 0:R.current)==null?void 0:_.message(`roi${u.uid}`,u.roi,"mandatory|checkNumber|min:0,num|max:100,num|maxDecimal:2")})},be=u=>n.jsx(_s,{buttonType:Ls.DELETE,onClick:()=>J(u),disabled:r===z.VIEW}),vn=()=>n.jsxs("div",{className:"mt-3 flex flex-col gap-5",children:[n.jsx("div",{className:"self-end",children:n.jsx(un,{buttonType:an.ADD_ASSET,onClick:I})}),n.jsx("div",{children:n.jsxs(vt,{ref:ee,uniqueKey:"uid",mode:"UPDATE",standardDataFormatPromise:zn.getRepaymentHistory,search:`&stage.uid=${T}&isActive=${!0}`,children:[n.jsx(Ie,{header:Z("label.repayment.history.customer.type"),className:"text-primary-ptext-1000 text-left text-xs h-12 pl-6",body:ue}),n.jsx(Ie,{header:Z("label.repayment.history.customer.name"),className:"text-primary-ptext-1000 text-left text-xs h-12 pl-6",body:Je}),n.jsx(Ie,{header:Z("label.repayment.history.financier.type"),className:"text-primary-ptext-1000 text-left text-xs h-12 pl-6",body:qe}),n.jsx(Ie,{header:Z("label.repayment.history.purpose"),className:"text-primary-ptext-1000 text-left text-xs h-12 pl-6",body:t}),n.jsx(Ie,{header:Z("label.repayment.history.name.of.institution"),className:"text-primary-ptext-1000 text-left text-xs h-12 pl-6",body:mn}),n.jsx(Ie,{header:Z("label.repayment.history.sanction.amount"),className:"text-primary-ptext-1000 text-left text-xs h-12 pl-6",body:tn}),n.jsx(Ie,{header:Z("label.repayment.history.roi"),className:"text-primary-ptext-1000 text-left text-xs h-12 pl-6",body:G}),n.jsx(Ie,{header:Z("label.repayment.history.outstanding.amount"),className:"text-primary-ptext-1000 text-left text-xs h-12 pl-6",body:yn}),n.jsx(Ie,{header:Z("label.repayment.history.balance.tenor"),className:"text-primary-ptext-1000 text-left text-xs h-12 pl-6",body:P}),n.jsx(Ie,{header:Z("label.repayment.history.sanction.tenor"),className:"text-primary-ptext-1000 text-left text-xs h-12 pl-6",body:hn}),n.jsx(Ie,{header:Z("label.repayment.history.emi"),className:"text-primary-ptext-1000 text-left text-xs h-12 pl-6",body:on}),n.jsx(Ie,{header:Z("label.repayment.history.past.defaults"),className:"text-primary-ptext-1000 text-left text-xs h-12 pl-6",body:dn}),n.jsx(Ie,{header:Z("label.repayment.history.no.of.bounces"),className:"text-primary-ptext-1000 text-left text-xs h-12 pl-6",body:gn}),n.jsx(Ie,{header:Z("label.repayment.history.actions"),className:"text-primary-ptext-1000 text-center text-xs h-12 px-6",style:{minWidth:"50px",width:"50px"},body:be})]})})]});return n.jsx("div",{className:`w-full h-full ${x??""}`,children:m?n.jsx(Ke,{height:"19.375rem",width:"100%",borderRadius:"8px",animation:"wave"}):n.jsx(fn,{override:{read:r===z.VIEW},children:vn()})})}),Ri={initiationInfo:{isInitiationInfoLoading:!1,initiationInfoData:{},initiationInfoMode:z.VIEW},PDDetails:{isPDDetailsLoading:!1,PDData:{},PDDetailsMode:z.VIEW},familyDetails:{isFamilyDetailsLoading:!1,familyData:{},familyDetailsMode:z.VIEW},employmentDetails:{isEmploymentDetailsLoading:!1,employmentDetailsList:[{...rs}],employmentDetailsMode:z.VIEW},referenceDetails:{isReferenceDetailsLoading:!1,referenceDetailsList:[{...Nn}],referenceDetailsMode:z.VIEW},otherIncome:{isOtherIncomeLoading:!1,otherIncomeMode:z.VIEW,otherIncomeData:{...Ct}},writeUpDetails:{uid:"",isWriteUpLoading:!1,writeUpData:"",writeUpDetailsMode:z.VIEW,writeUpValidation:null},investmentDetails:{isInvestmentDetailsLoading:!1,investmentData:[],investmentDetailsMode:z.VIEW},repaymentHistory:{isRepaymentHistoryLoading:!1,repaymentHistoryData:[],repaymentHistoryMode:z.VIEW},personalDiscussionRecording:{isPDRecordingLoading:!1,pdRecordingData:[os],pdRecordingSectionMode:z.VIEW}},Bo=()=>{const e=$t(),a=e.loanUid??"",m=e.stageUid??"",[x,r]=y.useState({...Ri}),[D,T]=y.useState(null),[E,B]=y.useState(!1),[F,N]=y.useState(!1),[M,o]=y.useState({FAMILY_TYPE_OPTION:[],OWNERSHIP_OF_RESIDENCE_OPTION:[],PD_TYPE_OPTION:[],EMPLOYMENT_TYPE_OPTION:[],INDUSTRY_OPTION:[],BUSINESS_CATEGORY_OPTION:[],NO_EMPLOYEE_OPTION:[],BUSINESS_CONSTITUTION_OPTION:[],NATURE_OF_RELATIONSHIP:[],OWNERSHIP_OF_BUSINESS_PREMISES_OPTION:[],BUSINESS_LOCATION_OPTION:[],STRUCTURE_TYPE_OPTION:[],SEASONALITY_OPTION:[],BUSINESS_TYPE_OPTION:[],RENT_MODE_OPTION:[],PROPERTY_OWNED_BY_OPTION:[],TENANT_TYPE_OPTION:[]}),[k,Y]=y.useState(""),[ie,X]=y.useState(!1),[f,g]=y.useState("bottom-right"),[W,d]=y.useState(""),[H,j]=y.useState(He.PRIMARY),[p,V]=y.useState(!1),ee=y.useRef(null),Z=y.useRef(null),me=y.useRef(null),R=y.useRef(null),Ne=y.useRef(null),Ee=y.useRef(null),ne=y.useRef(null),re=y.useRef([]),b=y.useRef([]),A=y.useRef(null),[,I]=y.useState(!1);y.useRef(new Be({validators:{...Ue()},...Fe(),autoForceUpdate:{forceUpdate:()=>I(s=>!s)}})),y.useEffect(()=>{Xn()},[]),y.useEffect(()=>{m&&(Xn(),de())},[m]),y.useEffect(()=>{F&&Ns()},[F]),y.useEffect(()=>{var s;ee!=null&&ee.current&&W!==""&&((s=ee==null?void 0:ee.current)==null||s.showFunction())},[W,H,p]),y.useEffect(()=>{k&&X(!0)},[k]);const L=async s=>{s||ps();try{const i=await zn.getStageDetails(m);Te(i)&&(T(i==null?void 0:i.data),r(l=>{var O,S,U,q,ae,Se;return{...l,initiationInfo:{...l.initiationInfo,initiationInfoData:oi(i==null?void 0:i.data),isInitiationInfoLoading:!1},PDDetails:{...l.PDDetails,isPDDetailsLoading:!1,PDData:yt(i==null?void 0:i.data)},familyDetails:{...l.familyDetails,isFamilyDetailsLoading:!1,familyData:dt(i==null?void 0:i.data)},otherIncome:{...l.otherIncome,isOtherIncomeLoading:!1,otherIncomeData:ht(i==null?void 0:i.data)},writeUpDetails:{...l.writeUpDetails,isWriteUpLoading:!1,writeUpData:(U=(S=(O=i==null?void 0:i.data)==null?void 0:O.stage)==null?void 0:S.pd)==null?void 0:U.workProfileDescription,uid:(Se=(ae=(q=i==null?void 0:i.data)==null?void 0:q.stage)==null?void 0:ae.pd)==null?void 0:Se.uid},investmentDetails:{...l.investmentDetails,isInvestmentDetailsLoading:!1,investmentData:ai(i==null?void 0:i.data)},repaymentHistory:{...l.repaymentHistory,isRepaymentHistoryLoading:!1,repaymentHistoryData:{repaymentHistory:[]}}}}))}catch(i){Y(Ce(i))}},J=async()=>{var s;try{const i=await Ge.getPDDetails(m);if(Te(i))return(s=i==null?void 0:i.data)==null?void 0:s.results[0]}catch(i){Y(Ce(i))}},se=async(s,i)=>{var l,O;s||r(S=>({...S,employmentDetails:{...S.employmentDetails,isEmploymentDetailsLoading:!0}}));try{const S=await Ge.getEmploymentDetail(a,m);if(Te(S)){if(((l=S==null?void 0:S.data)==null?void 0:l.length)>0){const U=An(S==null?void 0:S.data);B(ae=>U);const q=(O=S==null?void 0:S.data)==null?void 0:O.map(ae=>di(ae));r(ae=>({...ae,employmentDetails:{...ae.employmentDetails,isEmploymentDetailsLoading:!1,employmentDetailsList:[...q]}}))}else r(U=>({...U,employmentDetails:{...U.employmentDetails,isEmploymentDetailsLoading:!1,employmentDetailsList:[{...rs}]}}));i&&i===lt.REMOVE&&N(!0)}}catch(S){Y(Ce(S))}},ge=async s=>{var i,l,O,S;s||r(U=>({...U,referenceDetails:{...U.referenceDetails,isReferenceDetailsLoading:!0}}));try{const U=await Ge.getReferenceDetail(m);if(Te(U))if(((l=(i=U==null?void 0:U.data)==null?void 0:i.results)==null?void 0:l.length)>0){const q=(S=(O=U==null?void 0:U.data)==null?void 0:O.results)==null?void 0:S.map(ae=>hi(ae));r(ae=>({...ae,referenceDetails:{...ae.referenceDetails,isReferenceDetailsLoading:!1,referenceDetailsList:[...q]}}))}else r(q=>({...q,referenceDetails:{...q.referenceDetails,isReferenceDetailsLoading:!1,referenceDetailsList:[{...Nn}]}}))}catch(U){console.log(U),Y(Ce(U))}},de=async()=>{var s,i;r(l=>({...l,personalDiscussionRecording:{...l.personalDiscussionRecording,isPDRecordingLoading:!0}}));try{const l=await Is.getDocsByStage(Cs.PD,m);if(Te(l))if(((s=l==null?void 0:l.data)==null?void 0:s.length)>0){const O=(i=l==null?void 0:l.data)==null?void 0:i.map(S=>pi(S));r(S=>({...S,personalDiscussionRecording:{...S.personalDiscussionRecording,pdRecordingData:[...O],isPDRecordingLoading:!1}}))}else r(O=>({...O,personalDiscussionRecording:{...O.personalDiscussionRecording,pdRecordingData:[os],isPDRecordingLoading:!1}}))}catch(l){console.log(l),r(O=>({...O,personalDiscussionRecording:{...O.personalDiscussionRecording,pdRecordingData:[os],isPDRecordingLoading:!1}})),Y(Ce(l))}},oe=async()=>{await je.getAll(0,1e4,"staticMasterType.code=FAMILY_TYPE").then(s=>{var i;Te(s)&&((i=s.data)==null?void 0:i.results.length)>0?o(l=>({...l,FAMILY_TYPE_OPTION:[...s.data.results]})):console.log("error")})},xe=async()=>{await je.getAll(0,1e4,"staticMasterType.code=RESIDENTIAL_OWNERSHIP").then(s=>{var i;Te(s)&&((i=s.data)==null?void 0:i.results.length)>0?o(l=>({...l,OWNERSHIP_OF_RESIDENCE_OPTION:[...s.data.results]})):console.log("error")})},Re=()=>{je.getAll(0,1e3,"staticMasterType.code=PD_TYPE&").then(s=>{var i;Te(s)&&((i=s.data)==null?void 0:i.results.length)>0?o(l=>({...l,PD_TYPE_OPTION:[...s.data.results]})):console.log("error")})},ue=async()=>{await je.getAll(0,1e3,"staticMasterType.code=EMPLOYMENT_TYPE").then(s=>{var i;Te(s)&&((i=s.data)==null?void 0:i.results.length)>0?o(l=>({...l,EMPLOYMENT_TYPE_OPTION:[...s.data.results]})):console.log("error")})},Je=async()=>{await Gt.getAll(0,1e3,"").then(s=>{var i;Te(s)&&((i=s.data)==null?void 0:i.results.length)>0?o(l=>({...l,INDUSTRY_OPTION:[...s.data.results??[]]})):console.log("error")})},qe=async()=>{await Et.getCoreBusinessCategory(0,1e3,"").then(s=>{var i;Te(s)&&((i=s.data)==null?void 0:i.results.length)>0?o(l=>({...l,BUSINESS_CATEGORY_OPTION:[...s.data.results]})):console.log("error")})},t=async()=>{await je.getAll(0,1e3,"staticMasterType.code=NO_OF_EMPLOYEES").then(s=>{var i;Te(s)&&((i=s.data)==null?void 0:i.results.length)>0?o(l=>({...l,NO_EMPLOYEE_OPTION:[...s.data.results??[]]})):console.log("error")})},mn=async()=>{await je.getAll(0,1e3,"staticMasterType.code=BUSINESS_CONSTITUTION").then(s=>{Te(s)?o(i=>({...i,BUSINESS_CONSTITUTION_OPTION:[...s.data.results??[]]})):console.log("error")})},tn=async()=>{await je.getAll(0,1e3,"staticMasterType.code=RELATIONSHIP_REFERENCE").then(s=>{Te(s)?o(i=>({...i,NATURE_OF_RELATIONSHIP:[...s.data.results??[]]})):console.log("error")})},yn=async()=>{await je.getAll(0,1e3,"staticMasterType.code=OWNERSHIP_OF_BUSINESS_PREMISES").then(s=>{Te(s)?o(i=>({...i,OWNERSHIP_OF_BUSINESS_PREMISES_OPTION:[...s.data.results??[]]})):console.log("error")})},P=async()=>{await je.getAll(0,1e3,"staticMasterType.code=BUSINESS_LOCATION").then(s=>{Te(s)?o(i=>({...i,BUSINESS_LOCATION_OPTION:[...s.data.results??[]]})):console.log("error")})},on=async()=>{await je.getAll(0,1e3,"staticMasterType.code=TYPE_OF_STRUCTURE").then(s=>{Te(s)?o(i=>({...i,STRUCTURE_TYPE_OPTION:[...s.data.results??[]]})):console.log("error")})},dn=async()=>{await je.getAll(0,1e3,"staticMasterType.code=BUSINESS_SEASONALITY_TYPES").then(s=>{s.data.results&&s.data.results.length>0?o(i=>({...i,SEASONALITY_OPTION:[...s.data.results??[]]})):console.log("error")})},hn=async()=>{await je.getAll(0,1e3,"staticMasterType.code=OCCUPATION_TYPE").then(s=>{s.data.results&&s.data.results.length>0?o(i=>({...i,BUSINESS_TYPE_OPTION:[...s.data.results??[]]})):console.log("error")})},gn=async()=>{await je.getAll(0,1e3,"staticMasterType.code=RENT_MODE").then(s=>{s.data.results&&s.data.results.length>0?o(i=>({...i,RENT_MODE_OPTION:[...s.data.results??[]]})):console.log("error")})},G=async()=>{await je.getAll(0,1e3,"staticMasterType.code=PROPERTY_OWNED_BY").then(s=>{s.data.results&&s.data.results.length>0?o(i=>({...i,PROPERTY_OWNED_BY_OPTION:[...s.data.results??[]]})):console.log("error")})},be=async()=>{await je.getAll(0,1e3,"staticMasterType.code=TYPE_OF_TENANT").then(s=>{s.data.results&&s.data.results.length>0?o(i=>({...i,TENANT_TYPE_OPTION:[...s.data.results??[]]})):console.log("error")})},vn=()=>{var i,l,O,S;const s=(S=(O=(l=(i=R==null?void 0:R.current)==null?void 0:i.editor)==null?void 0:l.plugins)==null?void 0:O.wordcount)==null?void 0:S.body.getCharacterCount();return s<1?(r(U=>({...U,writeUpDetails:{...U.writeUpDetails,writeUpValidation:{...U.writeUpDetails.writeUpValidation,errorMessage:"Mandatory"}}})),!1):s>300?(r(U=>({...U,writeUpDetails:{...U.writeUpDetails,writeUpValidation:{...U.writeUpDetails.writeUpValidation,errorMessage:"Maximum 500 characters"}}})),!1):!0},u=s=>{var i,l;vn()&&(l=(i=x==null?void 0:x.writeUpDetails)==null?void 0:i.writeUpValidation)!=null&&l.errorMessage&&r(O=>({...O,writeUpDetails:{...O.writeUpDetails,writeUpValidation:{...O.writeUpDetails.writeUpValidation,errorMessage:""}}}))},_=()=>{r(s=>({...s,PDDetails:{...s.PDDetails,PDDetailsMode:z.EDIT}}))},K=()=>{var s;(s=Z==null?void 0:Z.current)==null||s.onCancel(),r(i=>({...i,PDDetails:{...i.PDDetails,PDDetailsMode:z.VIEW}})),Qn(!0)},le=()=>{r(s=>({...s,familyDetails:{...s.familyDetails,familyDetailsMode:z.EDIT}}))},fe=()=>{var s;(s=me==null?void 0:me.current)==null||s.onCancel(),r(i=>({...i,familyDetails:{...i.familyDetails,familyDetailsMode:z.VIEW}})),Zn(!0)},Oe=()=>{r(s=>({...s,otherIncome:{...s.otherIncome,otherIncomeMode:z.EDIT}}))},Pe=()=>{var s;(s=Ne==null?void 0:Ne.current)==null||s.onCancel(),r(i=>({...i,otherIncome:{...i.otherIncome,otherIncomeMode:z.VIEW}})),Vn(!0)},pe=()=>{r(s=>({...s,writeUpDetails:{...s.writeUpDetails,writeUpDetailsMode:z.EDIT}}))},Ae=()=>{r(s=>{var i;return{...s,writeUpDetails:{...s.writeUpDetails,writeUpDetailsMode:z.VIEW,writeUpValidation:{...(i=s.writeUpDetails)==null?void 0:i.writeUpValidation,errorMessage:""}}}}),es(!0)},Ve=()=>{r(s=>({...s,investmentDetails:{...s.investmentDetails,investmentDetailsMode:z.EDIT}}))},rn=()=>{r(s=>({...s,investmentDetails:{...s.investmentDetails,investmentDetailsMode:z.VIEW}}))},Jn=()=>{r(s=>({...s,repaymentHistory:{...s.repaymentHistory,repaymentHistoryMode:z.EDIT}}))},ls=()=>{var s,i;(s=ne==null?void 0:ne.current)==null||s.onCancel(),(i=ne==null?void 0:ne.current)==null||i.search(),r(l=>({...l,repaymentHistory:{...l.repaymentHistory,repaymentHistoryMode:z.VIEW}}))},cs=async()=>{var i;const s=(i=Z==null?void 0:Z.current)==null?void 0:i.save();if(s){const l=ri(s);try{const O=await Ge.updatePDDetails(l);Xe(O)&&(d(We.SAVED),j(He.PRIMARY),V(!p),Qn(!0))}catch(O){Y(Ce(O))}}},On=async()=>{var i;const s=(i=me==null?void 0:me.current)==null?void 0:i.save();if(s){const l=li(s);try{const O=await Ge.updateFamilyDetails(l);Xe(O)&&(d(We.SAVED),j(He.PRIMARY),V(!p),Zn(!0))}catch(O){Y(Ce(O))}}},qn=async()=>{var i;const s=(i=Ne==null?void 0:Ne.current)==null?void 0:i.save();if(s){const l=ci(s);try{const O=await Ge.updateOtherIncomeDetails(l);Xe(O)&&(d(We.SAVED),j(He.PRIMARY),V(!p),Vn(!0))}catch(O){Y(Ce(O))}}},Tn=async()=>{var s,i,l,O,S;if(vn()&&(i=(s=R.current)==null?void 0:s.editor)!=null&&i.getContent()){const U={uid:(l=x==null?void 0:x.writeUpDetails)==null?void 0:l.uid,workProfileDescription:(S=(O=R.current)==null?void 0:O.editor)==null?void 0:S.getContent()};try{const q=await Ge.updateWriteUpDetails(U);Xe(q)&&(d(We.SAVED),j(He.PRIMARY),V(!p),es(!0))}catch(q){Y(Ce(q))}}},as=async()=>{var i,l;const s=(i=Ee==null?void 0:Ee.current)==null?void 0:i.save();if(s){const O=ui(s);try{const S=await Ge.updateInvestmentDetails(O);Xe(S)&&(d(We.SAVED),j(He.PRIMARY),V(!p),(l=Ee==null?void 0:Ee.current)==null||l.editableTableRef(),r(U=>({...U,investmentDetails:{...U.investmentDetails,investmentDetailsMode:z.VIEW}})))}catch(S){Y(Ce(S))}}},En=async()=>{var i,l;const s=(i=ne==null?void 0:ne.current)==null?void 0:i.save();if(s){const O=mi(s,a,m);try{const S=await Ge.updateRepaymentHistory(O);Xe(S)&&(d(We.SAVED),j(He.PRIMARY),V(!p),(l=ne==null?void 0:ne.current)==null||l.search(),r(U=>({...U,repaymentHistory:{...U.repaymentHistory,repaymentHistoryMode:z.VIEW}})))}catch(S){Y(Ce(S))}}},us=async s=>{var O,S,U,q,ae,Se,Le,$e,we,ze,De;const i=(S=(O=re==null?void 0:re.current)==null?void 0:O[s])==null?void 0:S.save(),l=(q=(U=re==null?void 0:re.current)==null?void 0:U[s])==null?void 0:q.getSelectedEmploymentType();if(i){const ke=gt(i,a,(Se=(ae=D==null?void 0:D.stage)==null?void 0:ae.applicant)==null?void 0:Se.uid,(Le=D==null?void 0:D.stage)==null?void 0:Le.uid,l);if(i!=null&&i.uid)try{const Ye=await Ge.updateEmploymentDetail(ke);Xe(Ye)&&(d(We.SAVED),j(He.PRIMARY),V(!p),se(!0),(we=($e=re==null?void 0:re.current)==null?void 0:$e[s])==null||we.onSuccess())}catch(Ye){console.log(Ye),Y(Ce(Ye))}else{const{uid:Ye,...en}=ke;try{const nn=await Ge.createEmploymentDetail(en);ct(nn)&&(d(We.SAVED),j(He.PRIMARY),V(!p),se(!0),(De=(ze=re==null?void 0:re.current)==null?void 0:ze[s])==null||De.onSuccess())}catch(nn){console.log(nn),Y(Ce(nn))}}}},ms=async s=>{var O,S,U,q,ae,Se,Le,$e,we;const i=(S=(O=re==null?void 0:re.current)==null?void 0:O[s])==null?void 0:S.remove(),l=(q=(U=re==null?void 0:re.current)==null?void 0:U[s])==null?void 0:q.getSelectedEmploymentType();if(i){const ze=gt(i,a,(Se=(ae=D==null?void 0:D.stage)==null?void 0:ae.applicant)==null?void 0:Se.uid,(Le=D==null?void 0:D.stage)==null?void 0:Le.uid,l);if(i.uid)try{const De=await Ge.updateEmploymentDetail(ze);Xe(De)&&(d(We.REMOVED),j(He.PRIMARY),V(!p),se(!0,lt.REMOVE))}catch(De){console.log(De),Y(Ce(De))}else{const De=(we=($e=x.employmentDetails)==null?void 0:$e.employmentDetailsList)==null?void 0:we.filter((ke,Ye)=>Ye!==s);r(ke=>({...ke,employmentDetails:{...ke.employmentDetails,employmentDetailsList:[...De]}}))}}},ys=()=>{const s={...rs,key:Math.random().toString(36).substring(2)};r(i=>({...i,employmentDetails:{...i.employmentDetails,employmentDetailsList:[...i.employmentDetails.employmentDetailsList,s]}}))},ds=()=>{const s={...Nn,key:Math.random().toString(36).substring(2)};r(i=>({...i,referenceDetails:{...i.referenceDetails,referenceDetailsList:[...i.referenceDetails.referenceDetailsList,s]}}))},hs=async s=>{var l,O;const i=(O=(l=b==null?void 0:b.current)==null?void 0:l[s])==null?void 0:O.save();if(i){const S=As(i,a,m);if(i!=null&&i.uid)In([S]);else try{const U=await Ge.createReferenceDetail(S);ct(U)&&(d(We.SAVED),j(He.PRIMARY),V(!p),ge(!0))}catch(U){console.log(U),Y(Ce(U))}}},gs=async s=>{var l,O,S,U;const i=(O=(l=b==null?void 0:b.current)==null?void 0:l[s])==null?void 0:O.remove();if(i){const q=As(i,a,m);if(i.uid)In([q]);else{const ae=(U=(S=x.referenceDetails)==null?void 0:S.referenceDetailsList)==null?void 0:U.filter((Se,Le)=>Le!==s);r(Se=>({...Se,referenceDetails:{...Se.referenceDetails,referenceDetailsList:[...ae]}}))}}},In=async(s,i)=>{try{const l=await Ge.updateReferenceDetail(s);Xe(l)&&(d(We.SAVED),j(He.PRIMARY),V(!p),i||ge(!0))}catch(l){console.log(l),Y(Ce(l))}},Xn=()=>{L(),oe(),xe(),Re(),se(),ue(),Je(),qe(),t(),mn(),tn(),yn(),P(),on(),dn(),hn(),gn(),G(),be(),ge()},ps=()=>{r(s=>({...s,initiationInfo:{...s.initiationInfo,isInitiationInfoLoading:!0},PDDetails:{...s.PDDetails,isPDDetailsLoading:!0},familyDetails:{...s.familyDetails,isFamilyDetailsLoading:!0},otherIncome:{...s.otherIncome,isOtherIncomeLoading:!0},writeUpDetails:{...s.writeUpDetails,isWriteUpLoading:!0},investmentDetails:{...s.investmentDetails,isInvestmentDetailsLoading:!0},repaymentHistory:{...s.repaymentHistory,isRepaymentHistoryLoading:!0}}))},Qn=async s=>{s||r(l=>({...l,PDDetails:{...l.PDDetails,isPDDetailsLoading:!0}}));const i=await J();r(l=>({...l,PDDetails:{...l.PDDetails,isPDDetailsLoading:!1,PDData:yt({stage:{pd:i}}),PDDetailsMode:z.VIEW}}))},Zn=async s=>{s||r(l=>({...l,familyDetails:{...l.familyDetails,isFamilyDetailsLoading:!0}}));const i=await J();r(l=>({...l,familyDetails:{...l.familyDetails,isFamilyDetailsLoading:!1,familyData:dt({stage:{pd:i}}),familyDetailsMode:z.VIEW}}))},Vn=async s=>{s||r(l=>({...l,otherIncome:{...l.otherIncome,isOtherIncomeLoading:!0}}));const i=await J();r(l=>({...l,otherIncome:{...l.otherIncome,isOtherIncomeLoading:!1,otherIncomeData:ht({stage:{pd:i}}),otherIncomeMode:z.VIEW}}))},es=async s=>{s||r(l=>({...l,writeUpDetails:{...l.writeUpDetails,isWriteUpLoading:!0}}));const i=await J();r(l=>({...l,writeUpDetails:{...l.writeUpDetails,isWriteUpLoading:!1,uid:i==null?void 0:i.uid,writeUpData:i==null?void 0:i.workProfileDescription,writeUpDetailsMode:z.VIEW}}))},An=s=>s==null?void 0:s.some((l,O)=>(l==null?void 0:l.smEmploymentNature)===Me.EMPLOYMENT_TYPE_SELF_EMPLOYED_RENTAL_INCOME),Ns=()=>{var i,l;const s=re.current.map((O,S)=>{var U,q;return(q=(U=re==null?void 0:re.current)==null?void 0:U[S])==null?void 0:q.save()});if(s.length&&F){if(!An(s)){const S=(l=(i=x==null?void 0:x.referenceDetails)==null?void 0:i.referenceDetailsList)==null?void 0:l.map((q,ae)=>({...q,isActive:!1})),U=S==null?void 0:S.map((q,ae)=>{if(q!=null&&q.uid)return As(q,a,m)}).filter(Boolean);In(U)}B(!1),N(!1)}},xs=()=>{const s={...os,listKey:Math.random().toString(36).substring(2)};r(i=>({...i,personalDiscussionRecording:{...i.personalDiscussionRecording,pdRecordingData:[...i.personalDiscussionRecording.pdRecordingData,s]}}))},ns=s=>{r(i=>{const l=x.personalDiscussionRecording.pdRecordingData.filter((O,S)=>S!==s);return{...i,personalDiscussionRecording:{...i.personalDiscussionRecording,pdRecordingData:[...l]}}})},Sn=async()=>{var i;const s=(i=A.current)==null?void 0:i.save();if(s)try{const l=await Is.saveDocument(Cs.PD,"",s);Xe(l)&&(r(O=>({...O,personalDiscussionRecording:{...O.personalDiscussionRecording,isPDRecordingLoading:!0,pdRecordingSectionMode:z.VIEW}})),de(),j(He.PRIMARY),d(We.SAVED),V(!p))}catch(l){console.log(l),Y(Ce(l))}},fs=()=>{de(),r(s=>({...s,personalDiscussionRecording:{...s.personalDiscussionRecording,pdRecordingSectionMode:z.VIEW}}))},vs=async(s,i)=>{var l,O;if(s.uid){const S={...s};S.isActive=!1;const U=Ot([S],{loanUid:a,applicantUid:((O=(l=D==null?void 0:D.stage)==null?void 0:l.applicant)==null?void 0:O.uid)??null,stageUid:m});try{const q=await Is.saveDocument(Cs.PD,"",U);Xe(q)&&(r(ae=>({...ae,personalDiscussionRecording:{...ae.personalDiscussionRecording,isPDRecordingLoading:!0}})),de(),j(He.QUATERNARY),d(We.REMOVED),V(!p))}catch(q){console.log(q),Y(Ce(q))}}i!==void 0&&ns(i)},Es=()=>{const{isInitiationInfoLoading:s,initiationInfoMode:i,initiationInfoData:l}=x.initiationInfo;return s?n.jsx(Ke,{height:"19.375rem",width:"100%",borderRadius:"8px",animation:"wave"}):n.jsx(St,{className:"border border-primary-ptext-500 rounded-xl p-5 ",pageMode:i,data:l,loanId:a,dropdownOptions:M})},bs=()=>{const{isPDDetailsLoading:s,PDDetailsMode:i,PDData:l}=x.PDDetails;return n.jsx(ln,{pageMode:i,onCancel:K,onEdit:_,onSave:cs,children:s?n.jsx(Ke,{height:"19.375rem",width:"100%",borderRadius:"8px",animation:"wave"}):n.jsx(Rt,{ref:Z,pageMode:i,data:l})})},Os=()=>{const{isFamilyDetailsLoading:s,familyDetailsMode:i,familyData:l}=x.familyDetails;return n.jsx(ln,{pageMode:i,onCancel:fe,onEdit:le,onSave:On,children:s?n.jsx(Ke,{height:"19.375rem",width:"100%",borderRadius:"8px",animation:"wave"}):n.jsx(At,{ref:me,pageMode:i,data:l,dropdownOptions:M})})},c=()=>{const{isEmploymentDetailsLoading:s,employmentDetailsList:i}=x.employmentDetails;return n.jsx("div",{className:"flex flex-col gap-4 ",children:i==null?void 0:i.map((l,O)=>n.jsx(It,{ref:S=>{re.current[O]=S},isLoading:s,data:l,cardNumber:O+1,dropdownOption:M,documentCategory:{salaryDocumentCategory:Qe.DOCUMENT_CATEGORY_SALARIED_SALARY_PROOF,businessDocumentCategory:Qe.DOCUMENT_CATEGORY_BUSINESS_PROOF_PD,recordingDocumentCategory:Qe.DOCUMENT_CATEGORY_EMPLOYMENT_RETAILS_RECORDING},onSaveEmploymentDetails:()=>us(O),onRemoveEmploymentDetails:()=>ms(O),onCancelEmploymentDetails:()=>se(!0)},(l==null?void 0:l.uid)??(l==null?void 0:l.key)))})},h=()=>{const{isReferenceDetailsLoading:s,referenceDetailsList:i}=x.referenceDetails;return n.jsx("div",{className:"flex flex-col gap-4",children:i==null?void 0:i.map((l,O)=>n.jsx(Ys,{isSectionSaveWrapped:!0,ref:S=>{b.current[O]=S},isLoading:s,data:l,cardNumber:O+1,dropdownOption:M,onSaveReferenceDetails:()=>hs(O),onRemoveReferenceDetails:()=>gs(O),onCancelReferenceDetails:()=>ge(!0)},(l==null?void 0:l.uid)??(l==null?void 0:l.key)))})},v=()=>{const{otherIncomeData:s,isOtherIncomeLoading:i,otherIncomeMode:l}=x.otherIncome;return n.jsx(ln,{pageMode:l,onCancel:Pe,onEdit:Oe,onSave:qn,children:n.jsx(Oi,{ref:Ne,isLoading:i,pageMode:l,data:s})})},$=()=>{const{writeUpData:s,isWriteUpLoading:i,writeUpDetailsMode:l,writeUpValidation:O}=x.writeUpDetails;return n.jsx(ln,{pageMode:l,onCancel:Ae,onEdit:pe,onSave:Tn,children:i?n.jsx(Ke,{height:"19.375rem",width:"100%",borderRadius:"8px",animation:"wave"}):n.jsx(wt,{ref:R,initialValue:s,validation:O,onChange:u,disabled:l===z.VIEW})})},te=()=>{const{isInvestmentDetailsLoading:s,investmentDetailsMode:i,investmentData:l}=x.investmentDetails;return n.jsx(ln,{title:"label.investmentInfo.assets",pageMode:i,onCancel:rn,onEdit:Ve,onSave:as,children:n.jsx(bi,{ref:Ee,isLoading:s,pageMode:i,stageId:m,data:l})})},Q=()=>{var O,S;const{isRepaymentHistoryLoading:s,repaymentHistoryMode:i,repaymentHistoryData:l}=x.repaymentHistory;return n.jsx(ln,{pageMode:i,onCancel:ls,onEdit:Jn,onSave:En,children:n.jsx(Ci,{ref:ne,isLoading:s,pageMode:i,data:l,stageId:m,loanId:a,applicantDetails:(S=(O=D==null?void 0:D.stage)==null?void 0:O.pd)==null?void 0:S.applicant})})},ce=()=>{var s,i;return n.jsx(Ii,{ref:A,isLoading:x.personalDiscussionRecording.isPDRecordingLoading,pdRecordings:x.personalDiscussionRecording.pdRecordingData,sectionMode:x.personalDiscussionRecording.pdRecordingSectionMode,payloadInfo:{loanUid:a,applicantUid:((i=(s=D==null?void 0:D.stage)==null?void 0:s.applicant)==null?void 0:i.uid)??"",stageUid:m},onRemoveDocFromList:vs})};return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsxs(Gn,{children:[n.jsx(sn,{className:"mb-4",title:"heading.initiation.info",children:Es()}),n.jsx(sn,{title:"heading.personal.discussion.details",children:bs()})]}),n.jsx(Gn,{children:n.jsx(sn,{title:"heading.family.details",children:Os()})}),n.jsxs(Gn,{children:[n.jsx(sn,{title:"heading.employment.details",children:n.jsxs(n.Fragment,{children:[c(),n.jsx("div",{className:"p-5 w-full rounded-xl bg-slate-100 mt-5",children:n.jsx(un,{buttonType:an.ICON_TEXT_ROW,customLabel:"label.dde.add.another.employmentDetail",onClick:ys})})]})}),E?n.jsx(sn,{title:"heading.reference.details.self.employed.rental.income",alertText:"At least two reference detail is mandatory",children:n.jsxs(n.Fragment,{children:[h(),n.jsx("div",{className:"p-5 w-full rounded-xl bg-slate-100 mt-5",children:n.jsx(un,{buttonType:an.ICON_TEXT_ROW,customLabel:"label.dde.add.another.referenceDetail",onClick:ds})})]})}):null]}),n.jsxs(Gn,{children:[n.jsx(sn,{className:"mb-4",title:"heading.other.income",children:v()}),n.jsx(sn,{title:"heading.writeup.on.work.profile.business.model",children:$()})]}),n.jsxs(Gn,{children:[n.jsx(sn,{className:"mb-4",title:"heading.investmentDetails",children:te()}),n.jsx(sn,{className:"mb-4",title:"heading.repayment.history",children:Q()}),n.jsx(sn,{title:"heading.pd.recordings",children:n.jsxs(y.Fragment,{children:[n.jsx(ln,{title:"heading.pd.recordingDoc",pageMode:x.personalDiscussionRecording.pdRecordingSectionMode,onSave:Sn,onCancel:fs,onEdit:()=>r(s=>({...s,personalDiscussionRecording:{...s.personalDiscussionRecording,pdRecordingSectionMode:z.CREATE}})),children:ce()}),n.jsx("div",{className:"p-5 w-full rounded-xl bg-slate-100 mt-5",children:n.jsx(un,{buttonType:an.ICON_TEXT_ROW,customLabel:"Add Another Recording",onClick:xs})})]})})]})]}),n.jsx(Ht,{position:f,ref:ee,toastText:W,variant:H}),n.jsx(Nt,{onHide:()=>{X(!1),Y("")},visible:ie,errorMessage:k})]})};export{Bo as default};
//# sourceMappingURL=PagePD-d24c58c0.js.map
