import{w as y,r as n,ad as w,ae as T,af as N,y as P,j as a,ai as b,T as f,aj as I,ak as R,aa as S,J as E,aq as B,an as O,A,ar as C}from"./index-e8217573.js";import{B as _}from"./ButtonBox-9e46519a.js";import{I as L}from"./InputBox-b9e88f52.js";import"./kebab-menu-8835ad2e.js";import"./withAuth-6de36ebf.js";function k(l){var x;const[i,m]=n.useState({emailId:"",channel:"EMAIL",actionType:"RESET_PASSWORD",otp:""});n.useState({username:"waseem.akram@viamagus.com",password:"password"});const[u,g]=n.useState([]),[,d]=n.useState(void 0),s=n.useRef(new w({validators:{...T()},...N(),autoForceUpdate:{forceUpdate:()=>d(e=>!e)}}));n.useEffect(()=>{const e=P.parse(l.location.search);console.log(e),e!=null&&e.email&&(e==null?void 0:e.email)!==void 0&&m({...i,emailId:e==null?void 0:e.email})},[]);const j=e=>{const{name:t,value:r}=e.target;m(o=>({...o,[t]:r}))},v=e=>{var t,r;(r=s==null?void 0:s.current)==null||r.showMessageFor((t=e==null?void 0:e.target)==null?void 0:t.name)},p=e=>{var t,r;e.preventDefault(),(t=s==null?void 0:s.current)!=null&&t.allValid()?A.resetPasswordByOTP(i).then(o=>{o.status===201&&l.navigateNoAuth(`${C}?email=${c}`)}).catch(o=>{var h;o.response.status===400&&g((h=o.response.data)==null?void 0:h.message)}):((r=s==null?void 0:s.current)==null||r.showMessages(),d(o=>!o))};console.log(u);const{emailId:c}=i;return a.jsxs("div",{className:"flex justify-center relative h-screen",children:[a.jsx("div",{className:"absolute left-6 top-6",children:a.jsx("img",{src:b,alt:"Sahayya Logo"})}),a.jsxs("div",{className:"w-102 z-10 px-9 mt-56 mb-35",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx(f,{label:"heading.auth.resetPassword",className:"text-primary-primaryTextColor text-h1 font-Roboto font-bold"})}),a.jsx("div",{className:"my-6 flex justify-center text-center",children:a.jsx(f,{label:"text.auth.resetPassword",className:"text-primary-primaryTextColor text-xs font-Roboto"})}),a.jsx("div",{children:a.jsx(L,{label:"label.auth.login.emailID",name:"emailId",placeholder:"placeholder.auth.login.emailID",value:c,onChange:j,onBlur:v,validation:(x=s==null?void 0:s.current)==null?void 0:x.message("Email",c,"mandatory")})}),a.jsx("div",{className:" w-full mt-7",children:a.jsx(I,{label:"component.button.resetPassword",variant:R.PRIMARY,onClick:p})}),u.map((e,t)=>a.jsx(S,{errorMessage:e},t)),a.jsx("div",{className:" w-full mt-12 flex items-center justify-center",children:a.jsx(_,{buttonType:E.ICON_TEXT_BACK_TO_LOGIN,onClick:()=>l.navigateNoAuth(`${B}`)})})]}),a.jsx("div",{className:"absolute -bottom-6 ",children:a.jsx("img",{src:O,alt:"search-icon",className:"max-w-fit w-full h-61"})})]})}const F=y(k);export{F as default};
//# sourceMappingURL=PagePasswordReset-14323286.js.map
