import{r as n,q as v,j as e,T as N,K as O,b3 as P}from"./index-e8217573.js";import{L as I}from"./Locations-59f2a583.js";import{R as L}from"./ReadOnlyTable-86accb69.js";import{S as R}from"./SimpleTab-27fa8860.js";import{u as c}from"./CustomHooks-0ce50620.js";import{C as m}from"./column.esm-938bad7d.js";import{A as p}from"./AddressService-27926b64.js";import{P as S}from"./PointOfInterestService-2753b8c5.js";import"./esm-70d64670.js";import"./No_data-1720c54e.js";import"./SimpleDropDown-061a3470.js";import"./virtualscroller.esm-9939945c.js";import"./withAuth-6de36ebf.js";import"./datatable.esm-f474a654.js";import"./paginator.esm-11c2c115.js";import"./FileUploadMenuBox-f47dc693.js";import"./kebab-menu-8835ad2e.js";import"./MenuBox-defc36b0.js";const W=()=>{const[u,i]=n.useState([]),[x,l]=n.useState(!0),f=n.useRef(null),o=v();n.useEffect(()=>{b()},[]);const b=()=>{h()},h=()=>{p.getAll(0,10,`&loan.uid=${o.loanUid}`).then(r=>{console.log("res",r),r.data.totalRecords>10?p.getAll(0,r.data.totalRecords,`&loan.uid=${o.loanUid}`).then(s=>{console.log("res",s),i(d(s.data.results)),l(!1)}).catch(s=>{console.log("error",s),l(!1)}):(i(d(r.data.results)),l(!1))}).catch(r=>{console.log("error",r),l(!1)})},d=a=>a.map(t=>{var r,s;return{id:t.id,imageUrl:t.imageUrl,fullName:(r=t.applicant)==null?void 0:r.fullName,applicantType:(s=t.applicant)==null?void 0:s.applicantType,addressType:t.primaryAddressType,address:t.address,lat:t.latitude??0,lng:t.longitude??0}}),T=(a,t)=>{switch(a.key){case"Tab1":return j();case"Tab2":return A();default:return e.jsx("div",{})}},j=()=>x?e.jsx("div",{children:e.jsx(O,{})}):e.jsx("div",{className:"bg-white p-5 m-4 ",children:e.jsx(I,{addressList:u})}),g=a=>e.jsx("div",{children:a.name}),y=a=>e.jsx("div",{children:P(a.distance)}),A=()=>e.jsx("div",{className:"bg-white p-5 m-4 ",children:e.jsxs(L,{standardDataFormatPromise:S.getAll,dataKey:"id",ref:f,showAll:!0,routeParams:o.loanUid,children:[e.jsx(m,{className:"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6",header:c("label.pointOfInterest.particulars"),body:g}),e.jsx(m,{className:"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6 ",header:c("label.pointOfInterest.distance"),body:y})]})});return e.jsxs("div",{className:"flex flex-col gap-5 ",children:[e.jsx("div",{className:"text-base ",children:e.jsx(N,{label:"label.loanDetail.pointOfInterest",className:"text-base font-bold"})}),e.jsx(R,{tabs:[{name:"label.pointOfInterest.Map",key:"Tab1"},{name:"label.pointOfInterest.keyDistance",key:"Tab2"}],renderContent:(a,t)=>T(a)})]})};export{W as default};
//# sourceMappingURL=PagePointOfInterest-a7b801d2.js.map
