{"version":3,"file":"PageReport-59a19834.js","sources":["../../src/views/transaction/PageRCUReport/Sections/AddedDocuments/AddedDocuments.tsx","../../src/views/transaction/PageRCUReport/Sections/ApplicantDetails/ApplicantDetails.tsx","../../src/views/transaction/PageRCUReport/Sections/DocumentVerification/DocumentVerification.tsx","../../src/views/transaction/PageRCUReport/Sections/LoanSummary/LoanSummary.tsx","../../src/views/transaction/PageRCUReport/Sections/RcuInitiationInfo/InitiationInfo.tsx","../../src/views/transaction/PageRCUReport/Sections/UploadReport/UploadReport.tsx","../../src/views/transaction/PageRCUReport/PageReport/PageReport.tsx"],"sourcesContent":["import AclGuard from \"components/AclGuard\";\nimport DocumentUploader, {\n  DOC_UPLOADER_MODE,\n  IDocumentInfo,\n  IDocumentUploaderRef,\n  IUploadedDocumentSection,\n} from \"components/DocumentUploader/DocumentUploader\";\nimport ErrorDialog from \"components/ErrorDialog/ErrorDialog\";\nimport SaveComponent from \"components/Save/SaveComponent\";\nimport SkeletonCustom from \"components/Skeleton/Skeleton\";\nimport ToastCustom from \"components/Toast\";\nimport React, { forwardRef, useEffect, useImperativeHandle, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport LegalService from \"services/transaction/DDE/LegalService\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport {\n  getStandardValidator,\n  messageReplace,\n  parseStandardAPIErrorMessage,\n} from \"utils/CommonUtil\";\nimport {\n  BUTTON_TYPE,\n  DOCUMENT_CATEGORY,\n  INPUT_STYLE_TYPE,\n  PAGE_MODE,\n  QC_STATUS_LIST,\n  STATIC_MASTER_TYPE_TOAST_TEXT,\n  TOAST_STYLE_TYPE,\n} from \"utils/Constant\";\nimport { prepareAttributes, prepareDocSections } from \"views/transaction/PageDDE/Login/Helper\";\nimport { IRcuDropdownList } from \"../../PageReport/PageReport\";\nimport ButtonBox from \"components/ButtonBox/ButtonBox\";\nimport SimpleDropDown from \"components/SimpleDropDown/SimpleDropDown\";\nimport InputTextArea from \"components/InputTextArea/InputTextArea\";\nimport Text from \"components/Text/Text\";\nimport Section from \"components/Section/Section\";\nimport RcuService from \"services/transaction/DDE/RcuService\";\n\ninterface IProps {\n  isLoading: boolean;\n  dropDownOptions?: IRcuDropdownList;\n  data: IRcuSingleAddedDocumentsPageObj[];\n  payloadInfo: {\n    applicantUid: string;\n    loanUid: string;\n    stageUid: string;\n  };\n  getDetailsCallback: () => Promise<void>;\n}\n\nexport interface IRcuSingleAddedDocumentsPageObj {\n  key: string;\n  uid: string;\n  sectionMode: string;\n  savedDocuments: any[]; // for single document\n  status: string;\n  remark: string;\n  disable?: boolean;\n  isActive: boolean;\n}\n\ntype OmittedIRcuSingleAddedDocumentsPageObj = Omit<\n  Omit<IRcuSingleAddedDocumentsPageObj, \"disable\">,\n  \"isActive\"\n>;\n\nexport const initialAddedDocumentPageObj: IRcuSingleAddedDocumentsPageObj = {\n  key: Math.random().toString(36).slice(2),\n  sectionMode: PAGE_MODE.VIEW,\n  uid: \"\",\n  savedDocuments: [], // for single document\n  status: \"\",\n  remark: \"\",\n  disable: false,\n  isActive: true,\n};\n\nconst AddedDocuments: React.FC<IProps> = forwardRef((props, ref) => {\n  const { data, isLoading, getDetailsCallback, dropDownOptions, payloadInfo } = props;\n  const params: { loanUid?: string; stageUid?: string } = useParams();\n\n  /*\n    -------------------------------------------------------\n      State\n    -------------------------------------------------------\n    */\n  const [pageObj, setPageObj] = useState<IRcuSingleAddedDocumentsPageObj[]>([]);\n  const [sectionMode, setSectionMode] = useState(PAGE_MODE.VIEW);\n  const [toastMessage, setToastMessage] = useState(\"\");\n  const [triggerToast, setTriggerToast] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [showDialogAPIError, setShowDialogAPIError] = useState(false);\n\n  // ref\n  const toastMessageRef = useRef<any>(null);\n  const documentUploaderRef = useRef<IDocumentUploaderRef[] | null[]>([]);\n\n  // --------------------------- validator initialization ---------------------- //\n  const [, forceUpdate] = useState<boolean>(false);\n\n  const simpleValidator = useRef<any[]>([]);\n\n  useImperativeHandle(ref, () => ({\n    save: onSave,\n    onCancel: onCancel,\n  }));\n\n  // --------------------------- global variables ---------------------- //\n\n  /*\n     -------------------------------------------------------\n       useEffect\n     -------------------------------------------------------\n   */\n\n  useEffect(() => {\n    if (data?.length === 0 || pageObj.length === 0) {\n      setPageObj(() => {\n        const updatedData = [{ ...initialAddedDocumentPageObj }];\n        return updatedData;\n      });\n\n      resetAllSectionValidations(1);\n    } else {\n      const pageObjData = data.map((data) => ({\n        ...data,\n        key: Math.random().toString(36).slice(2),\n      }));\n      setPageObj([...pageObjData]);\n\n      resetAllSectionValidations(data?.length);\n    }\n  }, [data]);\n\n  useEffect(() => {\n    if (toastMessageRef?.current && toastMessage !== \"\") {\n      toastMessageRef?.current?.showFunction();\n      setToastMessage(\"\");\n    }\n  }, [toastMessage, triggerToast]);\n\n  useEffect(() => {\n    if (errorMessage) {\n      setShowDialogAPIError(true);\n    }\n  }, [errorMessage]);\n\n  /*\n    -------------------------------------------------------\n      Service Calls\n    -------------------------------------------------------\n  */\n\n  /*\n    -------------------------------------------------------\n      Handlers\n    -------------------------------------------------------\n  */\n\n  /* \n    --------------------------------------------------------\n    Validators:\n    --------------------------------------------------------\n  */\n\n  const validate = (e: any, index: number) => {\n    simpleValidator?.current?.[index]?.showMessageFor(e?.target?.name);\n  };\n\n  const validateForm = (index: number) => {\n    let isValid = false;\n    isValid = simpleValidator?.current?.[index]?.allValid() ?? false;\n    if (isValid) {\n      return isValid;\n    } else {\n      forceUpdate((prev) => !prev);\n      simpleValidator?.current?.[index]?.showMessages();\n      forceUpdate((prev) => !prev);\n      return false;\n    }\n  };\n\n  /*\n    -------------------------------------------------------\n      Button Click Handlers\n    -------------------------------------------------------\n  */\n\n  const onSave = async (index: number, options: { isActive: boolean }) => {\n    const unSavedDocuments: IDocumentInfo | undefined =\n      documentUploaderRef.current?.[index]?.getUploadedData();\n\n    const validateRemarksAndStatusResult = !!validateForm(index);\n    const validateUploadersResult = !!unSavedDocuments;\n    if (!validateRemarksAndStatusResult || !validateUploadersResult) return;\n\n    const payload = enrichForSave(unSavedDocuments, { idx: index, isActive: options?.isActive });\n\n    try {\n      const res = await RcuService.uploadAdditionalDocument(payload);\n\n      setToastMessage(STATIC_MASTER_TYPE_TOAST_TEXT.SAVED);\n      setTriggerToast(!triggerToast);\n      setSectionMode(PAGE_MODE.VIEW);\n      updateSectionPageMode({ index, sectionMode: PAGE_MODE.VIEW });\n      getDetailsCallback?.();\n    } catch (error) {\n      setErrorMessage(parseStandardAPIErrorMessage(error));\n    }\n  };\n\n  const onEdit = (index: number) => {\n    updateSectionPageMode({ index, sectionMode: PAGE_MODE.EDIT });\n  };\n\n  const onCancel = (index: number) => {\n    updateSectionPageMode({ index, sectionMode: PAGE_MODE.VIEW });\n    // if  data not available in db\n    resetSectionValidations(index);\n    documentUploaderRef?.current?.[index]?.resetDocUpload();\n    documentUploaderRef?.current?.[index]?.resetValidator();\n    if (!pageObj[index]?.uid) {\n      setPageObj((prevPageObj) => {\n        const updatedPageObj = [...prevPageObj];\n        updatedPageObj[index] = { ...initialAddedDocumentPageObj };\n        return updatedPageObj;\n      });\n    } else {\n      getDetailsCallback?.();\n    }\n  };\n\n  const onAddMore = () => {\n    simpleValidator.current[pageObj?.length] = new SimpleReactValidator({\n      validators: { ...getStandardValidator() },\n      ...messageReplace(),\n      autoForceUpdate: { forceUpdate: () => forceUpdate((prev) => !prev) },\n    });\n    setPageObj((prevData) => [...prevData, { ...initialAddedDocumentPageObj }]);\n  };\n\n  const handleInputChange = (\n    e: any,\n    options: { index: number; field: keyof OmittedIRcuSingleAddedDocumentsPageObj }\n  ) => {\n    setPageObj((prevPageObj) => {\n      const updatedPageObj: IRcuSingleAddedDocumentsPageObj[] = [...prevPageObj];\n      updatedPageObj[options.index][options.field] = e.target.value;\n      return updatedPageObj;\n    });\n  };\n\n  const onRemoveSection = (removeIndex: number) => {\n    // check if section is saved  if not update the state or call the api\n    // if not saved then remove directly\n\n    setPageObj((prevPageObj) => {\n      let updatedPageObj = [...prevPageObj];\n\n      // also add the below condition for api delete\n      if (updatedPageObj[removeIndex].sectionMode === PAGE_MODE.EDIT) {\n        updatedPageObj?.forEach((section, loopIndex) => {\n          if (loopIndex !== removeIndex) {\n            updatedPageObj[loopIndex].disable = false;\n          }\n        });\n      }\n      if (!updatedPageObj[removeIndex]?.uid) {\n        updatedPageObj = prevPageObj?.filter((section, idx) => idx !== removeIndex);\n      }\n      return updatedPageObj;\n    });\n  };\n\n  /*\n    -------------------------------------------------------\n      Helper Functions\n    -------------------------------------------------------\n  */\n\n  const getMenuModel = (index: number) => {\n    return [\n      {\n        className: `${pageObj.length === 1 ? \"cursor-not-allowed\" : \"\"}`,\n        label: \"Remove\",\n        command: () => {\n          onRemoveSection(index);\n          onSave(index, { isActive: false });\n        },\n        disabled: pageObj.length === 1,\n      },\n    ];\n  };\n\n  const updateSectionPageMode = (options: { index: number; sectionMode: string }) => {\n    setPageObj((prevPageObj) => {\n      const updatedPageObj = [...prevPageObj];\n      updatedPageObj[options.index].sectionMode = options.sectionMode;\n      updatedPageObj?.forEach((section, loopIndex) => {\n        if (loopIndex !== options.index) {\n          updatedPageObj[loopIndex].disable = options.sectionMode === PAGE_MODE.VIEW ? false : true;\n        }\n      });\n      return updatedPageObj;\n    });\n  };\n\n  const resetAllSectionValidations = (totalSections: number) => {\n    for (let i = 0; i < totalSections; i++) {\n      simpleValidator.current[i] = new SimpleReactValidator({\n        validators: { ...getStandardValidator() },\n        ...messageReplace(),\n        autoForceUpdate: { forceUpdate: () => forceUpdate((prev) => !prev) },\n      });\n      simpleValidator?.current?.[i]?.hideMessages();\n    }\n  };\n\n  const resetSectionValidations = (index: number) => {\n    simpleValidator.current[index] = new SimpleReactValidator({\n      validators: { ...getStandardValidator() },\n      ...messageReplace(),\n      autoForceUpdate: { forceUpdate: () => forceUpdate((prev) => !prev) },\n    });\n    simpleValidator?.current?.[index]?.hideMessages();\n  };\n\n  const enrichForSave = (\n    unSavedDocument: IDocumentInfo,\n    options: { idx: number; isActive: boolean }\n  ) => {\n    const currentPageObj: IRcuSingleAddedDocumentsPageObj[] = [...pageObj];\n    const addedDocStatus = currentPageObj[options.idx].status;\n    const addedDocRemarks = currentPageObj[options.idx].remark;\n    // const isActive = currentPageObj[idx].isActive;\n\n    const prepareDocSections = (docSectionsList: IUploadedDocumentSection[]) => {\n      const sections = docSectionsList.map((docSection: IUploadedDocumentSection) => ({\n        uid: docSection.uid ?? null,\n        section: docSection.code,\n        fileName: docSection.fileName,\n        fileType: docSection.contentType,\n        thumbUrl: docSection.thumbUrl,\n        url: docSection.url,\n        isActive: docSection.isActive,\n      }));\n      return sections;\n    };\n\n    const payloadData = [\n      {\n        loan: { uid: payloadInfo.loanUid },\n        stage: { uid: payloadInfo.stageUid },\n        applicant: { uid: payloadInfo.applicantUid },\n        loanDocument: {\n          loan: { uid: payloadInfo.loanUid },\n          applicant: { uid: payloadInfo.applicantUid },\n          uid: unSavedDocument.uid ?? null,\n          docType: {\n            uid: unSavedDocument.documentUid ? unSavedDocument.documentUid : \"\",\n          },\n          loanSectionKey: \"\",\n          docCategory: unSavedDocument.documentCategory ? unSavedDocument.documentCategory : \"\",\n          stage: {\n            uid: payloadInfo.stageUid,\n          },\n          documentSections: prepareDocSections(unSavedDocument.documentSectionUrls),\n          isActive: options?.isActive,\n        },\n        smDocVerificationAction: addedDocStatus,\n        remarks: addedDocRemarks,\n      },\n    ];\n    return payloadData;\n  };\n\n  /*\n    -------------------------------------------------------\n      Sectional Rendering\n    -------------------------------------------------------\n  */\n\n  /*\n    -------------------------------------------------------\n    Main Rendering\n    -------------------------------------------------------\n  */\n\n  return (\n    <div className=\" p-5 border border-primary-ptext-500  rounded-xl grid gap-5\">\n      <div className=\"mb-4\">\n        <Text\n          className=\"text-primary-sideBarBgColor text-base font-bold \"\n          label={\"label.rcu.addedDocuments\"}\n        />\n      </div>\n      {isLoading ? (\n        <SkeletonCustom height=\"19.375rem\" width=\"100%\" borderRadius=\"8px\" animation=\"wave\" />\n      ) : (\n        <React.Fragment>\n          {pageObj?.map((document: IRcuSingleAddedDocumentsPageObj, index: number) => (\n            <div key={document.uid ? document.uid : document.key}>\n              <SaveComponent\n                title=\"\"\n                pageMode={document.sectionMode}\n                onSave={() => onSave(index, { isActive: true })}\n                onCancel={() => onCancel(index)}\n                onEdit={() => onEdit(index)}\n                kebabModel={getMenuModel(index)}\n                disabled={document?.disable}\n              >\n                <AclGuard override={{ read: document.sectionMode === PAGE_MODE.VIEW }}>\n                  <div className=\"\">\n                    <Text\n                      className=\"text-primary-ptext-1000 text-xs \"\n                      label={\"label.rcu.documentType\"}\n                      // label={`${document.uid}`}\n                    />\n                    <DocumentUploader\n                      ref={(refValue) => {\n                        documentUploaderRef.current[index] = refValue;\n                      }}\n                      savedDocument={\n                        document?.savedDocuments?.[0] ? document?.savedDocuments?.[0] : {}\n                      }\n                      mandatoryDocUpload\n                      mode={\n                        document.sectionMode === PAGE_MODE.VIEW\n                          ? DOC_UPLOADER_MODE.VIEW\n                          : DOC_UPLOADER_MODE.EDIT\n                      }\n                      queryParamForDocList={\n                        DOCUMENT_CATEGORY.DOCUMENT_CATEGORY_RCU_ADDITIONAL_DOCUMENTS\n                      }\n                    />\n                  </div>\n\n                  <div className=\"grid grid-cols-4 gap-4 rounded-b-xl \">\n                    <div className=\"\">\n                      <SimpleDropDown\n                        label=\"label.rcu.addedDocs.status*\"\n                        name={`status${index}`}\n                        value={document?.status}\n                        options={QC_STATUS_LIST}\n                        optionLabel=\"label\"\n                        optionValue=\"value\"\n                        onBlur={(e) => validate(e, index)}\n                        onChange={(e: any) =>\n                          handleInputChange(e, { index: index, field: \"status\" })\n                        }\n                        validation={simpleValidator?.current?.[index]?.message(\n                          `status${index}`,\n                          document.status,\n                          \"mandatory\"\n                        )}\n                        disabled={document.sectionMode === PAGE_MODE.VIEW}\n                      />\n                    </div>\n\n                    <div className=\"col-span-2 h-35\">\n                      <InputTextArea\n                        name={`remark${document?.remark}`}\n                        className=\"!h-full\"\n                        label=\"label.crifDetails.enquiryByLenders.thead.remark\"\n                        variant={INPUT_STYLE_TYPE.SECONDARY}\n                        maxCount={500}\n                        onChange={(e: any) => handleInputChange(e, { index, field: \"remark\" })}\n                        value={document.remark}\n                        autoResize\n                        disabled={document.sectionMode === PAGE_MODE.VIEW}\n                      />\n                    </div>\n                  </div>\n                </AclGuard>\n              </SaveComponent>\n            </div>\n          ))}\n\n          <div className=\"p-5 w-full rounded-xl bg-primary-ptext-200 mt-5\">\n            <ButtonBox\n              buttonType={BUTTON_TYPE.ICON_TEXT_ROW}\n              customLabel={\"label.legal.addDocument\"}\n              onClick={onAddMore}\n            />\n          </div>\n        </React.Fragment>\n      )}\n\n      <ToastCustom\n        position={\"bottom-right\"}\n        ref={toastMessageRef}\n        toastText={toastMessage}\n        variant={TOAST_STYLE_TYPE.PRIMARY}\n      />\n\n      <ErrorDialog\n        onHide={() => {\n          setShowDialogAPIError(false);\n          setErrorMessage(\"\");\n        }}\n        visible={showDialogAPIError}\n        errorMessage={errorMessage}\n      />\n    </div>\n  );\n});\n\nexport default AddedDocuments;\n","import AclGuard from \"components/AclGuard\";\nimport Address, { IAddressData, IAddressRef } from \"components/Address\";\nimport { Column } from \"components/EditableTableV2\";\nimport ErrorDialog from \"components/ErrorDialog\";\nimport InputAddon from \"components/InputAddon\";\nimport InputBox from \"components/InputBox\";\nimport ReadOnlyTable from \"components/ReadOnlyTable\";\nimport SkeletonCustom from \"components/Skeleton\";\nimport Text from \"components/Text\";\nimport ToastCustom from \"components/Toast\";\nimport { useTextConverter } from \"hook/CustomHooks\";\nimport React, { useEffect, useMemo, useRef, useState } from \"react\";\nimport { INPUT_STYLE_TYPE, PAGE_MODE, TOAST_STYLE_TYPE, VARIANTS } from \"utils/Constant\";\n\ninterface IProps {\n  isLoading: boolean;\n  data: IRcuApplicantDetailsPageObj;\n}\n\nexport interface IRcuCoApplicantDetailsRowData {\n  firstName: string;\n  middleName: string;\n  lastName: string;\n}\n\nexport type TAddressType =\n  | \"PERMANENT\"\n  | \"RESIDENTIAL\"\n  | \"EMPLOYEMENT_ADDRESS\"\n  | \"COLLATERAL_PROPERTY\";\n\nconst ADDRESS_TYPE: Record<TAddressType, TAddressType> = {\n  PERMANENT: \"PERMANENT\",\n  RESIDENTIAL: \"RESIDENTIAL\",\n  EMPLOYEMENT_ADDRESS: \"EMPLOYEMENT_ADDRESS\",\n  COLLATERAL_PROPERTY: \"COLLATERAL_PROPERTY\",\n};\nexport interface IRcuApplicantDetailsPageObj {\n  firstName: string;\n  middleName: string;\n  lastName: string;\n  mobileNumber: string;\n  coApplicantDetailsTable: IRcuCoApplicantDetailsRowData[];\n  showAddressOfType: TAddressType | \"\";\n  addressData: IAddressData;\n  nameOfOrganization: string;\n}\n\nexport const initialAddressData: IAddressData = {\n  address: \"\",\n  pincode: { pinCode: \"\", uid: \"\" },\n  city: { name: \"\", uid: \"\" },\n  state: \"\",\n  latitude: \"\",\n  longitude: \"\",\n  uid: \"\",\n  smAddressType: \"\",\n  primaryAddressType: \"\",\n  propertyType: \"\",\n};\n\nexport const initialRcuApplicantDetailsPageObj: IRcuApplicantDetailsPageObj = {\n  firstName: \"\",\n  middleName: \"\",\n  lastName: \"\",\n  mobileNumber: \"\",\n  coApplicantDetailsTable: [],\n  showAddressOfType: ADDRESS_TYPE.COLLATERAL_PROPERTY,\n  addressData: { ...initialAddressData },\n  nameOfOrganization: \"\",\n};\n\nconst ApplicantDetails: React.FC<IProps> = (props) => {\n  const { data, isLoading } = props;\n\n  const textConverter = useTextConverter();\n  /*\n    -------------------------------------------------------\n      State\n    -------------------------------------------------------\n    */\n  const [pageObj, setPageObj] = useState<IRcuApplicantDetailsPageObj>({\n    ...initialRcuApplicantDetailsPageObj,\n  });\n  const [pageMode, setPageMode] = useState(PAGE_MODE.VIEW);\n  const [toastMessage, setToastMessage] = useState(\"\");\n  const [triggerToast, setTriggerToast] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [showDialogAPIError, setShowDialogAPIError] = useState(false);\n\n  // ref\n  const coApplicantTableRef = useRef<any>(null);\n  const toastMessageRef = useRef<any>(null);\n  const addressRef = useRef<IAddressRef | null>(null);\n\n  // --------------------------- global variables ---------------------- //\n\n  /*\n     -------------------------------------------------------\n       useEffect\n     -------------------------------------------------------\n   */\n\n  useEffect(() => {\n    if (data && Object.keys(data).length > 0) {\n      setPageObj(() => ({\n        ...data,\n      }));\n    }\n  }, [data]);\n\n  useEffect(() => {\n    if (toastMessageRef?.current && toastMessage !== \"\") {\n      toastMessageRef?.current?.showFunction();\n      setToastMessage(\"\");\n    }\n  }, [toastMessage, triggerToast]);\n\n  useEffect(() => {\n    if (errorMessage) {\n      setShowDialogAPIError(true);\n    }\n  }, [errorMessage]);\n\n  /*\n    -------------------------------------------------------\n      Sectional Rendering\n    -------------------------------------------------------\n  */\n  const renderAddress = () => {\n    switch (pageObj.showAddressOfType) {\n      case ADDRESS_TYPE.PERMANENT:\n        return (\n          <div className=\"col-span-4\">\n            <div className=\"mb-3\">\n              <Text\n                className=\"text-primary-sideBarBgColor text-base font-medium\"\n                label={\"subHeading.dde.permanentAddress\"}\n              />\n            </div>\n            <Address\n              pageMode={pageMode}\n              ref={addressRef}\n              data={memoAddressData}\n              variant={VARIANTS.SECONDARY}\n              hideMarkUsingMap\n            />\n          </div>\n        );\n      case ADDRESS_TYPE.RESIDENTIAL:\n        return (\n          <div className=\"col-span-4\">\n            <div className=\"mb-3\">\n              <Text\n                className=\"text-primary-sideBarBgColor text-base font-medium\"\n                label={\"label.heading.residential.address\"}\n              />\n            </div>\n            <Address\n              pageMode={pageMode}\n              ref={addressRef}\n              data={memoAddressData}\n              variant={VARIANTS.SECONDARY}\n              hideMarkUsingMap\n            />\n          </div>\n        );\n      case ADDRESS_TYPE.EMPLOYEMENT_ADDRESS:\n        return (\n          <>\n            <div>\n              <div className=\"mb-3\">\n                <Text\n                  className=\"text-primary-sideBarBgColor text-base font-medium\"\n                  label={\"label.rcu.employmentDetails\"}\n                />\n              </div>\n              <div>\n                <InputBox\n                  label=\"label.rcu.nameOfOrganisation/Establishment\"\n                  name=\"nameOfOrganization\"\n                  variant={INPUT_STYLE_TYPE.SECONDARY}\n                  value={nameOfOrganization ?? \"\"}\n                />\n              </div>\n            </div>\n            <div className=\"col-span-4\">\n              <div className=\"mb-3\">\n                <Text\n                  className=\"text-primary-sideBarBgColor text-base font-medium\"\n                  label={\"label.rcu.employmentAddress\"}\n                />\n              </div>\n              <Address\n                pageMode={pageMode}\n                ref={addressRef}\n                data={memoAddressData}\n                variant={VARIANTS.SECONDARY}\n                hideMarkUsingMap\n              />\n            </div>\n          </>\n        );\n      case ADDRESS_TYPE.COLLATERAL_PROPERTY:\n        return (\n          <div className=\"col-span-4\">\n            <div className=\"mb-3\">\n              <Text\n                className=\"text-primary-sideBarBgColor text-base font-medium\"\n                label={\"label.rcu.collateralPropertyAddress\"}\n              />\n            </div>\n            <Address\n              pageMode={pageMode}\n              ref={addressRef}\n              data={memoAddressData}\n              variant={VARIANTS.SECONDARY}\n              hideMarkUsingMap\n            />\n          </div>\n        );\n\n      default:\n        return null;\n    }\n  };\n\n  const renderFirstName = (rowData: IRcuCoApplicantDetailsRowData) => {\n    return <span>{rowData?.firstName}</span>;\n  };\n\n  const renderMiddleName = (rowData: IRcuCoApplicantDetailsRowData) => {\n    return <span>{rowData?.middleName}</span>;\n  };\n\n  const renderLastName = (rowData: IRcuCoApplicantDetailsRowData) => {\n    return <span>{rowData?.lastName}</span>;\n  };\n\n  const memoAddressData = useMemo(() => {\n    const { address, pincode, city, state, latitude, longitude } = pageObj.addressData;\n    return {\n      address,\n      pincode,\n      city,\n      state,\n      latitude,\n      longitude,\n    };\n  }, [pageObj?.addressData]);\n\n  /*\n    -------------------------------------------------------\n    Main Rendering\n    -------------------------------------------------------\n  */\n\n  const { firstName, middleName, lastName, mobileNumber, nameOfOrganization } = pageObj;\n\n  return (\n    <div className=\" grid gap-5\">\n      <div className=\"flex flex-col gap-3 border border-primary-ptext-500  rounded-xl p-5 \">\n        {isLoading ? (\n          <SkeletonCustom height=\"19.375rem\" width=\"100%\" borderRadius=\"8px\" animation=\"wave\" />\n        ) : (\n          <AclGuard override={{ read: pageMode === PAGE_MODE.VIEW }}>\n            <div className=\"grid grid-cols-4 gap-5  \">\n              <div>\n                <InputBox\n                  label=\"input.basicInformation.firstNameNotMandatory\"\n                  name=\"loanNo\"\n                  variant={INPUT_STYLE_TYPE.SECONDARY}\n                  value={firstName ?? \"\"}\n                />\n              </div>\n              <div>\n                <InputBox\n                  label=\"input.basicInformation.middleName\"\n                  name=\"salesManager\"\n                  variant={INPUT_STYLE_TYPE.SECONDARY}\n                  value={middleName ?? \"\"}\n                />\n              </div>\n              <div>\n                <InputBox\n                  label=\"input.basicInformation.lastNameNotMandatory\"\n                  name=\"creditManager\"\n                  variant={INPUT_STYLE_TYPE.SECONDARY}\n                  value={lastName ?? \"\"}\n                />\n              </div>\n              <div>\n                <InputAddon\n                  disabled={pageMode === PAGE_MODE.VIEW}\n                  label={\"input.basicInformation.mobile\"}\n                  name=\"mobileNumber\"\n                  value={mobileNumber}\n                  variant={INPUT_STYLE_TYPE.SECONDARY}\n                />\n              </div>\n\n              <div className=\"col-span-4\">\n                <div className=\"col-span-4 mb-1.5\">\n                  <Text\n                    label={\"label.rcu.coApplicantsDetails\"}\n                    className=\" text-primary-sideBarBgColor  text-xs font-medium\"\n                  />\n                </div>\n                <ReadOnlyTable\n                  dataKey=\"id\"\n                  ref={coApplicantTableRef}\n                  value={data?.coApplicantDetailsTable}\n                  className={` ${\n                    data?.coApplicantDetailsTable?.length\n                      ? \"  \"\n                      : \" rcu-stage-document-verification\"\n                  }`}\n                >\n                  <Column\n                    header={textConverter(\"label.rcu.firstName\")}\n                    className=\"text-primary-ptext-1000 text-left text-xs h-12 pl-6\"\n                    body={renderFirstName}\n                  />\n                  <Column\n                    header={textConverter(\"label.rcu.middleName\")}\n                    className=\"text-primary-ptext-1000 text-left text-xs h-12 pl-6\"\n                    body={renderMiddleName}\n                  />\n                  <Column\n                    header={textConverter(\"label.rcu.lastName\")}\n                    className=\"text-primary-ptext-1000 text-left text-xs h-12 pl-6\"\n                    body={renderLastName}\n                  />\n                </ReadOnlyTable>\n              </div>\n            </div>\n          </AclGuard>\n        )}\n      </div>\n\n      <div className=\"flex flex-col gap-3 border border-primary-ptext-500  rounded-xl p-5 \">\n        {isLoading ? (\n          <SkeletonCustom height=\"19.375rem\" width=\"100%\" borderRadius=\"8px\" animation=\"wave\" />\n        ) : (\n          <AclGuard override={{ read: pageMode === PAGE_MODE.VIEW }}>\n            <div className=\"grid grid-cols-4 gap-5  \">{renderAddress()}</div>\n          </AclGuard>\n        )}\n      </div>\n\n      <ToastCustom\n        position={\"bottom-right\"}\n        ref={toastMessageRef}\n        toastText={toastMessage}\n        variant={TOAST_STYLE_TYPE.PRIMARY}\n      />\n\n      <ErrorDialog\n        onHide={() => {\n          setShowDialogAPIError(false);\n          setErrorMessage(\"\");\n        }}\n        visible={showDialogAPIError}\n        errorMessage={errorMessage}\n      />\n    </div>\n  );\n};\n\nexport default ApplicantDetails;\n","import AclGuard from \"components/AclGuard\";\nimport EditableTableV2, { Column } from \"components/EditableTableV2/EditableTableV2\";\nimport ErrorDialog from \"components/ErrorDialog/ErrorDialog\";\nimport IconButton, { BUTTON_TYPES } from \"components/IconButton/IconButton\";\nimport InputBox from \"components/InputBox/InputBox\";\nimport MediaGallery, {\n  IMediaInfo,\n  initialMediaGallerySectionInfo,\n} from \"components/MediaGallery/MediaGallery\";\nimport SaveComponent from \"components/Save/SaveComponent\";\nimport SimpleDropDown from \"components/SimpleDropDown/SimpleDropDown\";\nimport SkeletonCustom from \"components/Skeleton/Skeleton\";\nimport Text from \"components/Text/Text\";\nimport ToastCustom from \"components/Toast\";\nimport i18n from \"i18n\";\nimport { DropdownChangeParams } from \"primereact/dropdown\";\nimport React, { BaseSyntheticEvent, useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport RcuService from \"services/transaction/DDE/RcuService\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport {\n  getStandardValidator,\n  messageReplace,\n  parseStandardAPIErrorMessage,\n} from \"utils/CommonUtil\";\nimport {\n  INPUT_STYLE_TYPE,\n  PAGE_MODE,\n  STATIC_MASTER_TYPE_TOAST_TEXT,\n  TOAST_STYLE_TYPE,\n  VERIFICATION_STATUS,\n} from \"utils/Constant\";\n\ninterface IProps {\n  isLoading: boolean;\n  payloadInfo: { rcuUid: string; loanUid: string; stageUid: string };\n}\n\nconst DocumentVerification: React.FC<IProps> = (props: IProps) => {\n  const { isLoading, payloadInfo } = props;\n  const params: { loanUid?: string; stageUid?: string } = useParams();\n\n  /*\n    -------------------------------------------------------\n      State\n    -------------------------------------------------------\n    */\n\n  const [pageMode, setPageMode] = useState(PAGE_MODE.VIEW);\n  const [showMediaGallery, setShowMediaGallery] = useState<boolean>(false);\n  const [currentItemToViewInGallery, setCurrentItemToViewInGallery] = useState<IMediaInfo>({\n    ...initialMediaGallerySectionInfo,\n  });\n\n  const [toastMessage, setToastMessage] = useState(\"\");\n  const [triggerToast, setTriggerToast] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [showDialogAPIError, setShowDialogAPIError] = useState(false);\n\n  // ref\n  const toastMessageRef = useRef<any>(null);\n  const documentVerificationTableRef = useRef<any>(null);\n\n  // --------------------------- validator initialization ---------------------- //\n  const [, forceUpdate] = useState<boolean>(false);\n\n  const simpleValidator = useRef(\n    new SimpleReactValidator({\n      validators: { ...getStandardValidator() },\n      ...messageReplace(),\n      autoForceUpdate: { forceUpdate: () => forceUpdate((prev) => !prev) },\n    })\n  );\n\n  /*\n     -------------------------------------------------------\n       useEffect\n     -------------------------------------------------------\n   */\n\n  useEffect(() => {\n    if (toastMessageRef?.current && toastMessage !== \"\") {\n      toastMessageRef?.current?.showFunction();\n      setToastMessage(\"\");\n    }\n  }, [toastMessage, triggerToast]);\n\n  useEffect(() => {\n    if (errorMessage) {\n      setShowDialogAPIError(true);\n    }\n  }, [errorMessage]);\n\n  /*\n    -------------------------------------------------------\n      Service Calls\n    -------------------------------------------------------\n  */\n\n  /*\n    -------------------------------------------------------\n      Handlers\n    -------------------------------------------------------\n  */\n\n  const handleDocumentVerificationChange = (e: DropdownChangeParams, rowData: any) => {\n    const rowDataObj = { ...rowData };\n    rowDataObj.smDocVerificationAction = e.target.value;\n    documentVerificationTableRef.current?.reportDataChange(rowDataObj);\n  };\n\n  const handleChange = (e: BaseSyntheticEvent, rowData: any) => {\n    const rowDataObj = { ...rowData };\n    rowDataObj.remarks = e.target.value;\n    documentVerificationTableRef.current?.reportDataChange(rowDataObj);\n  };\n  /* \n    --------------------------------------------------------\n    Validators:\n    --------------------------------------------------------\n  */\n\n  const validate = (e: any) => {\n    simpleValidator?.current?.showMessageFor(e?.target?.name);\n  };\n\n  const validateForm = () => {\n    let isValid = false;\n    isValid = simpleValidator?.current?.allValid() ?? false;\n    if (isValid) {\n      return isValid;\n    } else {\n      forceUpdate((prev) => !prev);\n      simpleValidator?.current?.showMessages();\n      forceUpdate((prev) => !prev);\n      return false;\n    }\n  };\n\n  /*\n    -------------------------------------------------------\n      Button Click Handlers\n    -------------------------------------------------------\n  */\n\n  const onSave = async () => {\n    if (!validateForm()) {\n      return;\n    }\n\n    const structuredTableDataForPayload = [\n      ...(documentVerificationTableRef.current?.getUpdatedRecords() ?? []),\n    ];\n\n    const payload = enrichForSave(structuredTableDataForPayload);\n\n    try {\n      const res = await RcuService.updateDocumentVerfication(payload);\n\n      setToastMessage(STATIC_MASTER_TYPE_TOAST_TEXT.SAVED);\n      setTriggerToast(!triggerToast);\n      documentVerificationTableRef?.current?.clearAll();\n      documentVerificationTableRef?.current?.search();\n      setPageMode(PAGE_MODE.VIEW);\n    } catch (error) {\n      console.log(error);\n      setErrorMessage(parseStandardAPIErrorMessage(error));\n    }\n  };\n\n  const onEdit = () => setPageMode(PAGE_MODE.EDIT);\n\n  const onCancel = () => {\n    documentVerificationTableRef?.current?.clearAll();\n    documentVerificationTableRef?.current?.search();\n    resetValidator();\n    setPageMode(PAGE_MODE.VIEW);\n  };\n\n  const onViewFile = (e: BaseSyntheticEvent, rowData: any) => {\n    let preparedInfoInList: IMediaInfo = { ...initialMediaGallerySectionInfo };\n    if (rowData.kycDocument) {\n      preparedInfoInList = {\n        uid: rowData?.kycDocument?.uid,\n        placeOfUpload: `Initiation - ${rowData?.stage?.stageName ?? \"\"}`,\n        name: `${rowData?.kycDocument?.kyc?.applicant?.firstName ?? \"-\"} ${\n          rowData?.kycDocument?.kyc?.applicant?.middleName ?? \"-\"\n        } ${rowData?.kycDocument?.kyc?.applicant?.lastName ?? \"-\"}`,\n        fileName: rowData?.kycDocument?.fileName ?? \"-\",\n        fileType: rowData?.kycDocument?.fileType ?? \"-\",\n        download: \"\",\n        category: \"KYC\",\n        type: rowData?.kycDocument?.kyc?.docType?.name ?? \"-\",\n        sectionName: rowData?.kycDocument?.smDocSectionType ?? \"-\",\n        url: rowData?.kycDocument?.url ?? \"\",\n      };\n    } else if (rowData?.loanDocumentSection) {\n      preparedInfoInList = {\n        uid: rowData?.loanDocumentSection?.uid,\n        placeOfUpload: `Initiation - ${rowData?.stage.stageName}`,\n        name: `${rowData?.stage?.applicant?.firstName ?? \"-\"} ${\n          rowData?.stage?.applicant?.middleName ?? \"-\"\n        } ${rowData?.stage?.applicant?.lastName ?? \"-\"}`,\n        fileName: rowData?.loanDocumentSection?.fileName ?? \"-\",\n        fileType: rowData?.loanDocumentSection?.fileType ?? \"-\",\n        download: \"\",\n        category: rowData?.loanDocumentSection?.loanDocument?.docCategory ?? \"-\",\n        type: rowData?.loanDocumentSection?.loanDocument?.docType?.name ?? \"-\",\n        sectionName: rowData?.loanDocumentSection?.section ?? \"-\",\n        url: rowData?.loanDocumentSection?.url ?? \"\",\n      };\n    }\n\n    setCurrentItemToViewInGallery(preparedInfoInList);\n    setShowMediaGallery(true);\n  };\n\n  /*\n    -------------------------------------------------------\n      Helper Functions\n    -------------------------------------------------------\n  */\n\n  const enrichForSave = (tableRowDataForPayload: any) => {\n    const prepareStageDocuments = () => {\n      const stagedDocs = tableRowDataForPayload.map((rowData: any) => ({\n        uid: rowData.uid ?? null,\n        smDocVerificationAction: rowData.smDocVerificationAction,\n        remarks: rowData.remarks,\n      }));\n\n      return stagedDocs.length > 0 ? stagedDocs : [];\n    };\n\n    const payloadData = {\n      uid: payloadInfo.rcuUid,\n      stageDocuments: prepareStageDocuments(),\n    };\n\n    return payloadData;\n  };\n\n  const resetValidator = () => {\n    simpleValidator.current = new SimpleReactValidator({\n      validators: { ...getStandardValidator() },\n      ...messageReplace(),\n      autoForceUpdate: { forceUpdate: () => forceUpdate((prev) => !prev) },\n    });\n    simpleValidator?.current?.hideMessages();\n  };\n\n  /*\n    -------------------------------------------------------\n      Sectional Rendering\n    -------------------------------------------------------\n  */\n\n  const renderFileName = (rowData: any) => {\n    if (rowData.kycDocument || rowData.loanDocumentSection) {\n      const data = { ...(rowData.kycDocument || rowData.loanDocumentSection) };\n      return <Text className=\" text-xs text-secondary-labelColor \" label={data?.fileName} />;\n    }\n  };\n\n  const renderDocumentType = (rowData: any) => {\n    if (rowData.kycDocument) {\n      return (\n        <Text\n          className=\" text-xs text-secondary-labelColor \"\n          label={rowData?.kycDocument?.kyc?.docType?.name}\n        />\n      );\n    } else if (rowData.loanDocumentSection) {\n      return (\n        <Text\n          className=\" text-xs text-secondary-labelColor \"\n          label={rowData?.loanDocumentSection?.loanDocument?.docType?.name}\n        />\n      );\n    }\n  };\n\n  const renderCustomer = (rowData: any) => {\n    if (rowData?.kycDocument) {\n      const { firstName, lastName, applicantType } = rowData.kycDocument.kyc.applicant;\n      return (\n        <Text\n          className=\" text-xs text-secondary-labelColor \"\n          label={`${firstName ?? \"\"} ${lastName ?? \"\"}-${applicantType ?? \"\"}`}\n        />\n      );\n    } else if (rowData.loanDocumentSection) {\n      const { firstName, lastName, applicantType } =\n        rowData.loanDocumentSection.loanDocument.applicant;\n      return (\n        <Text\n          className=\" text-xs text-secondary-labelColor \"\n          label={`${firstName ?? \"\"} ${lastName ?? \"\"}-${applicantType ?? \"\"}`}\n        />\n      );\n    }\n  };\n\n  const renderViewFile = (rowData: any) => {\n    return (\n      <div className=\"w-6 h-6 flex justify-center\">\n        <IconButton\n          buttonType={BUTTON_TYPES.VIEW}\n          onClick={(e: BaseSyntheticEvent) => {\n            onViewFile(e, rowData);\n          }}\n          disabled={pageMode === PAGE_MODE.VIEW}\n        />\n      </div>\n    );\n  };\n\n  const renderVerificationStatus = (rowData: any) => {\n    return (\n      <div className=\"flex items-center\">\n        <SimpleDropDown\n          name={`smDocVerificationAction${rowData.uid}`}\n          value={rowData.smDocVerificationAction}\n          onChange={(e: DropdownChangeParams) => {\n            handleDocumentVerificationChange(e, rowData);\n          }}\n          validation={simpleValidator?.current?.message(\n            `smDocVerificationAction${rowData.uid}`,\n            rowData?.smDocVerificationAction,\n            \"mandatory\"\n          )}\n          options={VERIFICATION_STATUS}\n          onBlur={validate}\n          optionLabel=\"label\"\n          optionValue=\"value\"\n          disabled={pageMode === PAGE_MODE.VIEW}\n        />\n      </div>\n    );\n  };\n\n  const renderDocumentVerificationRemark = (rowData: any) => {\n    return (\n      <div className=\"flex items-center\">\n        <InputBox\n          name={`remarks${rowData?.uid}`}\n          variant={INPUT_STYLE_TYPE.SECONDARY}\n          onChange={(e) => handleChange(e, rowData)}\n          onBlur={validate}\n          value={rowData.remarks ?? \"\"}\n          validation={simpleValidator?.current?.message(\n            `remarks${rowData?.uid}`,\n            rowData?.remarks,\n            \"mandatory\"\n          )}\n        />\n      </div>\n    );\n  };\n\n  /*\n    -------------------------------------------------------\n    Main Rendering\n    -------------------------------------------------------\n  */\n\n  return (\n    <div>\n      <SaveComponent\n        title=\"label.rcu.documentVerification\"\n        pageMode={pageMode}\n        onSave={onSave}\n        onCancel={onCancel}\n        onEdit={onEdit}\n        disabled={isLoading}\n      >\n        {isLoading ? (\n          <SkeletonCustom height=\"19.375rem\" width=\"100%\" borderRadius=\"8px\" animation=\"wave\" />\n        ) : (\n          <AclGuard override={{ read: pageMode === PAGE_MODE.VIEW }}>\n            <div className=\"mt-3 flex flex-col gap-5 w-full\">\n              {params?.stageUid && payloadInfo.rcuUid && (\n                <EditableTableV2\n                  ref={documentVerificationTableRef}\n                  uniqueKey=\"uid\"\n                  mode={\"UPDATE\"}\n                  standardDataFormatPromise={RcuService.getDocumentVerification}\n                  search={`&stage.uid=${\n                    params.stageUid\n                  }&isSharedAtInitiation=${true}&isActive=${true}`}\n                  className=\" share-payment-details-table\"\n                  dataKey=\"uid\"\n                >\n                  <Column\n                    className=\"text-primary-ptext-1000 text-left text-xs h-12 pl-6\"\n                    header={i18n.t(\"label.existing.doc.file.name\")}\n                    body={renderFileName}\n                  />\n                  <Column\n                    className=\"text-primary-ptext-1000 text-left text-xs h-12 pl-6\"\n                    header={i18n.t(\"label.rcu.documentType\")}\n                    body={renderDocumentType}\n                  />\n                  <Column\n                    className=\"text-primary-ptext-1000 text-left text-xs h-12 pl-6\"\n                    header={i18n.t(\"label.rcu.customer\")}\n                    body={renderCustomer}\n                  />\n                  <Column\n                    className=\"text-primary-ptext-1000 text-left text-xs h-12 pl-6\"\n                    header={i18n.t(\"label.rcu.viewFile\")}\n                    body={renderViewFile}\n                  />\n\n                  <Column\n                    className=\"text-primary-ptext-1000 text-left text-xs h-12 pl-6\"\n                    header={i18n.t(\"label.rcu.verificationStatus\")}\n                    body={renderVerificationStatus}\n                    style={{ maxWidth: \"120px\" }}\n                  />\n                  <Column\n                    className=\"text-primary-ptext-1000 text-left text-xs h-12 px-6\"\n                    header={i18n.t(\"label.crifDetails.enquiryByLenders.thead.remark\")}\n                    body={renderDocumentVerificationRemark}\n                    style={{ maxWidth: \"150px\" }}\n                  />\n                </EditableTableV2>\n              )}\n            </div>\n          </AclGuard>\n        )}\n      </SaveComponent>\n\n      <MediaGallery\n        visible={showMediaGallery}\n        onToggleVisibility={() => setShowMediaGallery((prev) => !prev)}\n        list={[]}\n        currentSection={currentItemToViewInGallery}\n      />\n\n      <ToastCustom\n        position={\"bottom-right\"}\n        ref={toastMessageRef}\n        toastText={toastMessage}\n        variant={TOAST_STYLE_TYPE.PRIMARY}\n      />\n\n      <ErrorDialog\n        onHide={() => {\n          setShowDialogAPIError(false);\n          setErrorMessage(\"\");\n        }}\n        visible={showDialogAPIError}\n        errorMessage={errorMessage}\n      />\n    </div>\n  );\n};\n\nexport default DocumentVerification;\n","import AclGuard from \"components/AclGuard\";\nimport ErrorDialog from \"components/ErrorDialog/ErrorDialog\";\nimport InputBox from \"components/InputBox\";\nimport RadioButton from \"components/RadioButton/RadioButton\";\nimport RichTextEditor from \"components/RichTextEditor/RichTextEditor\";\nimport SaveComponent from \"components/Save/SaveComponent\";\nimport SkeletonCustom from \"components/Skeleton/Skeleton\";\nimport SystemDatePicker from \"components/SystemDatePicker/SystemDatePicker\";\nimport Text from \"components/Text/Text\";\nimport ToastCustom from \"components/Toast\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport RcuService from \"services/transaction/DDE/RcuService\";\nimport SimpleReactValidator from \"simple-react-validator\";\nimport {\n  getStandardValidator,\n  messageReplace,\n  parseStandardAPIErrorMessage,\n} from \"utils/CommonUtil\";\nimport {\n  CHECKBOX_STYLE_TYPE,\n  INPUT_STYLE_TYPE,\n  PAGE_MODE,\n  STATIC_MASTER_TYPE_TOAST_TEXT,\n  TOAST_STYLE_TYPE,\n} from \"utils/Constant\";\n\ninterface IProps {\n  isLoading: boolean;\n  data: IRcuLoanSummaryPageObj;\n  getDataOnCancel: () => void;\n}\n\nexport interface IRcuLoanSummaryPageObj {\n  rcuUid: string;\n  loanNo: string;\n  branch: string;\n  agency: string;\n  salesManager: string;\n  creditManager: string;\n  dateOfReport: string | Date;\n  dedupeCheck: string;\n  commentsErrorMessage: string;\n  comments: string;\n}\n\nexport const initialRcuLoanSummaryPageObj: IRcuLoanSummaryPageObj = {\n  rcuUid: \"\",\n  loanNo: \"\",\n  branch: \"\",\n  agency: \"\",\n  salesManager: \"\",\n  creditManager: \"\",\n  dateOfReport: \"\",\n  dedupeCheck: \"\",\n  commentsErrorMessage: \"\",\n  comments: \"\",\n};\n\ntype TIsTrue = \"YES\" | \"NO\";\n\nconst IS_TRUE: Record<TIsTrue, TIsTrue> = {\n  YES: \"YES\",\n  NO: \"NO\",\n};\n\ninterface IEditorRef {\n  editor: {\n    getContent: () => void;\n    plugins: {\n      wordcount: {\n        body: {\n          getCharacterCount: () => any;\n        };\n      };\n    };\n  };\n}\n\nconst LoanSummary: React.FC<IProps> = (props: IProps) => {\n  const { data, isLoading, getDataOnCancel } = props;\n  /*\n    -------------------------------------------------------\n      State\n    -------------------------------------------------------\n  */\n  const [pageObj, setPageObj] = useState<IRcuLoanSummaryPageObj>({\n    ...initialRcuLoanSummaryPageObj,\n  });\n  const [pageMode, setPageMode] = useState(PAGE_MODE.VIEW);\n  const [toastMessage, setToastMessage] = useState(\"\");\n  const [triggerToast, setTriggerToast] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [showDialogAPIError, setShowDialogAPIError] = useState(false);\n\n  // ref\n  const toastMessageRef = useRef<any>(null);\n  const editorRef = useRef<IEditorRef>(null);\n\n  // --------------------------- validator initialization ---------------------- //\n  const [, forceUpdate] = useState<boolean>(false);\n\n  const simpleValidator = useRef(\n    new SimpleReactValidator({\n      validators: { ...getStandardValidator() },\n      ...messageReplace(),\n      autoForceUpdate: { forceUpdate: () => forceUpdate((prev) => !prev) },\n    })\n  );\n\n  // --------------------------- global variables ---------------------- //\n\n  /*\n     -------------------------------------------------------\n       useEffect\n     -------------------------------------------------------\n   */\n\n  useEffect(() => {\n    if (data.loanNo) {\n      setPageObj(() => ({\n        ...data,\n      }));\n    }\n  }, [data]);\n\n  useEffect(() => {\n    if (toastMessageRef?.current && toastMessage !== \"\") {\n      toastMessageRef?.current?.showFunction();\n      setToastMessage(\"\");\n    }\n  }, [toastMessage, triggerToast]);\n\n  useEffect(() => {\n    if (errorMessage) {\n      setShowDialogAPIError(true);\n    }\n  }, [errorMessage]);\n\n  useEffect(() => {\n    if (pageObj.dedupeCheck === IS_TRUE.NO) {\n      validateEditor();\n    }\n  }, [pageObj.dedupeCheck]);\n\n  /*\n    -------------------------------------------------------\n      Service Calls\n    -------------------------------------------------------\n  */\n\n  /*\n    -------------------------------------------------------\n      Handlers\n    -------------------------------------------------------\n  */\n  const handleChange = (e: any) => {\n    setPageObj((prevObj) => ({\n      ...prevObj,\n      [e.target.name]: e.target.value,\n    }));\n  };\n\n  const handleCheckboxChange = (e: any) => {\n    setPageObj((prevObj) => ({\n      ...prevObj,\n      dedupeCheck: e.value,\n    }));\n  };\n\n  const handleEditorValidation = (e: any) => {\n    if (validateEditor()) {\n      if (pageObj?.commentsErrorMessage) {\n        setPageObj((prevPageObj) => ({ ...prevPageObj, errorMessage: \"\" }));\n      }\n    }\n  };\n  /* \n    --------------------------------------------------------\n    Validators:\n    --------------------------------------------------------\n  */\n\n  const validate = (e: any) => {\n    simpleValidator?.current?.showMessageFor(e?.target?.name);\n  };\n\n  const validateForm = () => {\n    let isValid = false;\n    isValid = simpleValidator?.current?.allValid() ?? false;\n    if (isValid) {\n      return isValid;\n    } else {\n      forceUpdate((prev) => !prev);\n      simpleValidator?.current?.showMessages();\n      forceUpdate((prev) => !prev);\n      return false;\n    }\n  };\n\n  const validateEditor = () => {\n    if (pageObj.dedupeCheck === IS_TRUE.NO) {\n      setPageObj((prevState) => {\n        return {\n          ...prevState,\n          commentsErrorMessage: \"\",\n        };\n      });\n      return true;\n    }\n\n    const wordcount = editorRef?.current?.editor?.plugins?.wordcount?.body.getCharacterCount();\n\n    if (wordcount < 1 || !wordcount) {\n      setPageObj((prevState) => {\n        return {\n          ...prevState,\n          commentsErrorMessage: \"Minimum 1 characters\",\n        };\n      });\n      return false;\n    }\n\n    if (wordcount > 300) {\n      setPageObj((prevState) => {\n        return {\n          ...prevState,\n          commentsErrorMessage: \"Maximum 300 characters\",\n        };\n      });\n      return false;\n    }\n\n    setPageObj((prevState) => {\n      return {\n        ...prevState,\n        commentsErrorMessage: \"\",\n      };\n    });\n    return true;\n  };\n\n  /*\n    -------------------------------------------------------\n      Button Click Handlers\n    -------------------------------------------------------\n  */\n\n  const onSave = async () => {\n    if (validateForm() && validateEditor()) {\n      const payload = enrichForSave();\n      try {\n        const res = await RcuService.updateLoanSummary(payload);\n        setToastMessage(STATIC_MASTER_TYPE_TOAST_TEXT.SAVED);\n        setTriggerToast(!triggerToast);\n        setPageMode(PAGE_MODE.VIEW);\n        // getDetailsCallback?.();\n      } catch (error) {\n        setErrorMessage(parseStandardAPIErrorMessage(error));\n      }\n    }\n  };\n\n  const onEdit = () => setPageMode(PAGE_MODE.EDIT);\n\n  const onCancel = () => {\n    getDataOnCancel?.();\n    resetValidator();\n    setPageMode(PAGE_MODE.VIEW);\n  };\n\n  /*\n    -------------------------------------------------------\n      Helper Functions\n    -------------------------------------------------------\n  */\n\n  const enrichForSave = () => {\n    return {\n      uid: pageObj.rcuUid,\n      dateOfReportingSampling: pageObj.dateOfReport,\n      isDedupeCheckDone: pageObj.dedupeCheck === IS_TRUE.YES ? true : false,\n      dedupeDescription: editorRef.current?.editor?.getContent(),\n    };\n  };\n\n  const resetValidator = () => {\n    simpleValidator.current = new SimpleReactValidator({\n      validators: { ...getStandardValidator() },\n      ...messageReplace(),\n      autoForceUpdate: { forceUpdate: () => forceUpdate((prev) => !prev) },\n    });\n    simpleValidator?.current?.hideMessages();\n  };\n\n  /*\n    -------------------------------------------------------\n      Sectional Rendering\n    -------------------------------------------------------\n  */\n\n  /*\n    -------------------------------------------------------\n    Main Rendering\n    -------------------------------------------------------\n  */\n\n  const { loanNo, salesManager, creditManager, dedupeCheck, branch, agency, dateOfReport } =\n    pageObj;\n  return (\n    <div>\n      <SaveComponent\n        title=\"\"\n        pageMode={pageMode}\n        onSave={onSave}\n        onCancel={onCancel}\n        onEdit={onEdit}\n        disabled={isLoading}\n      >\n        {isLoading ? (\n          <SkeletonCustom height=\"19.375rem\" width=\"100%\" borderRadius=\"8px\" animation=\"wave\" />\n        ) : (\n          <AclGuard override={{ read: pageMode === PAGE_MODE.VIEW }}>\n            <React.Fragment>\n              <div className=\"grid grid-cols-4 gap-3  \">\n                <div>\n                  <InputBox\n                    label=\"label.rcu.loanNoMandatory\"\n                    name=\"loanNo\"\n                    variant={INPUT_STYLE_TYPE.SECONDARY}\n                    value={loanNo ?? \"\"}\n                    disabled\n                  />\n                </div>\n                <div>\n                  <InputBox\n                    label=\"label.rcu.salesManager\"\n                    name=\"salesManager\"\n                    variant={INPUT_STYLE_TYPE.SECONDARY}\n                    value={salesManager ?? \"\"}\n                    disabled\n                  />\n                </div>\n                <div>\n                  <InputBox\n                    label=\"label.rcu.creditManager\"\n                    name=\"creditManager\"\n                    variant={INPUT_STYLE_TYPE.SECONDARY}\n                    value={creditManager ?? \"\"}\n                    disabled\n                  />\n                </div>\n                <div>\n                  <InputBox\n                    label=\"input.sourceDetails.branch\"\n                    name=\"branch\"\n                    variant={INPUT_STYLE_TYPE.SECONDARY}\n                    value={branch ?? \"\"}\n                    disabled\n                  />\n                </div>\n                <div>\n                  <InputBox\n                    label=\"label.rcu.agencyMandatory\"\n                    name=\"agency\"\n                    variant={INPUT_STYLE_TYPE.SECONDARY}\n                    value={agency ?? \"\"}\n                    disabled\n                  />\n                </div>\n                <div>\n                  <SystemDatePicker\n                    label=\"label.rcu.dateOfReporting\"\n                    name=\"dateOfReport\"\n                    value={dateOfReport}\n                    variant={INPUT_STYLE_TYPE.SECONDARY}\n                    onChange={handleChange}\n                    onBlur={validate}\n                    validation={simpleValidator?.current?.message(\n                      `dateOfReport`,\n                      dateOfReport,\n                      \"mandatory\"\n                    )}\n                    placeholder=\"DD-MMM-YYYY \"\n                  />\n                </div>\n              </div>\n\n              <div className=\"flex flex-col\">\n                <div className=\"mb-5\">\n                  <Text\n                    className=\"text-xs text-primary-ptext-1000\"\n                    label={\"label.rcu.dedupeCheck\"}\n                  />\n                  <div className=\"flex gap-5\">\n                    <div className=\"mr-5 flex\">\n                      <RadioButton\n                        hideLabel\n                        hideErrorRow\n                        variant={CHECKBOX_STYLE_TYPE.PRIMARY}\n                        value={IS_TRUE.YES}\n                        checked={dedupeCheck === IS_TRUE.YES}\n                        onChange={handleCheckboxChange}\n                        disabled={pageMode === PAGE_MODE.VIEW}\n                      />\n                      <Text className=\"ml-1.5 text-xs \" label=\"label.dde.yes\" />\n                    </div>\n                    <div className=\"flex\">\n                      <RadioButton\n                        hideLabel\n                        hideErrorRow\n                        variant={CHECKBOX_STYLE_TYPE.PRIMARY}\n                        value={IS_TRUE.NO}\n                        checked={dedupeCheck === IS_TRUE.NO}\n                        onChange={handleCheckboxChange}\n                        disabled={pageMode === PAGE_MODE.VIEW}\n                      />\n                      <Text className=\"ml-1.5 text-xs \" label=\"label.dde.no\" />\n                    </div>\n                  </div>\n                </div>\n                <div>\n                  <Text\n                    className={`text-xs text-primary-ptext-1000`}\n                    label={\"label.rcu.comments\"}\n                  />\n                  <RichTextEditor\n                    ref={editorRef}\n                    validation={{ errorMessage: pageObj.commentsErrorMessage }}\n                    initialValue={pageObj.comments}\n                    onKeyDown={handleEditorValidation}\n                    height={\"400px\"}\n                    disabled={pageMode === PAGE_MODE.VIEW}\n                  />\n                </div>\n              </div>\n            </React.Fragment>\n          </AclGuard>\n        )}\n      </SaveComponent>\n\n      <ToastCustom\n        position={\"bottom-right\"}\n        ref={toastMessageRef}\n        toastText={toastMessage}\n        variant={TOAST_STYLE_TYPE.PRIMARY}\n      />\n\n      <ErrorDialog\n        onHide={() => {\n          setShowDialogAPIError(false);\n          setErrorMessage(\"\");\n        }}\n        visible={showDialogAPIError}\n        errorMessage={errorMessage}\n      />\n    </div>\n  );\n};\n\nexport default LoanSummary;\n","import AclGuard from \"components/AclGuard/AclGuard\";\nimport AutoComplete from \"components/AutoComplete/AutoComplete\";\nimport { Column } from \"components/EditableTableV2/EditableTableV2\";\nimport IconButton, { BUTTON_TYPES } from \"components/IconButton/IconButton\";\nimport InputTextArea from \"components/InputTextArea/InputTextArea\";\nimport MediaGallery, {\n  IMediaInfo,\n  initialMediaGallerySectionInfo,\n} from \"components/MediaGallery/MediaGallery\";\nimport ReadOnlyTable from \"components/ReadOnlyTable/ReadOnlyTable\";\nimport Section from \"components/Section/Section\";\nimport SimpleDropDown from \"components/SimpleDropDown/SimpleDropDown\";\nimport SkeletonCustom from \"components/Skeleton/Skeleton\";\nimport SystemDatePicker from \"components/SystemDatePicker/SystemDatePicker\";\nimport Text from \"components/Text/Text\";\nimport ChipsBox from \"components/base/BaseChips/BaseChips\";\nimport { useTextConverter } from \"hook/CustomHooks\";\nimport { BaseSyntheticEvent, useEffect, useRef, useState } from \"react\";\nimport { INPUT_STYLE_TYPE } from \"utils/Constant\";\nimport { IRcuDropdownList, IRcuProps } from \"../../PageReport/PageReport\";\n\ninterface IProps extends IRcuProps {\n  isLoading: boolean;\n  dropdownOptions: IRcuDropdownList;\n  data: IRcuInitiationInfo;\n}\n\ninterface IRcuProfileCheckRowData {\n  primaryAddressType: string;\n  smAddressType: string;\n  address: string;\n  pincode: { pinCode: string; uid?: string };\n  city: { name: string; uid?: string };\n  state: string;\n}\nexport interface IRcuInitiationInfo {\n  dateOfInitiation: string;\n  rcuType: string;\n  externalVendor: { name: string };\n  internalAssignee: { name: string };\n  CCEmails: string[];\n  description: string;\n  profileCheckTable: IRcuProfileCheckRowData[];\n  stageDocuments: any[];\n}\n\nexport const initialRcuReportInitiationInfoPageObj: IRcuInitiationInfo = {\n  dateOfInitiation: \"\",\n  rcuType: \"\",\n  externalVendor: { name: \"\" },\n  internalAssignee: { name: \"\" },\n  CCEmails: [],\n  description: \"\",\n  profileCheckTable: [],\n  stageDocuments: [],\n};\n\nconst InitiationInfo = (props: IProps) => {\n  const { isLoading, data, dropdownOptions } = props;\n\n  const textConverter = useTextConverter();\n  /*\n    -------------------------------------------------------\n      State\n    -------------------------------------------------------\n    */\n  const [pageObj, setPageObj] = useState<IRcuInitiationInfo>({\n    ...initialRcuReportInitiationInfoPageObj,\n  });\n  const [showMediaGallery, setShowMediaGallery] = useState<boolean>(false);\n  const [currentItemToViewInGallery, setCurrentItemToViewInGallery] = useState<IMediaInfo>({\n    ...initialMediaGallerySectionInfo,\n  });\n  // ref\n  const chipRef = useRef<any>(null);\n  const selectedDocsTableRef: any = useRef<any>();\n\n  // --------------------------- global variables ---------------------- //\n  /*\n     -------------------------------------------------------\n       useEffect\n     -------------------------------------------------------\n   */\n\n  useEffect(() => {\n    if (data.rcuType) {\n      setPageObj((prevObj) => ({\n        ...prevObj,\n        ...data,\n      }));\n    }\n  }, [data]);\n\n  /*\n  ------------------------------------------------------------\n   onClick,onBlur Handlers\n   ------------------------------------------------------------\n  */\n\n  const onViewFile = (e: BaseSyntheticEvent, rowData: any) => {\n    let preparedInfoInList: IMediaInfo = {\n      uid: \"\",\n      placeOfUpload: \"\",\n      name: \"\",\n      fileName: \"\",\n      fileType: \"\",\n      download: \"\",\n      category: \"\",\n      type: \"\",\n      sectionName: \"\",\n      url: \"\",\n    };\n\n    if (rowData?.loanDocumentSection) {\n      preparedInfoInList = {\n        uid: rowData?.uid,\n        placeOfUpload: \"\",\n        name: rowData?.loanDocumentSection?.loanDocument?.applicant?.firstName ?? \"-\",\n        fileName: rowData?.loanDocumentSection?.fileName ?? \"-\",\n        fileType: rowData?.loanDocumentSection?.fileType ?? \"-\",\n        download: \"\",\n        category: rowData?.loanDocumentSection?.loanDocument?.docCategory ?? \"-\",\n        type: rowData?.loanDocumentSection?.loanDocument?.docType?.name ?? \"-\",\n        sectionName: rowData?.loanDocumentSection?.section ?? \"-\",\n        url: rowData?.loanDocumentSection?.url,\n      };\n    } else if (rowData?.kycDocument) {\n      preparedInfoInList = {\n        uid: rowData?.uid,\n        placeOfUpload: \"\",\n        name: rowData?.kycDocument?.kyc?.applicant?.firstName ?? \"-\",\n        fileName: rowData?.kycDocument?.fileName ?? \"-\",\n        fileType: rowData?.kycDocument?.fileType ?? \"-\",\n        download: \"\",\n        category: \"KYC\",\n        type: rowData?.kycDocument?.kyc?.docType?.name ?? \"-\",\n        sectionName: rowData?.kycDocument?.smDocSectionType ?? \"-\",\n        url: rowData?.kycDocument?.url,\n      };\n    }\n\n    setCurrentItemToViewInGallery(preparedInfoInList);\n    setShowMediaGallery(true);\n  };\n\n  /*\n    -------------------------------------------------------\n      Sectional Rendering\n    -------------------------------------------------------\n  */\n\n  const renderProfileCheckAddressType = (rowData: IRcuProfileCheckRowData) => {\n    return (\n      <div className=\"flex items-center\">\n        <Text className=\" text-primary-ptext-1000 \" label={rowData?.primaryAddressType ?? \"\"} />\n      </div>\n    );\n  };\n\n  const renderProfileCheckAddress = (rowData: IRcuProfileCheckRowData) => {\n    return (\n      <div className=\"flex items-center\">\n        <Text className=\" text-primary-ptext-1000 \" label={rowData?.address ?? \"\"} />\n      </div>\n    );\n  };\n\n  const renderProfileCheckCity = (rowData: IRcuProfileCheckRowData) => {\n    return (\n      <div className=\"flex items-center\">\n        <Text className=\" text-primary-ptext-1000 \" label={rowData?.city?.name} />\n      </div>\n    );\n  };\n\n  const renderProfileCheckState = (rowData: IRcuProfileCheckRowData) => {\n    return (\n      <div className=\"flex items-center\">\n        <Text className=\" text-primary-ptext-1000 \" label={rowData?.state} />\n      </div>\n    );\n  };\n\n  const renderProfileCheckPincode = (rowData: IRcuProfileCheckRowData) => {\n    return (\n      <div className=\"flex items-center\">\n        <Text className=\" text-primary-ptext-1000 \" label={rowData?.pincode?.pinCode} />\n      </div>\n    );\n  };\n\n  const renderDocCategory = (rowData: any) => {\n    return (\n      <div className=\"flex items-center\">\n        {rowData?.loanDocumentSection\n          ? rowData?.loanDocumentSection?.loanDocument?.docCategory ?? \"-\"\n          : \"KYC\"}\n      </div>\n    );\n  };\n\n  const renderDocType = (rowData: any) => {\n    return <div className=\"flex items-center\">{rowData?.stageDocType ?? \"-\"}</div>;\n  };\n\n  const renderDocSection = (rowData: any) => {\n    return (\n      <div className=\"flex items-center\">\n        {rowData?.loanDocumentSection\n          ? rowData?.loanDocumentSection?.section ?? \"-\"\n          : rowData?.kycDocument?.smDocSectionType}\n      </div>\n    );\n  };\n\n  const renderAction = (rowData: any) => {\n    return (\n      <div className=\"px-2 flex items-center space-x-4\">\n        <div className=\"flex items-center\">\n          <IconButton\n            buttonType={BUTTON_TYPES.VIEW}\n            onClick={(e: BaseSyntheticEvent) => {\n              onViewFile(e, rowData);\n            }}\n            isIgnoreAccessLevel\n          />\n        </div>\n      </div>\n    );\n  };\n\n  const renderSelectedExistingDocs = () => {\n    return (\n      <ReadOnlyTable\n        dataKey=\"id\"\n        ref={selectedDocsTableRef}\n        value={data?.stageDocuments}\n        className={` ${data?.stageDocuments?.length ? \"  \" : \" rcu-stage-document-verification\"}`}\n      >\n        <Column\n          header={textConverter(\"label.existing.document.category\")}\n          className=\"text-primary-ptext-1000 text-left text-xs h-12 pl-6\"\n          body={renderDocCategory}\n        />\n        <Column\n          header={textConverter(\"label.existing.document.type\")}\n          className=\"text-primary-ptext-1000 text-left text-xs h-12 pl-6\"\n          body={renderDocType}\n        />\n        <Column\n          header={textConverter(\"label.existing.document.section\")}\n          className=\"text-primary-ptext-1000 text-left text-xs h-12 pl-6\"\n          body={renderDocSection}\n        />\n        <Column\n          header={textConverter(\"label.existing.document.action\")}\n          className=\"text-primary-ptext-1000 text-center text-xs h-12 pr-2\"\n          body={renderAction}\n        />\n      </ReadOnlyTable>\n    );\n  };\n\n  /*\n    -------------------------------------------------------\n    Main Rendering\n    -------------------------------------------------------\n  */\n\n  const { dateOfInitiation, rcuType, externalVendor, internalAssignee, CCEmails, description } =\n    pageObj;\n\n  return (\n    <div>\n      <Section title=\"heading.rcu.initiationInfo\">\n        {isLoading ? (\n          <SkeletonCustom height=\"19.375rem\" width=\"100%\" borderRadius=\"8px\" animation=\"wave\" />\n        ) : (\n          <AclGuard override={{ read: true }}>\n            <div className=\"grid grid-cols-4 gap-3 border border-primary-ptext-500  rounded-xl p-5 \">\n              <div className=\"\">\n                {/* Sys date */}\n                <SystemDatePicker\n                  label=\"label.rcu.dateOfInitiation\"\n                  name=\"dateOfInitiation\"\n                  value={new Date(dateOfInitiation)}\n                  variant={INPUT_STYLE_TYPE.SECONDARY}\n                  placeholder=\"DD-MM-YYYY \"\n                />\n              </div>\n\n              <div className=\"\">\n                <SimpleDropDown\n                  label=\"label.rcu.rcuType\"\n                  name=\"rcuType\"\n                  value={rcuType}\n                  optionLabel=\"name\"\n                  optionValue=\"code\"\n                  options={dropdownOptions?.rcuType ?? []}\n                />\n              </div>\n\n              <div className=\"col-span-2\" />\n\n              <div className=\"\">\n                <AutoComplete\n                  label=\"label.rcu.externalVendor\"\n                  name=\"externalVendor\"\n                  value={externalVendor?.name}\n                  variant={INPUT_STYLE_TYPE.PRIMARY}\n                />\n              </div>\n\n              <div className=\"\">\n                <AutoComplete\n                  label=\"label.rcu.internalAssignee\"\n                  name=\"internalAssignee\"\n                  value={internalAssignee?.name}\n                  variant={INPUT_STYLE_TYPE.PRIMARY}\n                />\n              </div>\n\n              <div className=\"col-span-2\" />\n\n              <div className=\"col-span-2\">\n                <ChipsBox\n                  className={\"\"}\n                  name=\"cc\"\n                  value={CCEmails}\n                  label={\"label.rcu.cc\"}\n                  ref={chipRef}\n                />\n              </div>\n              <div className=\"col-span-2\"></div>\n\n              <div className=\"col-span-4\">\n                <div className=\"mb-1\">\n                  <Text\n                    label={\"label.legal.documentVerification\"}\n                    className=\"text-primary-sideBarBgColor font-medium text-xs\"\n                  />\n                </div>\n                {renderSelectedExistingDocs()}\n              </div>\n\n              <div className=\"col-span-4\">\n                <Text\n                  label={\"heading.rcu.profileCheck\"}\n                  className=\"text-primary-sideBarBgColor font-bold text-xs\"\n                />\n              </div>\n\n              <div className=\"col-span-4\">\n                <ReadOnlyTable\n                  dataKey=\"id\"\n                  ref={selectedDocsTableRef}\n                  value={data?.profileCheckTable}\n                  className={` ${\n                    data?.profileCheckTable?.length ? \" \" : \" rcu-stage-document-verification\"\n                  }`}\n                >\n                  <Column\n                    header={textConverter(\"label.stages.initiate.addressType\")}\n                    className=\"text-primary-ptext-1000 text-left text-xs h-12 pl-6\"\n                    body={renderProfileCheckAddressType}\n                  />\n                  <Column\n                    header={textConverter(\"label.stages.initiate.address\")}\n                    className=\"text-primary-ptext-1000 text-left text-xs h-12 pl-6\"\n                    body={renderProfileCheckAddress}\n                  />\n                  <Column\n                    header={textConverter(\"label.stages.initiate.city\")}\n                    className=\"text-primary-ptext-1000 text-center text-xs h-12 px-6\"\n                    body={renderProfileCheckCity}\n                  />\n                  <Column\n                    header={textConverter(\"label.stages.initiate.state\")}\n                    className=\"text-primary-ptext-1000 text-center text-xs h-12 px-6\"\n                    body={renderProfileCheckState}\n                  />\n                  <Column\n                    header={textConverter(\"label.stages.initiate.pincode\")}\n                    className=\"text-primary-ptext-1000 text-center text-xs h-12 px-6\"\n                    body={renderProfileCheckPincode}\n                  />\n                </ReadOnlyTable>\n              </div>\n\n              <div className=\"col-span-2 h-40\">\n                <InputTextArea\n                  name=\"description\"\n                  className=\"!h-full\"\n                  label=\"input.masterData.staticMaster.description\"\n                  placeholder={\"placeholder.rcu.description\"}\n                  variant={INPUT_STYLE_TYPE.SECONDARY}\n                  maxCount={200}\n                  value={description}\n                />\n              </div>\n            </div>\n          </AclGuard>\n        )}\n      </Section>\n\n      <MediaGallery\n        visible={showMediaGallery}\n        onToggleVisibility={() => setShowMediaGallery((prev) => !prev)}\n        list={[]}\n        currentSection={currentItemToViewInGallery}\n      />\n    </div>\n  );\n};\n\nexport default InitiationInfo;\n","import AclGuard from \"components/AclGuard\";\nimport DocumentUploader, {\n  DOC_UPLOADER_MODE,\n  IDocumentInfo,\n  IDocumentUploaderRef,\n  IUploadedDocumentSection,\n} from \"components/DocumentUploader\";\nimport ErrorDialog from \"components/ErrorDialog\";\nimport SaveComponent from \"components/Save/SaveComponent\";\nimport SkeletonCustom from \"components/Skeleton\";\nimport Text from \"components/Text\";\nimport ToastCustom from \"components/Toast\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport RcuService from \"services/transaction/DDE/RcuService\";\nimport { parseStandardAPIErrorMessage } from \"utils/CommonUtil\";\nimport {\n  DOCUMENT_CATEGORY,\n  PAGE_MODE,\n  STATIC_MASTER_TYPE_TOAST_TEXT,\n  TOAST_STYLE_TYPE,\n} from \"utils/Constant\";\nimport { IRcuProps } from \"../../PageReport/PageReport\";\n\ninterface IProps extends IRcuProps {\n  isLoading: boolean;\n  data: IRcuUploadReportPageObj;\n  getDataOnCancel: () => void;\n  payloadInfo: { rcuUid: string; loanUid: string; stageUid: string };\n}\nexport interface IRcuUploadReportPageObj {\n  savedDocuments: any[];\n}\n\nexport const initialRcuUploadReportPageOj: IRcuUploadReportPageObj = {\n  savedDocuments: [],\n};\n\nconst UploadReport: React.FC<IProps> = (props) => {\n  const params: { loanUid?: string; stageUid?: string } = useParams();\n  const { data, payloadInfo, getDataOnCancel, isLoading } = props;\n\n  /*\n    -------------------------------------------------------\n      State\n    -------------------------------------------------------\n  */\n\n  const [pageObj, setPageObj] = useState<IRcuUploadReportPageObj>({\n    ...initialRcuUploadReportPageOj,\n  });\n  const [id, setId] = useState<string>(\"1\"); // to re-mount doc uploader by changing its key everytime the cancel button is hit and get api is called through getDataOnCancel() to fetch the previous saved data\n\n  const [pageMode, setPageMode] = useState(PAGE_MODE.VIEW);\n\n  /*------------error handling states------------ */\n  const [toastMessage, setToastMessage] = useState(\"\");\n  const [triggerToast, setTriggerToast] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const [showDialogAPIError, setShowDialogAPIError] = useState(false);\n\n  // ref\n  const toastMessageRef = useRef(null);\n  const documentUploaderRef = useRef<IDocumentUploaderRef | null>(null);\n\n  // --------------------------- global variables ---------------------- //\n\n  /*\n     -------------------------------------------------------\n       useEffect\n     -------------------------------------------------------\n   */\n\n  useEffect(() => {\n    if (data && Object.keys(data).length > 0) {\n      setPageObj(() => {\n        return {\n          ...data,\n        };\n      });\n\n      setId(Math.random().toString());\n    }\n  }, [data]);\n\n  useEffect(() => {\n    if (toastMessageRef?.current && toastMessage !== \"\") {\n      // @ts-ignore: will be fixed in future\n      toastMessageRef?.current?.showFunction();\n      setToastMessage(\"\");\n    }\n  }, [toastMessage, triggerToast]);\n\n  useEffect(() => {\n    if (errorMessage) {\n      setShowDialogAPIError(true);\n    }\n  }, [errorMessage]);\n\n  /*\n    -------------------------------------------------------\n      Handlers\n    -------------------------------------------------------\n  */\n\n  /*\n    -------------------------------------------------------\n      Button Click Handlers\n    -------------------------------------------------------\n  */\n\n  const onSave = async () => {\n    const unSavedDocuments: IDocumentInfo | undefined =\n      documentUploaderRef?.current?.getUploadedData();\n    if (!unSavedDocuments?.documentSectionUrls?.length) {\n      return;\n    }\n\n    const payload = enrichForSave(unSavedDocuments);\n\n    try {\n      const res = await RcuService.updateUploadReport(payload);\n\n      setToastMessage(STATIC_MASTER_TYPE_TOAST_TEXT.SAVED);\n      setTriggerToast(!triggerToast);\n      setPageMode(PAGE_MODE.VIEW);\n    } catch (error) {\n      console.log(error);\n      setErrorMessage(parseStandardAPIErrorMessage(error));\n    }\n  };\n\n  const onEdit = () => setPageMode(PAGE_MODE.EDIT);\n\n  const onCancel = () => {\n    getDataOnCancel?.();\n    documentUploaderRef?.current?.resetValidator();\n    setPageMode(PAGE_MODE.VIEW);\n  };\n\n  /*\n    -------------------------------------------------------\n      Helper Functions\n    -------------------------------------------------------\n  */\n  const enrichForSave = (unSavedDocument: IDocumentInfo) => {\n    const prepareDocSectionsForPayload = (documentSections: IUploadedDocumentSection[]) => {\n      const sections = documentSections.map((docSection: any) => ({\n        uid: docSection.uid ? docSection.uid : null,\n        section: docSection.code,\n        fileName: docSection.fileName,\n        fileType: docSection.contentType,\n        thumbUrl: docSection.thumbUrl,\n        url: docSection.url,\n        isActive: docSection.isActive,\n      }));\n      return sections;\n    };\n\n    const payloadData = {\n      uid: payloadInfo.rcuUid,\n      loan: {\n        uid: payloadInfo.loanUid,\n      },\n      loanDocuments: [\n        {\n          docType: {\n            uid: unSavedDocument.documentUid,\n          },\n          docCategory: unSavedDocument.documentCategory,\n          documentSections: prepareDocSectionsForPayload(unSavedDocument.documentSectionUrls),\n        },\n      ],\n    };\n\n    return payloadData;\n  };\n\n  /*\n    -------------------------------------------------------\n    Main Rendering\n    -------------------------------------------------------\n  */\n\n  return (\n    <div>\n      <SaveComponent\n        title=\"\"\n        pageMode={pageMode}\n        onSave={onSave}\n        onCancel={onCancel}\n        onEdit={onEdit}\n        disabled={isLoading}\n      >\n        {isLoading ? (\n          <SkeletonCustom height=\"19.375rem\" width=\"100%\" borderRadius=\"8px\" animation=\"wave\" />\n        ) : (\n          <AclGuard override={{ read: pageMode === PAGE_MODE.VIEW }}>\n            <div className=\" grid grid-cols-4 gap-3 \">\n              <div className=\"col-span-4\">\n                <div>\n                  <Text\n                    className=\"text-xs text-primary-ptext-1000\"\n                    label={\"label.rcu.documentType.uploadReport\"}\n                  />\n                </div>\n                <DocumentUploader\n                  key={id}\n                  ref={documentUploaderRef}\n                  savedDocument={data.savedDocuments?.[0] ? data.savedDocuments?.[0] : {}}\n                  mode={\n                    pageMode === PAGE_MODE.VIEW ? DOC_UPLOADER_MODE.VIEW : DOC_UPLOADER_MODE.EDIT\n                  }\n                  queryParamForDocList={DOCUMENT_CATEGORY.DOCUMENT_CATEGORY_RCU_DOCUMENT}\n                  mandatoryDocUpload\n                />\n              </div>\n            </div>\n          </AclGuard>\n        )}\n      </SaveComponent>\n\n      <ToastCustom\n        position={\"bottom-right\"}\n        ref={toastMessageRef}\n        toastText={toastMessage}\n        variant={TOAST_STYLE_TYPE.PRIMARY}\n      />\n\n      <ErrorDialog\n        onHide={() => {\n          setShowDialogAPIError(false);\n          setErrorMessage(\"\");\n        }}\n        visible={showDialogAPIError}\n        errorMessage={errorMessage}\n      />\n    </div>\n  );\n};\n\nexport default UploadReport;\n","import AclGuard from \"components/AclGuard/AclGuard\";\nimport ErrorDialog from \"components/ErrorDialog/ErrorDialog\";\nimport Info from \"components/Info/Info\";\nimport Section from \"components/Section/Section\";\nimport { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport ApplicantService from \"services/ApplicantService\";\nimport StaticMasterDataService from \"services/masterdata/StaticMaster/StaticMasterDataService\";\nimport RcuService from \"services/transaction/DDE/RcuService\";\nimport StageService from \"services/transaction/DDE/StageService\";\nimport { parseStandardAPIErrorMessage, validateGetAPIResponse } from \"utils/CommonUtil\";\nimport {\n  APPLICANT_TYPE,\n  CURRENT_STAGE_STATUS,\n  LOAN_STAGE_STATUS,\n  SAHAYYA_USER_TYPE,\n} from \"utils/Constant\";\nimport { IDropDownOptions } from \"views/transaction/PageDDE/Login/Helper\";\nimport {\n  updateRcuApplicantDetailsObj,\n  updateRcuInitiationInfoObj,\n  updateRcuLoanSummaryObj,\n  updateRcuProfileVerificationObj,\n  updateRcuStatusInfoObj,\n  updateRcuUploadReportObj,\n  updatedRcuAddedDocumentsObj,\n} from \"../Helper\";\nimport AddedDocuments, {\n  IRcuSingleAddedDocumentsPageObj,\n} from \"../Sections/AddedDocuments/AddedDocuments\";\nimport ApplicantDetails, {\n  IRcuApplicantDetailsPageObj,\n  IRcuCoApplicantDetailsRowData,\n  initialRcuApplicantDetailsPageObj,\n} from \"../Sections/ApplicantDetails/ApplicantDetails\";\nimport DocumentVerification from \"../Sections/DocumentVerification/DocumentVerification\";\nimport LoanSummary, {\n  IRcuLoanSummaryPageObj,\n  initialRcuLoanSummaryPageObj,\n} from \"../Sections/LoanSummary/LoanSummary\";\nimport InitiationInfo, {\n  IRcuInitiationInfo,\n  initialRcuReportInitiationInfoPageObj,\n} from \"../Sections/RcuInitiationInfo/InitiationInfo\";\nimport SaveComponentTextEditor, {\n  IRcuTextEditorPageObj,\n  RCU_TEXT_EDITOR_SECTION,\n  initialRcuTextEditorPageObj,\n} from \"../Sections/SaveComponentTextEditor\";\nimport { initialRcuUploadReportPageOj } from \"../Sections/UploadReport\";\nimport UploadReport, { IRcuUploadReportPageObj } from \"../Sections/UploadReport/UploadReport\";\nexport interface IRcuProps {\n  isLoading?: boolean;\n}\nexport interface IRcuDropdownList {\n  rcuType?: IDropDownOptions[];\n  addressType?: IDropDownOptions[];\n  rcuStatus?: IDropDownOptions[];\n  verificationStatus?: IDropDownOptions[];\n}\n\ninterface IPageObj {\n  showInfo: boolean;\n  loanUid: string;\n  applicantUid: string;\n  rcuUid: string;\n  stageUid: string;\n  stageInfo: any;\n  dropdownOptions: IRcuDropdownList;\n  coApplicantList: IRcuCoApplicantDetailsRowData[];\n  initiationInfo: IRcuInitiationInfo;\n  loanSummary: IRcuLoanSummaryPageObj;\n  applicantDetails: IRcuApplicantDetailsPageObj;\n  rcuStatusInfo: IRcuTextEditorPageObj;\n  addedDocuments: IRcuSingleAddedDocumentsPageObj[];\n  profileVerification: IRcuTextEditorPageObj;\n  uploadReport: IRcuUploadReportPageObj;\n  isLoadingInitiationInfo: boolean;\n  isLoadingLoanSummary: boolean;\n  isLoadingApplicantDetails: boolean;\n  isLoadingDocumentVerification: boolean;\n  isLoadingAddedDocuments: boolean;\n  isLoadingProfileVerification: boolean;\n  isLoadingUploadReport: boolean;\n  isLoadingRcuStatusInfo: boolean;\n}\n\nconst initialPageOj: IPageObj = {\n  showInfo: true,\n  loanUid: \"\",\n  applicantUid: \"\",\n  rcuUid: \"\",\n  stageUid: \"\",\n  stageInfo: {},\n  dropdownOptions: {\n    addressType: [],\n    rcuType: [],\n    rcuStatus: [],\n    verificationStatus: [],\n  },\n  coApplicantList: [],\n  initiationInfo: { ...initialRcuReportInitiationInfoPageObj },\n  loanSummary: { ...initialRcuLoanSummaryPageObj },\n  applicantDetails: { ...initialRcuApplicantDetailsPageObj },\n  addedDocuments: [],\n  profileVerification: { ...initialRcuTextEditorPageObj },\n  uploadReport: { ...initialRcuUploadReportPageOj },\n  rcuStatusInfo: { ...initialRcuTextEditorPageObj },\n  isLoadingInitiationInfo: true,\n  isLoadingLoanSummary: true,\n  isLoadingApplicantDetails: true,\n  isLoadingDocumentVerification: true,\n  isLoadingAddedDocuments: true,\n  isLoadingProfileVerification: true,\n  isLoadingUploadReport: true,\n  isLoadingRcuStatusInfo: true,\n};\n\nconst PageReport = () => {\n  const params: { loanUid?: string; stageUid?: string } = useParams();\n\n  /*\n    -------------------------------------------------------\n      States\n    -------------------------------------------------------\n  */\n\n  const [pageObj, setPageObj] = useState<IPageObj>({ ...initialPageOj });\n  const [errorMessage, setErrorMessage] = useState<any>(\"\");\n  const [showDialogAPIError, setShowDialogAPIError] = useState(false);\n  const [isReadMode, setIsReadMode] = useState(false);\n  const userProfile = useSelector((state: any) => state.UserProfileReducers.profileObj);\n  const isPartnerUser = userProfile?.sahayyaUserType === SAHAYYA_USER_TYPE.PARTNER_USER;\n  // --------------------- global variables ---------------------- //\n\n  const payloadInfo = {\n    rcuUid: pageObj.rcuUid,\n    loanUid: pageObj.loanUid,\n    stageUid: pageObj.stageUid,\n  };\n\n  /*\n     -------------------------------------------------------\n       useEffect\n     -------------------------------------------------------\n   */\n\n  useEffect(() => {\n    if (params.stageUid) {\n      init();\n    }\n  }, [params.stageUid]);\n\n  useEffect(() => {\n    if (pageObj.stageUid) {\n      getAllRcuStageDetails();\n      getDocumentDetails(pageObj.stageUid);\n    }\n  }, [pageObj.stageUid]);\n\n  useEffect(() => {\n    if (pageObj.rcuUid) {\n      getRcuUploadReportDetails();\n    }\n  }, [pageObj.rcuUid]);\n\n  useEffect(() => {\n    if (errorMessage) {\n      setShowDialogAPIError(true);\n    }\n  }, [errorMessage]);\n  useEffect(() => {\n    if (pageObj.stageInfo?.status === LOAN_STAGE_STATUS.IN_REVIEW) {\n      setIsReadMode(true);\n    } else if (!isPartnerUser) {\n      setIsReadMode(true);\n    } else if (pageObj.stageInfo?.status === LOAN_STAGE_STATUS.COMPLETED) {\n      setIsReadMode(true);\n    } else if (pageObj.stageInfo?.status === LOAN_STAGE_STATUS.CANCELLED) {\n      setIsReadMode(true);\n    } else {\n      setIsReadMode(false);\n    }\n  }, [pageObj.stageInfo?.status, isPartnerUser]);\n\n  /*\n    -------------------------------------------------------\n      Service Calls\n    -------------------------------------------------------\n  */\n\n  const init = async () => {\n    setPageObj((prevPageObj) => ({\n      ...prevPageObj,\n      loanUid: params.loanUid ?? \"\",\n      stageUid: params.stageUid ?? \"\",\n    }));\n    getRcuTypeOptions();\n    getRcuStatusOptions();\n  };\n\n  const getAllRcuStageDetails = async (isReturnResponseOnly?: boolean) => {\n    try {\n      const res = await StageService.getStageDetails(pageObj.stageUid);\n\n      if (validateGetAPIResponse(res)) {\n        if (isReturnResponseOnly) return res?.data;\n\n        const stagePropertyAddress = await StageService.getPropertyDetails(\n          0,\n          20,\n          `uid=${res?.data?.stage?.address?.uid ?? \"\"}`\n        );\n\n        // get co-applicants list here\n        const list: IRcuCoApplicantDetailsRowData[] = [];\n        const response = await ApplicantService.getApplicantInfo(\n          0,\n          20,\n          APPLICANT_TYPE.CO_APPLICANT,\n          params.loanUid ?? \"\"\n        );\n\n        response?.data?.results?.forEach((coApplicant: { [key: string]: any }) => {\n          if (coApplicant.isActive) {\n            list.push({\n              firstName: coApplicant.firstName,\n              middleName: coApplicant.middleName,\n              lastName: coApplicant.lastName,\n            });\n          }\n        });\n\n        setPageObj((prevState: IPageObj) => {\n          return {\n            ...prevState,\n            stageInfo: res?.data?.stage,\n            rcuUid: res?.data?.stage?.rcu?.uid ?? \"\",\n            applicantUid: res?.data?.stage?.applicant?.uid ?? \"\",\n            initiationInfo: {\n              ...prevState.initiationInfo,\n              ...updateRcuInitiationInfoObj(res?.data, stagePropertyAddress?.data?.results?.[0]),\n            },\n            isLoadingInitiationInfo: false,\n\n            loanSummary: {\n              ...prevState.loanSummary,\n              ...updateRcuLoanSummaryObj(res?.data),\n            },\n            isLoadingLoanSummary: false,\n\n            applicantDetails: {\n              ...prevState.applicantDetails,\n              ...updateRcuApplicantDetailsObj(\n                res?.data,\n                list,\n                stagePropertyAddress?.data?.results?.[0]\n              ),\n            },\n            isLoadingApplicantDetails: false,\n\n            isLoadingDocumentVerification: false,\n\n            profileVerification: {\n              ...prevState.profileVerification,\n              ...updateRcuProfileVerificationObj(res?.data),\n            },\n            isLoadingProfileVerification: false,\n\n            rcuStatusInfo: {\n              ...prevState.rcuStatusInfo,\n              ...updateRcuStatusInfoObj(res?.data),\n            },\n            isLoadingRcuStatusInfo: false,\n          };\n        });\n      }\n    } catch (error) {\n      console.log(error);\n      setErrorMessage(parseStandardAPIErrorMessage(error));\n      setPageObj((prevState: IPageObj) => {\n        return {\n          ...prevState,\n          isLoadingInitiationInfo: false,\n          isLoadingLoanSummary: false,\n          isLoadingApplicantDetails: false,\n          isLoadingDocumentVerification: false,\n          isLoadingAddedDocuments: false,\n          isLoadingProfileVerification: false,\n          isLoadingRcuStatusInfo: false,\n        };\n      });\n    }\n  };\n\n  const getDocumentDetails = async (stageUid: string) => {\n    // get additional document (added document) details\n    try {\n      const res = await RcuService.getAdditionalDocuments(stageUid);\n\n      setPageObj((prev: IPageObj) => ({\n        ...prev,\n        addedDocuments: [...updatedRcuAddedDocumentsObj(res?.data)],\n        isLoadingAddedDocuments: false,\n      }));\n    } catch (error) {\n      console.log(error);\n      setErrorMessage(parseStandardAPIErrorMessage(error));\n      setPageObj((prev: IPageObj) => {\n        return {\n          ...prev,\n          isLoadingAddedDocuments: false,\n        };\n      });\n    }\n  };\n\n  const getRcuUploadReportDetails = async (isReturnResponseOnly?: boolean) => {\n    try {\n      const res = await RcuService.getUploadReport(pageObj.rcuUid);\n\n      if (validateGetAPIResponse(res)) {\n        if (isReturnResponseOnly) return res?.data;\n\n        setPageObj((prev: IPageObj) => ({\n          ...prev,\n          uploadReport: {\n            ...prev.uploadReport,\n            ...updateRcuUploadReportObj(res?.data),\n          },\n          isLoadingUploadReport: false,\n        }));\n      }\n    } catch (error) {\n      console.log(error);\n      setErrorMessage(parseStandardAPIErrorMessage(error));\n      setPageObj((prev: IPageObj) => ({\n        ...prev,\n        isLoadingUploadReport: false,\n      }));\n    }\n  };\n\n  const getRcuTypeOptions = () => {\n    StaticMasterDataService.getAll(0, 1000, \"staticMasterType.code=RCU_TYPE&\")\n      .then((res) => {\n        if (validateGetAPIResponse(res)) {\n          updateDropdownOptions(\"rcuType\", res?.data?.results);\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        setErrorMessage(parseStandardAPIErrorMessage(err));\n      });\n  };\n\n  const getRcuStatusOptions = () => {\n    updateDropdownOptions(\"rcuStatus\", [...CURRENT_STAGE_STATUS]);\n  };\n\n  /*\n    -------------------------------------------------------\n      Handlers\n    -------------------------------------------------------\n  */\n\n  const onCloseInfo = () => {\n    setPageObj((prevPageObj) => ({ ...prevPageObj, showInfo: false }));\n  };\n\n  /* \n    --------------------------------------------------------\n    Validators\n    --------------------------------------------------------\n  */\n\n  /*\n    -------------------------------------------------------\n      Button Click Handlers\n    -------------------------------------------------------\n  */\n\n  const onCancelLoanSummary = async () => {\n    const data = await getAllRcuStageDetails(true);\n\n    setPageObj((prev: IPageObj) => ({\n      ...prev,\n      loanSummary: {\n        ...prev.loanSummary,\n        ...updateRcuLoanSummaryObj(data),\n      },\n    }));\n  };\n\n  const onCancelProfileVerification = async () => {\n    const data = await getAllRcuStageDetails(true);\n\n    setPageObj((prev: IPageObj) => ({\n      ...prev,\n      profileVerification: {\n        ...prev.profileVerification,\n        ...updateRcuProfileVerificationObj(data),\n      },\n    }));\n  };\n\n  const onCancelUploadReport = async () => {\n    const data = await getRcuUploadReportDetails(true);\n\n    setPageObj((prev: IPageObj) => ({\n      ...prev,\n      uploadReport: {\n        ...prev.uploadReport,\n        ...updateRcuUploadReportObj(data),\n      },\n    }));\n  };\n\n  const onCancelRcuStatus = async () => {\n    const data = await getAllRcuStageDetails(true);\n\n    setPageObj((prev: IPageObj) => ({\n      ...prev,\n      rcuStatusInfo: {\n        ...prev.rcuStatusInfo,\n        ...updateRcuStatusInfoObj(data),\n      },\n    }));\n  };\n\n  /*\n    -------------------------------------------------------\n      Helper Functions\n    -------------------------------------------------------\n  */\n\n  const getInitiationInfoDropdownOptions = () => {\n    return {\n      rcuType: pageObj.dropdownOptions?.rcuType,\n      addressType: pageObj.dropdownOptions?.addressType,\n    };\n  };\n\n  const getRcuStatusDropdownOptions = () => {\n    return {\n      rcuStatus: pageObj.dropdownOptions?.rcuStatus,\n    };\n  };\n\n  const updateDropdownOptions = (key: keyof IRcuDropdownList, options: any[]) => {\n    setPageObj((prevState: any) => ({\n      ...prevState,\n      dropdownOptions: {\n        ...prevState.dropdownOptions,\n        [key]: options ?? [],\n      },\n    }));\n  };\n\n  /*\n    -------------------------------------------------------\n    Main Renders\n    -------------------------------------------------------\n  */\n  return (\n    <div className=\"grid gap-5 mb-5\">\n      {pageObj?.showInfo ? <Info description=\"description.rcu.info\" onClose={onCloseInfo} /> : null}\n      <InitiationInfo\n        isLoading={pageObj.isLoadingInitiationInfo}\n        data={pageObj?.initiationInfo}\n        dropdownOptions={getInitiationInfoDropdownOptions()}\n      />\n\n      <AclGuard override={{ read: isReadMode }}>\n        <Section title=\"heading.rcu.loanSummary\">\n          <LoanSummary\n            isLoading={pageObj.isLoadingLoanSummary}\n            data={pageObj.loanSummary}\n            getDataOnCancel={onCancelLoanSummary}\n          />\n        </Section>\n\n        <Section title=\"heading.rcu.applicantDetails\">\n          <ApplicantDetails\n            isLoading={pageObj.isLoadingApplicantDetails}\n            data={pageObj.applicantDetails}\n          />\n        </Section>\n\n        <Section title=\"heading.technical.documentDetails\">\n          <>\n            <DocumentVerification\n              isLoading={pageObj.isLoadingDocumentVerification}\n              payloadInfo={payloadInfo}\n            />\n\n            <AddedDocuments\n              isLoading={pageObj.isLoadingAddedDocuments}\n              data={pageObj?.addedDocuments}\n              payloadInfo={{\n                loanUid: params?.loanUid ?? \"\",\n                applicantUid: pageObj.applicantUid ?? \"\",\n                stageUid: pageObj.stageUid ?? \"\",\n              }}\n              getDetailsCallback={() => getDocumentDetails(pageObj?.stageUid)}\n            />\n          </>\n        </Section>\n\n        <Section title={\"label.rcu.profile\"}>\n          <SaveComponentTextEditor\n            isLoading={pageObj.isLoadingProfileVerification}\n            data={pageObj.profileVerification}\n            getDataOnCancel={onCancelProfileVerification}\n            section={RCU_TEXT_EDITOR_SECTION.PROFILE_VERIFICATION.code}\n          />\n        </Section>\n\n        <Section title=\"label.rcu.uploadRCUReport\">\n          <UploadReport\n            isLoading={pageObj.isLoadingUploadReport}\n            data={pageObj.uploadReport}\n            payloadInfo={payloadInfo}\n            getDataOnCancel={onCancelUploadReport}\n          />\n        </Section>\n\n        <Section title={\"heading.rcu.rcuStatus\"}>\n          <SaveComponentTextEditor\n            isLoading={pageObj.isLoadingRcuStatusInfo}\n            data={pageObj.rcuStatusInfo}\n            dropdownOptions={getRcuStatusDropdownOptions()}\n            section={RCU_TEXT_EDITOR_SECTION.RCU_STATUS.code}\n            getDataOnCancel={onCancelRcuStatus}\n          />\n        </Section>\n      </AclGuard>\n\n      <ErrorDialog\n        onHide={() => {\n          setShowDialogAPIError(false);\n          setErrorMessage(\"\");\n        }}\n        visible={showDialogAPIError}\n        errorMessage={errorMessage}\n      />\n    </div>\n  );\n};\n\nexport default PageReport;\n"],"names":["initialAddedDocumentPageObj","PAGE_MODE","AddedDocuments","forwardRef","props","ref","data","isLoading","getDetailsCallback","dropDownOptions","payloadInfo","useParams","pageObj","setPageObj","useState","sectionMode","setSectionMode","toastMessage","setToastMessage","triggerToast","setTriggerToast","errorMessage","setErrorMessage","showDialogAPIError","setShowDialogAPIError","toastMessageRef","useRef","documentUploaderRef","forceUpdate","simpleValidator","useImperativeHandle","onSave","onCancel","useEffect","resetAllSectionValidations","pageObjData","_a","validate","e","index","_c","_b","validateForm","isValid","prev","_d","options","unSavedDocuments","payload","enrichForSave","res","RcuService","STATIC_MASTER_TYPE_TOAST_TEXT","updateSectionPageMode","error","parseStandardAPIErrorMessage","onEdit","resetSectionValidations","_e","prevPageObj","updatedPageObj","onAddMore","SimpleReactValidator","getStandardValidator","messageReplace","prevData","handleInputChange","onRemoveSection","removeIndex","section","loopIndex","idx","getMenuModel","totalSections","i","unSavedDocument","currentPageObj","addedDocStatus","addedDocRemarks","prepareDocSections","docSectionsList","docSection","jsxs","jsx","Text","SkeletonCustom","React","document","SaveComponent","AclGuard","DocumentUploader","refValue","DOC_UPLOADER_MODE","DOCUMENT_CATEGORY","SimpleDropDown","QC_STATUS_LIST","InputTextArea","INPUT_STYLE_TYPE","ButtonBox","BUTTON_TYPE","ToastCustom","TOAST_STYLE_TYPE","ErrorDialog","ADDRESS_TYPE","initialAddressData","initialRcuApplicantDetailsPageObj","ApplicantDetails","textConverter","useTextConverter","pageMode","setPageMode","coApplicantTableRef","addressRef","renderAddress","Address","memoAddressData","VARIANTS","Fragment","InputBox","nameOfOrganization","renderFirstName","rowData","renderMiddleName","renderLastName","useMemo","address","pincode","city","state","latitude","longitude","firstName","middleName","lastName","mobileNumber","InputAddon","ReadOnlyTable","Column","DocumentVerification","params","showMediaGallery","setShowMediaGallery","currentItemToViewInGallery","setCurrentItemToViewInGallery","initialMediaGallerySectionInfo","documentVerificationTableRef","handleDocumentVerificationChange","rowDataObj","handleChange","structuredTableDataForPayload","resetValidator","onViewFile","preparedInfoInList","_h","_g","_f","_k","_j","_i","_l","_m","_p","_o","_n","_q","_r","_s","_u","_t","_w","_v","_y","_x","_z","_A","_C","_B","_F","_E","_D","_G","_H","tableRowDataForPayload","prepareStageDocuments","stagedDocs","renderFileName","renderDocumentType","renderCustomer","applicantType","renderViewFile","IconButton","BUTTON_TYPES","renderVerificationStatus","VERIFICATION_STATUS","renderDocumentVerificationRemark","EditableTableV2","i18n","MediaGallery","initialRcuLoanSummaryPageObj","IS_TRUE","LoanSummary","getDataOnCancel","editorRef","validateEditor","prevObj","handleCheckboxChange","handleEditorValidation","prevState","wordcount","loanNo","salesManager","creditManager","dedupeCheck","branch","agency","dateOfReport","SystemDatePicker","RadioButton","CHECKBOX_STYLE_TYPE","RichTextEditor","initialRcuReportInitiationInfoPageObj","InitiationInfo","dropdownOptions","chipRef","selectedDocsTableRef","renderProfileCheckAddressType","renderProfileCheckAddress","renderProfileCheckCity","renderProfileCheckState","renderProfileCheckPincode","renderDocCategory","renderDocType","renderDocSection","renderAction","renderSelectedExistingDocs","dateOfInitiation","rcuType","externalVendor","internalAssignee","CCEmails","description","Section","AutoComplete","ChipsBox","initialRcuUploadReportPageOj","UploadReport","id","setId","prepareDocSectionsForPayload","documentSections","initialPageOj","initialRcuTextEditorPageObj","PageReport","isReadMode","setIsReadMode","userProfile","useSelector","isPartnerUser","SAHAYYA_USER_TYPE","init","getAllRcuStageDetails","getDocumentDetails","getRcuUploadReportDetails","LOAN_STAGE_STATUS","getRcuTypeOptions","getRcuStatusOptions","isReturnResponseOnly","StageService","validateGetAPIResponse","stagePropertyAddress","list","response","ApplicantService","APPLICANT_TYPE","coApplicant","updateRcuInitiationInfoObj","updateRcuLoanSummaryObj","updateRcuApplicantDetailsObj","updateRcuProfileVerificationObj","updateRcuStatusInfoObj","stageUid","updatedRcuAddedDocumentsObj","updateRcuUploadReportObj","StaticMasterDataService","updateDropdownOptions","err","CURRENT_STAGE_STATUS","onCloseInfo","onCancelLoanSummary","onCancelProfileVerification","onCancelUploadReport","onCancelRcuStatus","getInitiationInfoDropdownOptions","getRcuStatusDropdownOptions","key","Info","SaveComponentTextEditor","RCU_TEXT_EDITOR_SECTION"],"mappings":"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"}