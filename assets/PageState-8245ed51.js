import{w as ht,r as o,aG as j,j as t,T as b,J as B,aH as w,ao as ee,aI as ue,aJ as ve,aK as te,cz as he,aF as fe,o as U,az as ft,aM as At,av as Ae,p as ye,z as yt,aN as se}from"./index-e8217573.js";import{s as I,a as M,b as R}from"./sortIcon-54357a29.js";import{e as gt}from"./eye_icon-081bddb3.js";import{A as re}from"./AutoComplete-0bca608a.js";import{B as Y}from"./ButtonBox-9e46519a.js";import{D as ae}from"./DatePicker-b1c13861.js";import{D as jt}from"./Dialog-adadaf64.js";import{I as Nt}from"./InputBox-b9e88f52.js";import{M as Tt}from"./MenuBox-defc36b0.js";import{R as St}from"./ReadOnlyTable-86accb69.js";import{S as Ct}from"./SectionTitle-9f9277ec.js";import{S as Et}from"./SimpleDropDown-061a3470.js";import{T as bt}from"./Toast-ae99ea5b.js";import{C as N}from"./column.esm-938bad7d.js";import{S as z}from"./State-681554db.js";import"./search_icon-459d6871.js";import"./withAuth-6de36ebf.js";import"./virtualscroller.esm-9939945c.js";import"./kebab-menu-8835ad2e.js";import"./No_data-1720c54e.js";import"./datatable.esm-f474a654.js";import"./paginator.esm-11c2c115.js";import"./TransitionGroup-c8afe0ce.js";function Bt(oe){const[ne,ge]=o.useState(!1),[je,F]=o.useState(!1),[Ne,O]=o.useState(!1),[a,ce]=o.useState({}),[L,u]=o.useState(void 0),[H,v]=o.useState(void 0),[V,h]=o.useState(void 0),[$,p]=o.useState(void 0),[G,T]=o.useState(void 0),[J,f]=o.useState(void 0),[q,A]=o.useState(void 0),[K,y]=o.useState(void 0),P=o.useRef(null),[ie,S]=o.useState(""),[de,C]=o.useState(j.PRIMARY),[g,E]=o.useState(!1),[_,le]=o.useState(!1),[r,D]=o.useState({staticMasterType:{name:""},name:"",code:"",description:"",createdFrom:"",createdTo:"",updatedFrom:"",updatedTo:"",isActive:"",createdBy:{name:"",id:""},updatedBy:{name:"",id:""}}),[d,x]=o.useState({limit:10,loading:!1,totalRecords:0,start:0,search:"",runCustomQuery:!1,records:[]}),X=o.useRef(null),[Te,Se]=o.useState([{items:[{label:"Activate",className:""},{label:"Deactivate",className:""}]}]),Ce=(e,s)=>{var k;console.log("rowData=",e);const i={label:"label.common.deactivate",command:()=>{Ye(e)}},n={label:"label.common.active",command:()=>{Re(e)}},l=[{items:[e!=null&&e.isActive?i:n]}];Se(l),(k=X==null?void 0:X.current)==null||k.toggle(s)},[Z,Ee]=o.useState([]),[be,Be]=o.useState(),c=o.useRef(null);o.useEffect(()=>{var e;(e=c==null?void 0:c.current)==null||e.search()},[d==null?void 0:d.search]),o.useEffect(()=>{var e;P!=null&&P.current&&ie!==""&&((e=P==null?void 0:P.current)==null||e.showFunction())},[ie,de,g]);const Ie=e=>{const{name:s,value:i}=e.target;D(typeof i=="object"?n=>({...n,[s]:i.name}):n=>({...n,[s]:i}))},me=e=>{const{name:s,value:i}=e.target;D(typeof i=="object"?n=>({...n,[s]:{name:`${i==null?void 0:i.name} ${i!=null&&i.lastName?i==null?void 0:i.lastName:""}`.trim(),id:i.userId}}):n=>({...n,[s]:i}))},Q=e=>{const{name:s,value:i}=e.target;D(n=>({...n,[s]:i}))},Me=e=>{let s="";L||L==null?s='sort={"name":"ASC"}&':s='sort={"name":"DESC"}&',L==null?u(!1):u(!L),v(void 0),p(void 0),T(void 0),y(void 0),f(void 0),A(void 0),h(void 0),x({...d,search:s})},Re=e=>{ce({...e}),O(!0),le(!0)},Ye=e=>{ce({...e}),F(!0),le(!1)},Fe=e=>{let s="";H||H==null?s='sort={"code":"ASC"}&':s='sort={"code":"DESC"}&',H==null?v(!1):v(!H),x({...d,search:s}),u(void 0),h(void 0),p(void 0),T(void 0),y(void 0),f(void 0),A(void 0)},Oe=e=>{let s="";V||V==null?s='sort={"description":"ASC"}&':s='description={"name":"DESC"}&',V==null?h(!1):h(!V),x({...d,search:s}),u(void 0),v(void 0),p(void 0),T(void 0),y(void 0),f(void 0),A(void 0)},$e=e=>{let s="";$||$==null?s='sort={"createdAt":"ASC"}&':s='sort={"createdAt":"DESC"}&',$==null?p(!1):p(!$),u(void 0),v(void 0),h(void 0),T(void 0),y(void 0),f(void 0),A(void 0),x({...d,search:s})},Pe=e=>{let s="";G||G==null?s='sort={"createdBy":"ASC"}&':s='sort={"createdBy":"DESC"}&',G==null?T(!1):p(!$),u(void 0),v(void 0),h(void 0),p(void 0),y(void 0),f(void 0),A(void 0),x({...d,search:s})},_e=e=>{let s="";J||J==null?s='sort={"updatedAt":"ASC"}&':s='sort={"updatedAt":"DESC"}&',J==null?f(!1):f(!J),u(void 0),v(void 0),h(void 0),p(void 0),y(void 0),T(void 0),A(void 0),x({...d,search:s})},ke=e=>{let s="";K||K==null?s='sort={"isActive":"ASC"}&':s='sort={"isActive":"DESC"}&',K==null?y(!1):y(!0),u(void 0),v(void 0),h(void 0),p(void 0),f(void 0),T(void 0),A(void 0),x({...d,search:s})},Ue=e=>{let s="";q||q==null?s='sort={"updatedBy":"ASC"}&':s='sort={"updatedBy":"DESC"}&',q==null?A(!1):A(!q),u(void 0),v(void 0),h(void 0),p(void 0),f(void 0),T(void 0),y(void 0),x({...d,search:s})},Le=()=>z.Inactivate(a==null?void 0:a.uid).then(e=>{var s;C(j.PRIMARY),S(w.DEACTIVATED),E(!g),F(!1),O(!1),(s=c==null?void 0:c.current)==null||s.search()}).catch(e=>{C(j.QUATERNARY),S(ee(e)),E(!g)}),He=()=>z.activate(a==null?void 0:a.uid).then(e=>{var s;C(j.PRIMARY),S(w.ACTIVATED),E(!g),F(!1),O(!1),(s=c==null?void 0:c.current)==null||s.search()}).catch(e=>{C(j.QUATERNARY),S(ee(e)),E(!g)}),Ve=()=>{var n;const e={staticMasterType:(n=a==null?void 0:a.staticMasterType)==null?void 0:n.name,name:a==null?void 0:a.name,code:a.code,reason:a.reason,description:a.description,createdAt:a.createdAt,createdBy:a.createdBy,id:a.id,isActive:!1,requestId:a.requestId,uid:a.uid,updatedAt:a.updatedAt,updatedBy:a.updatedBy},s={...e,isActive:!0},i={name:a.displayName,operationType:ue.UPDATE,entity:ve.STATIC_MASTER_DATA,initialStateJson:te(e),finalStateJson:te(s),reasonForChange:a.reasons};return z.update(a==null?void 0:a.uid,i).then(m=>{var l;C(j.PRIMARY),S(w.SENT_FOR_APPROVAL),E(!g),F(!1),O(!1),(l=c==null?void 0:c.current)==null||l.search()}).catch(m=>{C(j.QUATERNARY),S(ee(m)),E(!g)})},Je=()=>{var n;const e={staticMasterType:(n=a==null?void 0:a.staticMasterType)==null?void 0:n.name,name:a==null?void 0:a.name,code:a.code,reason:a.reason,description:a.description,createdAt:a.createdAt,createdBy:a.createdBy,id:a.id,isActive:!0,requestId:a.requestId,uid:a.uid,updatedAt:a.updatedAt,updatedBy:a.updatedBy},s={...e,isActive:!1},i={name:a.displayName,operationType:ue.UPDATE,entity:ve.STATIC_MASTER_DATA,initialStateJson:te(e),finalStateJson:te(s),reasonForChange:a.reasons};return z.update(a==null?void 0:a.uid,i).then(m=>{var l;C(j.PRIMARY),S(w.SENT_FOR_APPROVAL),E(!g),F(!1),O(!1),(l=c==null?void 0:c.current)==null||l.search()}).catch(m=>{C(j.QUATERNARY),S(ee(m)),E(!g)})},qe=async e=>{let s=[];e.query.trim().length?(await z.getAll(0,10,`name:lk=${e.query}&`).then(i=>{i.status===200&&(s=[...i.data.results])}),s.length===0&&s.push({name:void 0,designation:void 0,emailId:void 0})):s=Z,Be(s)},pe=async e=>{let s=[];e.query.trim().length?(await yt.getAll(0,10,`name=${e.query}&`).then(i=>{i.status===200&&(s=[...i.data])}),s.length===0&&s.push({name:void 0,designation:void 0,emailId:void 0})):s=Z,Ee(s)},De=()=>{var s,i,n,m,l,k;let e="";if((s=r==null?void 0:r.staticMasterType)!=null&&s.name&&(e=`${e}staticMasterType.name:lk=${(i=r==null?void 0:r.staticMasterType)==null?void 0:i.name}&`),r.name&&(e=`${e}name:lk=${r.name}&`),r.code&&(e=`${e}code:lk=${r.code}&`),r.description&&(e=`${e}description:lk=${r.description}&`),r.createdFrom&&(console.log(r.createdFrom),e=`${e}createdAt:gt=${se(r.createdFrom)}&`),r.createdTo&&(e=`${e}createdAt:lt=${se(r.createdTo)}&`),r.updatedFrom&&(e=`${e}updatedAt:gt=${se(r.updatedFrom)}&`),r.updatedTo&&(e=`${e}updatedAt:lt=${se(r.updatedTo)}&`),r.isActive){let W=!0;r.isActive==="YES"?W=!0:r.isActive==="NO"&&(W=!1),e=`${e}isActive:lk=${W}&`}(n=r.createdBy)!=null&&n.id&&(e=`${e}&createdBy=${(m=r.createdBy)==null?void 0:m.id}&`),(l=r.updatedBy)!=null&&l.id&&(e=`${e}&updatedBy=${(k=r.updatedBy)==null?void 0:k.id}&`),x({...d,search:e})},Qe=()=>{D({staticMasterType:{name:""},name:"",code:"",description:"",createdFrom:"",createdTo:"",updatedFrom:"",updatedTo:"",isActive:"",createdBy:{name:"",id:""},updatedBy:{name:"",id:""}}),x({...d,search:""})},ze=()=>{ge(!ne)},Ge=()=>{oe.navigate(`${he}?mode=${fe.CREATE}`)},Ke=()=>{const{name:e,code:s,description:i,createdFrom:n,createdTo:m,updatedFrom:l,updatedTo:k,isActive:W,createdBy:ut,updatedBy:vt}=r;return t.jsx(t.Fragment,{children:t.jsxs("div",{className:"p-3 flex flex-col gap-6 bg-primary-sapphireBlue-100 rounded-lg",children:[t.jsx("div",{className:"flex ",children:t.jsx(Ct,{title:"text.masterData.types.search"})}),t.jsxs("div",{className:" grid grid-cols-1 md:grid-cols-4 gap-3",children:[t.jsx(re,{label:"input.state.displayName",name:"name",variant:U.PRIMARY,value:e,suggestions:be,completeMethod:qe,onChange:Ie,itemTemplate:We}),t.jsx(Nt,{label:"input.state.description",name:"description",variant:U.SECONDARY,onChange:Q,value:i}),t.jsx(Et,{label:"input.state.isActive",name:"isActive",variant:ft.SECONDARY,options:At,onChange:Q,value:W}),t.jsx(ae,{label:"input.state.createdFrom",name:"createdFrom",showTime:!0,value:n,placeholder:"MM/DD/YYYY",onChange:Q}),t.jsx(ae,{showTime:!0,label:"input.state.createdTo",name:"createdTo",variant:U.PRIMARY,value:m,placeholder:"MM/DD/YYYY",onChange:Q}),t.jsx(re,{label:"input.state.createdBy",name:"createdBy",field:"name",value:ut,variant:U.PRIMARY,suggestions:Z,completeMethod:pe,onChange:me,itemTemplate:xe}),t.jsx(ae,{showTime:!0,label:"input.state.updatedFrom",name:"updatedFrom",variant:U.PRIMARY,value:l,placeholder:"MM/DD/YYYY",onChange:Q}),t.jsx(ae,{showTime:!0,label:"input.state.updatedTo",name:"updatedTo",variant:U.PRIMARY,value:k,placeholder:"MM/DD/YYYY",onChange:Q}),t.jsx(re,{field:"name",label:"input.state.updatedBy",name:"updatedBy",variant:U.PRIMARY,value:vt,suggestions:Z,completeMethod:pe,onChange:me,itemTemplate:xe}),t.jsxs("div",{className:"flex gap-5",children:[t.jsx(Y,{buttonType:B.RESET_OUTLINE,onClick:Qe}),t.jsx(Y,{buttonType:B.SEARCH_OUTLINE,onClick:De})]})]})]})})},We=e=>(e==null?void 0:e.name)===void 0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-39",children:[t.jsx("img",{src:Ae,alt:"search-icon",className:" h-7 w-7"}),t.jsx(b,{className:"text-primary-labelColor mt-2",label:"Loading..."})]}):t.jsxs("div",{className:"flex flex-col",children:[t.jsx(b,{className:"text-primary-labelColor",label:`${e.name}`}),t.jsx(b,{className:"text-secondary-gray-500 text-xxs",label:e.code})]}),xe=e=>e.name===void 0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-39",children:[t.jsx("img",{src:Ae,alt:"search-icon",className:" h-7 w-7"}),t.jsx(b,{className:"text-primary-labelColor mt-2",label:"Loading..."})]}):t.jsx("div",{className:"flex flex-col",children:t.jsx(b,{className:"text-primary-labelColor",label:`${e.name}`})}),Xe=e=>t.jsx(t.Fragment,{children:t.jsx("div",{className:"text-primary-ptext-900 font-BrownLight text-left",children:e==null?void 0:e.name})}),Ze=()=>t.jsxs("div",{className:"flex",children:[t.jsx("p",{className:"mr-1",children:"Display Name"}),t.jsx("img",{src:L==null?I:L==!0?M:R,alt:"Sort Icon",onClick:Me,className:"cursor-pointer"})]}),we=()=>t.jsxs("div",{className:"flex",children:[t.jsx("p",{className:"mr-1",children:"System Code"}),t.jsx("img",{src:H==null?I:H==!0?M:R,alt:"Sort Icon",onClick:Fe,className:"cursor-pointer"})]}),et=()=>t.jsxs("div",{className:"flex",children:[t.jsx("p",{className:"mr-1",children:"Description"}),t.jsx("img",{src:V==null?I:V==!0?M:R,alt:"Sort Icon",onClick:Oe,className:"cursor-pointer"})]}),tt=()=>t.jsxs("div",{className:"flex",children:[t.jsx("p",{className:"mr-1",children:"Created On"}),t.jsx("img",{src:$==null?I:$==!0?M:R,alt:"Sort Icon",onClick:$e,className:"cursor-pointer"})]}),st=()=>t.jsxs("div",{className:"flex",children:[t.jsx("p",{className:"mr-1",children:"Created By"}),t.jsx("img",{src:G==null?I:G==!0?M:R,alt:"Sort Icon",onClick:Pe,className:"cursor-pointer"})]}),at=()=>t.jsxs("div",{className:"flex",children:[t.jsx("p",{className:"mr-1",children:"Updated On"}),t.jsx("img",{src:J==null?I:J==!0?M:R,alt:"Sort Icon",onClick:_e,className:"cursor-pointer"})]}),it=()=>t.jsxs("div",{className:"flex",children:[t.jsx("p",{className:"mr-1",children:"Updated By"}),t.jsx("img",{src:q==null?I:q==!0?M:R,alt:"Sort Icon",onClick:Ue,className:"cursor-pointer"})]}),rt=()=>t.jsxs("div",{className:"flex",children:[t.jsx("p",{className:"mr-1",children:"Is Active"}),t.jsx("img",{src:K==null?I:K==!0?M:R,alt:"Sort Icon",onClick:ke,className:"cursor-pointer"})]}),ot=e=>t.jsx(t.Fragment,{children:t.jsx("div",{className:"text-primary-ptext-900 font-BrownLight text-left",children:e==null?void 0:e.code})}),nt=e=>t.jsx(t.Fragment,{children:t.jsx("div",{className:"text-primary-ptext-900 font-BrownLight text-left",children:e==null?void 0:e.description})}),ct=e=>t.jsx(t.Fragment,{children:t.jsx("div",{className:"text-primary-ptext-900 font-BrownLight text-left",children:`${ye(e==null?void 0:e.createdAt)}`})}),dt=e=>t.jsx(t.Fragment,{children:t.jsx("div",{className:"text-primary-ptext-900 font-BrownLight text-left",children:e==null?void 0:e.createdByUserName})}),lt=e=>t.jsx("div",{className:"text-primary-ptext-900 font-BrownLight text-left",children:`${ye(e==null?void 0:e.updatedAt)}`}),mt=e=>t.jsx(t.Fragment,{children:t.jsx("div",{className:"text-primary-ptext-900 font-BrownLight text-left",children:e==null?void 0:e.updatedByUserName})}),pt=e=>t.jsx(t.Fragment,{children:e!=null&&e.isActive?t.jsxs("div",{className:"flex items-center ",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-primaryBlue border-none"}),t.jsx("div",{className:"ml-2 ",children:"YES"})]}):t.jsxs("div",{className:"flex items-center ",children:[t.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary-gray-300 border-none"}),t.jsx("div",{className:"ml-2 ",children:"NO"})]})}),xt=e=>t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex items-center ",children:[t.jsx("div",{className:"w-4 h-4 flex items-center",children:t.jsx("img",{src:gt,alt:"Sahayya Logo",className:"cursor-pointer",onClick:s=>{oe.navigate(`${he}?mode=${fe.VIEW}&uid=${e==null?void 0:e.uid}`)}})}),t.jsx("div",{className:"ml ",children:t.jsx(Y,{buttonType:B.MENU,onClick:s=>{Ce(e,s)},className:"!rounded-none bg-transparent !hover:bg-primary-gray-300"})})]})});return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-col gap-3",children:[t.jsxs("div",{className:"flex w-full justify-between items-center",children:[t.jsx(b,{label:"heading.state",className:"text-primary-ptext-1000 text-h2 font-bold flex"}),t.jsxs("div",{className:"flex gap-10",children:[t.jsx(Y,{buttonType:B.FILTER_OUTLINE,onClick:ze}),t.jsx(Y,{buttonType:B.CREATE,className:"create-button",onClick:Ge})]})]}),ne&&Ke(),t.jsxs(St,{standardDataFormatPromise:z.getAll,dataKey:"id",search:d.search,ref:c,children:[t.jsx(N,{className:"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6",header:Ze,body:Xe}),t.jsx(N,{className:"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6",header:we,body:ot}),t.jsx(N,{className:"text-primary-ptext-1000 text-left text-xs w-1/12  p-1 h-12 pl-6",header:et,body:nt}),t.jsx(N,{className:"text-primary-ptext-1000 text-left text-xs p-1 h-12 pl-6",header:rt,body:pt}),t.jsx(N,{className:"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6",header:tt,body:ct}),t.jsx(N,{className:"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6",header:st,body:dt}),t.jsx(N,{className:"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6",header:at,body:lt}),t.jsx(N,{className:"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6",header:it,body:mt}),t.jsx(N,{className:"text-primary-ptext-1000 text-left text-xs p-1 h-12 pl-6",header:"Actions",body:xt})]})]}),t.jsxs(jt,{onHide:_?()=>O(!1):()=>F(!1),visible:_?Ne:je,modal:!0,closable:!1,dismissableMask:!0,children:[t.jsx(b,{label:_?"dialog.staticMaster.activate":"dialog.staticMaster.deactivate",className:"text-primary-ptext-1000 text-base font-Roboto font-bold flex items-center justify-center"}),t.jsx(b,{label:_?"dialog.staticMaster.message.activate":"dialog.staticMaster.message",className:"text-primary-ptext-1000 text-xs font-Roboto flex mt text-center justify-center mx-2 mt-4"}),t.jsxs("div",{className:"flex justify-center mt-4",children:[t.jsx("div",{className:"mr-3",children:t.jsx(Y,{buttonType:B.CANCEL_OUTLINE,onClick:_?()=>O(!1):()=>F(!1)})}),t.jsx("div",{className:"mr-3",children:t.jsx(Y,{buttonType:B.SAVE_OUTLINE,onClick:_?()=>He():()=>Le()})}),t.jsx("div",{className:"",children:t.jsx(Y,{buttonType:B.SEND_FOR_APPROVAL,className:"approve-primary",onClick:_?()=>Ve():()=>Je()})})]})]}),t.jsx(Tt,{className:"w-20 bg-white font-Roboto text-xs text-primary-pText-1300 pt-2 rounded-lg mt-0.5 flex justify-center align-center shadow-autoCompletePanel",model:Te,ref:X}),t.jsx("div",{className:"",children:t.jsx(bt,{position:"bottom-right",ref:P,toastText:ie,variant:de})})]})}const Zt=ht(Bt);export{Zt as default};
//# sourceMappingURL=PageState-8245ed51.js.map
