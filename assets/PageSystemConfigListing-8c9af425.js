import{w as mt,r as i,aG as g,j as e,T as Q,J as D,aH as Z,ao as ee,aI as ue,aJ as ve,aK as k,cp as he,aF as fe,o as I,az as pt,aM as xt,av as ut,p as Ae,z as vt,aN as te}from"./index-e8217573.js";import{s as M,a as b,b as B}from"./sortIcon-54357a29.js";import{e as ht}from"./eye_icon-081bddb3.js";import{A as ye}from"./AutoComplete-0bca608a.js";import{B as R}from"./ButtonBox-9e46519a.js";import{D as se}from"./DatePicker-b1c13861.js";import{D as ft}from"./Dialog-adadaf64.js";import{I as ie}from"./InputBox-b9e88f52.js";import{M as At}from"./MenuBox-defc36b0.js";import{R as yt}from"./ReadOnlyTable-86accb69.js";import{S as Nt}from"./SectionTitle-9f9277ec.js";import{S as gt}from"./SimpleDropDown-061a3470.js";import{T as jt}from"./Toast-ae99ea5b.js";import{C as j}from"./column.esm-938bad7d.js";import{S as q}from"./SystemConfig-ceba820c.js";import"./search_icon-459d6871.js";import"./withAuth-6de36ebf.js";import"./virtualscroller.esm-9939945c.js";import"./kebab-menu-8835ad2e.js";import"./No_data-1720c54e.js";import"./datatable.esm-f474a654.js";import"./paginator.esm-11c2c115.js";import"./TransitionGroup-c8afe0ce.js";function Ct(oe){const[ne,Ne]=i.useState(!1),[ge,Y]=i.useState(!1),[je,O]=i.useState(!1),[c,ce]=i.useState({}),[U,p]=i.useState(void 0),[_,x]=i.useState(void 0),[L,u]=i.useState(void 0),[V,v]=i.useState(void 0),[G,h]=i.useState(void 0),[z,f]=i.useState(void 0),[H,A]=i.useState(void 0),[K,y]=i.useState(void 0),F=i.useRef(null),[ae,C]=i.useState(""),[de,S]=i.useState(g.PRIMARY),[N,T]=i.useState(!1),[P,le]=i.useState(!1),[a,W]=i.useState({staticMasterType:{name:""},name:"",code:"",description:"",createdFrom:"",createdTo:"",updatedFrom:"",updatedTo:"",isActive:"",createdBy:{name:"",id:""},updatedBy:{name:"",id:""}});i.useState({title:"",id:"",userId:"",completed:"",concept:"",application:"",emailId:""});const[d,m]=i.useState({limit:10,loading:!1,totalRecords:0,start:0,search:"",runCustomQuery:!1,records:[]}),X=i.useRef(null),[Ce,Se]=i.useState([{items:[{label:"Activate",className:""},{label:"Deactivate",className:""}]}]),Te=(t,s)=>{var $;console.log("rowData=",t);const r={label:"label.common.deactivate",command:()=>{Ie(t)}},o={label:"label.common.active",command:()=>{De(t)}},w=[{items:[t.isActive?r:o]}];Se(w),($=X==null?void 0:X.current)==null||$.toggle(s)},[re,Ee]=i.useState([]);i.useState();const n=i.useRef(null);i.useEffect(()=>{var t;(t=n==null?void 0:n.current)==null||t.search()},[d==null?void 0:d.search]),i.useEffect(()=>{var t;F!=null&&F.current&&ae!==""&&((t=F==null?void 0:F.current)==null||t.showFunction())},[ae,de,N]);const me=t=>{const{name:s,value:r}=t.target;W(typeof r=="object"?o=>({...o,[s]:{name:`${r==null?void 0:r.name} ${r!=null&&r.lastName?r==null?void 0:r.lastName:""}`.trim(),id:r.userId}}):o=>({...o,[s]:r}))},E=t=>{const{name:s,value:r}=t.target;W(o=>({...o,[s]:r}))},De=t=>{ce({...t}),O(!0),le(!0)},Ie=t=>{ce({...t}),Y(!0),le(!1)},Me=t=>{let s="";U||U==null?(s='sort={"name":"DESC"}&',p(!1)):(s='sort={"name":"ASC"}&',p(!U)),x(void 0),v(void 0),h(void 0),y(void 0),f(void 0),A(void 0),u(void 0),m({...d,search:s})},be=t=>{let s="";_||_==null?(s='sort={"code":"DESC"}&',x(!1)):(s='sort={"code":"ASC"}&',x(!_)),m({...d,search:s}),p(void 0),u(void 0),v(void 0),h(void 0),y(void 0),f(void 0),A(void 0)},Be=t=>{let s="";L||L==null?(s='sort={"description":"DESC"}&',u(!1)):(s='sort={"description":"ASC"}&',u(!L)),m({...d,search:s}),p(void 0),x(void 0),v(void 0),h(void 0),y(void 0),f(void 0),A(void 0)},Re=t=>{let s="";V||V==null?(s='sort={"createdAt":"DESC"}&',v(!1)):(s='sort={"createdAt":"ASC"}&',v(!V)),p(void 0),x(void 0),u(void 0),h(void 0),y(void 0),f(void 0),A(void 0),m({...d,search:s})},Ye=t=>{let s="";G||G==null?(s='sort={"createdBy":"DESC"}&',h(!1)):(s='sort={"createdBy":"ASC"}&',h(!0)),p(void 0),x(void 0),u(void 0),v(void 0),y(void 0),f(void 0),A(void 0),m({...d,search:s})},Oe=t=>{let s="";z||z==null?(s='sort={"updatedAt":"DESC"}&',f(!1)):(s='sort={"updatedAt":"ASC"}&',f(!0)),p(void 0),x(void 0),u(void 0),v(void 0),y(void 0),h(void 0),A(void 0),m({...d,search:s})},Fe=t=>{let s="";K||K==null?(s='sort={"isActive":"DESC"}&',y(!1)):(s='sort={"isActive":"ASC"}&',y(!0)),p(void 0),x(void 0),u(void 0),v(void 0),f(void 0),h(void 0),A(void 0),m({...d,search:s})},Pe=t=>{let s="";H||H==null?(s='sort={"updatedBy":"DESC"}&',A(!1)):(s='sort={"updatedBy":"ASC"}&',A(!H)),p(void 0),x(void 0),u(void 0),v(void 0),f(void 0),h(void 0),y(void 0),m({...d,search:s})},$e=()=>({...c},q.Inactivate(c==null?void 0:c.uid).then(t=>{var s;S(g.PRIMARY),C(Z.DEACTIVATED),T(!N),Y(!1),O(!1),(s=n==null?void 0:n.current)==null||s.search()}).catch(t=>{S(g.QUATERNARY),C(ee(t)),T(!N)})),we=()=>({...c},q.activate(c==null?void 0:c.uid).then(t=>{var s;S(g.PRIMARY),C(Z.ACTIVATED),T(!N),Y(!1),O(!1),(s=n==null?void 0:n.current)==null||s.search()}).catch(t=>{S(g.QUATERNARY),C(ee(t)),T(!N)})),ke=()=>{const t={...c},s={...t,isActive:!0},r={uid:c.uid,name:c.name,operationType:ue.ACTIVE,entity:ve.SYSTEM_CONFIGURATION,initialStateJson:k(t),finalStateJson:k(s),reasonForChange:"Activate",reqPayload:k(s)};return q.approve(r).then(o=>{var l;S(g.PRIMARY),C(Z.SENT_FOR_APPROVAL),T(!N),Y(!1),O(!1),(l=n==null?void 0:n.current)==null||l.search()}).catch(o=>{S(g.QUATERNARY),C(ee(o)),T(!N)})},Ue=()=>{const t={...c},s={...t,isActive:!1},r={uid:c.uid,name:c.name,operationType:ue.INACTIVE,entity:ve.SYSTEM_CONFIGURATION,initialStateJson:k(t),finalStateJson:k(s),reasonForChange:"Deactivate",reqPayload:k(s)};return q.approve(r).then(o=>{var l;S(g.PRIMARY),C(Z.SENT_FOR_APPROVAL),T(!N),Y(!1),O(!1),(l=n==null?void 0:n.current)==null||l.search()}).catch(o=>{S(g.QUATERNARY),C(ee(o)),T(!N)})},pe=async t=>{let s=[];t.query.trim().length?(await vt.getAll(0,10,`name=${t.query}&`).then(r=>{r.status===200&&(s=[...r.data])}),s.length===0&&s.push({name:void 0,designation:void 0,emailId:void 0})):s=re,Ee(s)},_e=()=>{var s,r,o,l,w,$;let t="";if((s=a==null?void 0:a.staticMasterType)!=null&&s.name&&(t=`${t}staticMasterType.name:lk=${(r=a==null?void 0:a.staticMasterType)==null?void 0:r.name}&`),a.name&&(t=`${t}name:lk=${a.name}&`),a.code&&(t=`${t}code:lk=${a.code}&`),a.description&&(t=`${t}description:lk=${a.description}&`),a.createdFrom&&(console.log(a.createdFrom),t=`${t}createdAt:gt=${te(a.createdFrom)}&`),a.createdTo&&(t=`${t}createdAt:lt=${te(a.createdTo)}&`),a.updatedFrom&&(t=`${t}updatedAt:gt=${te(a.updatedFrom)}&`),a.updatedTo&&(t=`${t}updatedAt:lt=${te(a.updatedTo)}&`),a.isActive){let J=!0;a.isActive==="YES"?J=!0:a.isActive==="NO"&&(J=!1),t=`${t}isActive:lk=${J}&`}(o=a.createdBy)!=null&&o.id&&(t=`${t}&createdBy=${(l=a.createdBy)==null?void 0:l.id}&`),(w=a.updatedBy)!=null&&w.id&&(t=`${t}&updatedBy=${($=a.updatedBy)==null?void 0:$.id}&`),m({...d,search:t})},Le=()=>{W({staticMasterType:{name:""},name:"",code:"",description:"",createdFrom:"",createdTo:"",updatedFrom:"",updatedTo:"",isActive:"",createdBy:{name:"",id:""},updatedBy:{name:"",id:""}}),m({...d,search:""})},Ve=()=>{Ne(!ne)},He=()=>{oe.navigate(`${he}?mode=${fe.CREATE}`)},Je=()=>{const{name:t,code:s,description:r,createdFrom:o,createdTo:l,updatedFrom:w,updatedTo:$,isActive:J,createdBy:dt,updatedBy:lt}=a;return e.jsx(e.Fragment,{children:e.jsxs("div",{className:"p-3 flex flex-col gap-6 bg-primary-sapphireBlue-100 rounded-lg",children:[e.jsx("div",{className:"flex ",children:e.jsx(Nt,{title:"text.masterData.types.search"})}),e.jsxs("div",{className:" grid grid-cols-1 md:grid-cols-4 gap-3",children:[e.jsx(ie,{label:"input.masterData.staticMaster.displayNameNoMandatory",name:"name",variant:I.SECONDARY,onChange:E,value:t}),e.jsx(ie,{label:"input.masterData.staticMaster.systemCodeNoMandatory",name:"code",variant:I.SECONDARY,onChange:E,value:s}),e.jsx(ie,{label:"input.masterData.staticMaster.description",name:"description",variant:I.SECONDARY,onChange:E,value:r}),e.jsx(gt,{label:"input.masterData.staticMaster.isActive",name:"isActive",variant:pt.SECONDARY,options:xt,onChange:E,value:J}),e.jsx(se,{label:"input.masterData.staticMaster.createdFrom",name:"createdFrom",showTime:!0,value:o,placeholder:"DD-MMM-YYYY",onChange:E}),e.jsx(se,{showTime:!0,label:"input.masterData.staticMaster.createdTo",name:"createdTo",variant:I.PRIMARY,value:l,placeholder:"DD-MMM-YYYY",onChange:E}),e.jsx(ye,{label:"input.masterData.staticMaster.createdBy",name:"createdBy",field:"name",value:dt,variant:I.PRIMARY,suggestions:re,completeMethod:pe,onChange:me,itemTemplate:xe}),e.jsx(se,{showTime:!0,label:"input.masterData.staticMaster.updatedFrom",name:"updatedFrom",variant:I.PRIMARY,value:w,placeholder:"DD-MMM-YYYY",onChange:E}),e.jsx(se,{showTime:!0,label:"input.masterData.staticMaster.updatedTo",name:"updatedTo",variant:I.PRIMARY,value:$,placeholder:"DD-MMM-YYYY",onChange:E}),e.jsx(ye,{field:"name",label:"input.masterData.staticMaster.updatedBy",name:"updatedBy",variant:I.PRIMARY,value:lt,suggestions:re,completeMethod:pe,onChange:me,itemTemplate:xe}),e.jsxs("div",{className:"flex gap-5",children:[e.jsx(R,{buttonType:D.RESET_OUTLINE,onClick:Le}),e.jsx(R,{buttonType:D.SEARCH_OUTLINE,onClick:_e})]})]})]})})},xe=t=>t.name===void 0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-39",children:[e.jsx("img",{src:ut,alt:"search-icon",className:" h-7 w-7"}),e.jsx(Q,{className:"text-primary-labelColor mt-2",label:"Loading..."})]}):e.jsx("div",{className:"flex flex-col",children:e.jsx(Q,{className:"text-primary-labelColor",label:`${t.name}`})}),Qe=t=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-primary-ptext-900 font-BrownLight text-left",children:t.name})}),qe=()=>e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:"mr-1",children:"Display Name"}),e.jsx("img",{src:U==null?M:U==!0?b:B,alt:"Sort Icon",onClick:Me,className:"cursor-pointer"})]}),Ge=()=>e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:"mr-1",children:"System Code"}),e.jsx("img",{src:_==null?M:_==!0?b:B,alt:"Sort Icon",onClick:be,className:"cursor-pointer"})]}),ze=()=>e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:"mr-1",children:"Description"}),e.jsx("img",{src:L==null?M:L==!0?b:B,alt:"Sort Icon",onClick:Be,className:"cursor-pointer"})]}),Ke=()=>e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:"mr-1",children:"Created On"}),e.jsx("img",{src:V==null?M:V==!0?b:B,alt:"Sort Icon",onClick:Re,className:"cursor-pointer"})]}),We=()=>e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:"mr-1",children:"Created By"}),e.jsx("img",{src:G==null?M:G==!0?b:B,alt:"Sort Icon",onClick:Ye,className:"cursor-pointer"})]}),Xe=()=>e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:"mr-1",children:"Updated On"}),e.jsx("img",{src:z==null?M:z==!0?b:B,alt:"Sort Icon",onClick:Oe,className:"cursor-pointer"})]}),Ze=()=>e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:"mr-1",children:"Updated By"}),e.jsx("img",{src:H==null?M:H==!0?b:B,alt:"Sort Icon",onClick:Pe,className:"cursor-pointer"})]}),et=()=>e.jsxs("div",{className:"flex",children:[e.jsx("p",{className:"mr-1",children:"Is Active"}),e.jsx("img",{src:K==null?M:K==!0?b:B,alt:"Sort Icon",onClick:Fe,className:"cursor-pointer"})]}),tt=t=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-primary-ptext-900 font-BrownLight text-left",children:t.code})}),st=t=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-primary-ptext-900 font-BrownLight text-left",children:t.description})}),at=t=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-primary-ptext-900 font-BrownLight text-left",children:`${Ae(t.createdAt)}`})}),rt=t=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-primary-ptext-900 font-BrownLight text-left",children:t.createdByUserName})}),it=t=>e.jsx("div",{className:"text-primary-ptext-900 font-BrownLight text-left",children:`${Ae(t.updatedAt)}`}),ot=t=>e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-primary-ptext-900 font-BrownLight text-left",children:t.updatedByUserName})}),nt=t=>e.jsx(e.Fragment,{children:t.isActive?e.jsxs("div",{className:"flex items-center ",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary-primaryBlue border-none"}),e.jsx("div",{className:"ml-2 ",children:"YES"})]}):e.jsxs("div",{className:"flex items-center ",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary-gray-300 border-none"}),e.jsx("div",{className:"ml-2 ",children:"NO"})]})}),ct=t=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex items-center ",children:[e.jsx("div",{className:"w-4 h-4 flex items-center",children:e.jsx("img",{src:ht,alt:"Sahayya Logo",className:"cursor-pointer",onClick:s=>{oe.navigate(`${he}?mode=${fe.VIEW}&uid=${t.uid}`)}})}),e.jsx("div",{className:"ml ",children:e.jsx(R,{buttonType:D.MENU,onClick:s=>{Te(t,s)},className:"!rounded-none bg-transparent !hover:bg-primary-gray-300"})})]})});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex flex-col gap-3",children:[e.jsxs("div",{className:"flex w-full justify-between items-center",children:[e.jsx(Q,{label:"heading.systemConfiguration",className:"text-primary-ptext-1000 text-h2 font-bold flex"}),e.jsxs("div",{className:"flex gap-10",children:[e.jsx(R,{buttonType:D.FILTER_OUTLINE,onClick:Ve}),e.jsx(R,{buttonType:D.CREATE,className:"create-button",onClick:He})]})]}),ne&&Je(),e.jsxs(yt,{standardDataFormatPromise:q.getAll,dataKey:"id",search:d.search,ref:n,children:[e.jsx(j,{className:"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6",header:qe,body:Qe}),e.jsx(j,{className:"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6",header:Ge,body:tt}),e.jsx(j,{className:"text-primary-ptext-1000 text-left text-xs w-1/12  p-1 h-12 pl-6",header:ze,body:st}),e.jsx(j,{className:"text-primary-ptext-1000 text-left text-xs p-1 h-12 pl-6",header:et,body:nt}),e.jsx(j,{className:"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6",header:Ke,body:at}),e.jsx(j,{className:"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6",header:We,body:rt}),e.jsx(j,{className:"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6",header:Xe,body:it}),e.jsx(j,{className:"text-primary-ptext-1000 text-left text-xs  p-1 h-12 pl-6",header:Ze,body:ot}),e.jsx(j,{className:"text-primary-ptext-1000 text-left text-xs p-1 h-12 pl-6",header:"Actions",body:ct})]})]}),e.jsxs(ft,{onHide:P?()=>O(!1):()=>Y(!1),visible:P?je:ge,modal:!0,closable:!1,dismissableMask:!0,children:[e.jsx(Q,{label:P?"dialog.staticMaster.activate":"dialog.staticMaster.deactivate",className:"text-primary-ptext-1000 text-base font-Roboto font-bold flex items-center justify-center"}),e.jsx(Q,{label:P?"dialog.staticMaster.message.activate":"dialog.staticMaster.message",className:"text-primary-ptext-1000 text-xs font-Roboto flex mt text-center justify-center mx-2 mt-4"}),e.jsxs("div",{className:"flex justify-center mt-4",children:[e.jsx("div",{className:"mr-3",children:e.jsx(R,{buttonType:D.CANCEL_OUTLINE,onClick:P?()=>O(!1):()=>Y(!1)})}),e.jsx("div",{className:"mr-3",children:e.jsx(R,{buttonType:D.SAVE_OUTLINE,onClick:P?()=>we():()=>$e()})}),e.jsx("div",{className:"",children:e.jsx(R,{buttonType:D.SEND_FOR_APPROVAL,className:"approve-primary",onClick:P?()=>ke():()=>Ue()})})]})]}),e.jsx(At,{className:"w-20 bg-white font-Roboto text-xs text-primary-pText-1300 pt-2 rounded-lg mt-0.5 flex justify-center align-center shadow-autoCompletePanel",model:Ce,ref:X}),e.jsx("div",{className:"",children:e.jsx(jt,{position:"bottom-right",ref:F,toastText:ae,variant:de})})]})}const qt=mt(Ct);export{qt as default};
//# sourceMappingURL=PageSystemConfigListing-8c9af425.js.map
