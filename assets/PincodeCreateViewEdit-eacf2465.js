import{w as $,r as o,aF as t,y as f,v as z,aP as O,j as a,J as s,o as d,cE as P}from"./index-e8217573.js";import{B as u}from"./ButtonBox-9e46519a.js";import{I as l}from"./InputBox-b9e88f52.js";import{I as S}from"./InputTextArea-b90aad1d.js";import{P as H}from"./PageTitle-b3bba3d4.js";import{P as Q}from"./Pincode-a7c9b067.js";import"./kebab-menu-8835ad2e.js";import"./withAuth-6de36ebf.js";const X=m=>{const[R,E]=o.useState({pincode:"",latitude:"",longitude:"",city:"",state:"",country:"",description:"",reason:"",isActive:""}),[Z,V]=o.useState({pincode:"",latitude:"",longitude:"",city:"",state:"",country:"",description:"",reason:"",isActive:""}),[n,r]=o.useState(t.CREATE),[aa,D]=o.useState("");o.useRef(null),o.useEffect(()=>{let e=f.parse(m.location.search);e!=null&&e.mode&&(e==null?void 0:e.mode)!==void 0&&r(e.mode)},[]),o.useEffect(()=>{let e=f.parse(m.location.search);e!=null&&e.mode&&(e==null?void 0:e.mode)!==void 0&&r(e.mode),e!=null&&e.uid&&(e==null?void 0:e.uid)!==void 0&&(D(e.uid),Q.findById(e.uid).then(i=>{var p,v,x,h,g,j,C,N,I,T,b,A,y;z(i)&&(console.log(i),(Object.keys(i.data).length>0||i.data.id)&&(E({pincode:((p=i==null?void 0:i.data)==null?void 0:p.pinCode)||"",latitude:((v=i==null?void 0:i.data)==null?void 0:v.latitude)||"",longitude:((x=i==null?void 0:i.data)==null?void 0:x.longitude)||"",city:((g=(h=i==null?void 0:i.data)==null?void 0:h.city)==null?void 0:g.name)||"",state:((N=(C=(j=i==null?void 0:i.data)==null?void 0:j.city)==null?void 0:C.state)==null?void 0:N.name)||"",country:((b=(T=(I=i==null?void 0:i.data)==null?void 0:I.city)==null?void 0:T.state)==null?void 0:b.country)||"",description:((A=i==null?void 0:i.data)==null?void 0:A.description)||"",reason:(i==null?void 0:i.data.reason)||" ",isActive:(y=i==null?void 0:i.data)!=null&&y.isActive?O.ACTIVE:O.INACTIVE}),V({...i==null?void 0:i.data})))}).catch(i=>{}))},[]);const c=e=>{const{name:i,value:p}=e.target;E(v=>({...v,[i]:p}))},k=()=>{},Y=()=>{m.navigate(P)},_=()=>{},W=()=>{m.navigate(P)},w=()=>{r(t.EDIT)},B=()=>{switch(n){case t.CREATE:return"heading.pincode.create";case t.VIEW:return"heading.pincode.view";case t.EDIT:return"heading.pincode.edit";default:return"heading.pincode.create"}},{pincode:L,latitude:U,longitude:F,city:M,state:G,country:q,description:J,reason:K,isActive:ia}=R;return a.jsxs("div",{className:"h-full mx-6",children:[a.jsxs("div",{className:"flex w-full justify-between pt-6 items-center",children:[a.jsx("div",{className:" h-7.5",children:a.jsx(H,{title:B()})}),a.jsx("div",{className:"flex mr-5",children:n===t.CREATE||n===t.EDIT?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mr-5",children:a.jsx(u,{className:"reset-red",buttonType:s.CANCEL_OUTLINE,onClick:Y})}),a.jsx("div",{className:"mr-10",children:a.jsx(u,{buttonType:s.SAVE_OUTLINE,onClick:k})}),a.jsx("div",{children:a.jsx(u,{className:"approve-primary",buttonType:s.SEND_FOR_APPROVAL,onClick:_})})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"mr-5",children:a.jsx(u,{buttonType:s.BACK_OUTLINE,onClick:W})}),a.jsx("div",{className:"",children:a.jsx(u,{buttonType:s.EDIT_OUTLINE,className:"blue-primary",onClick:w})})]})})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[a.jsx("div",{className:"col-span-1",children:a.jsx(l,{label:"input.pincode.pincode",name:"pincode",variant:d.SECONDARY,onChange:c,value:L,disabled:n===t.VIEW})}),a.jsx("div",{className:"col-span-1",children:a.jsx(l,{label:"input.pincode.latitude",name:"latitude",variant:d.SECONDARY,onChange:c,value:U,disabled:n===t.VIEW})}),a.jsx("div",{className:"col-span-1",children:a.jsx(l,{label:"input.pincode.longitude",name:"longitude",variant:d.SECONDARY,onChange:c,value:F,disabled:n===t.VIEW})})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[a.jsx("div",{className:"col-span-1",children:a.jsx(l,{label:"input.pincode.city",name:"state",variant:d.SECONDARY,onChange:c,value:M,disabled:n===t.VIEW})}),a.jsx("div",{className:"col-span-1",children:a.jsx(l,{label:"input.pincode.state",name:"state",variant:d.SECONDARY,onChange:c,value:G,disabled:n===t.VIEW})}),a.jsx("div",{className:"col-span-1",children:a.jsx(l,{label:"input.pincode.country",name:"country",variant:d.SECONDARY,onChange:c,value:q,disabled:n===t.VIEW})})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-3",children:[a.jsx("div",{className:"col-span-2",children:a.jsx(S,{label:"input.pincode.description",name:"description",variant:d.SECONDARY,maxCount:200,onChange:c,value:J,disabled:n===t.VIEW})}),a.jsx("div",{className:"col-span-2",children:a.jsx(S,{label:"input.pincode.reason",name:"reason",variant:d.SECONDARY,maxCount:200,onChange:c,value:K,disabled:n===t.VIEW})})]})]})},ua=$(X);export{ua as default};
//# sourceMappingURL=PincodeCreateViewEdit-eacf2465.js.map
