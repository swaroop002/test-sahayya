{"version":3,"file":"PincodeCreateViewEdit-eacf2465.js","sources":["../../src/views/masterData/Location/Pincode/PincodeCreateViewEdit/PincodeCreateViewEdit.tsx"],"sourcesContent":["import ButtonBox from \"components/ButtonBox/ButtonBox\";\nimport InputBox from \"components/InputBox/InputBox\";\nimport InputTextArea from \"components/InputTextArea/InputTextArea\";\nimport PageTitle from \"components/PageTitle/PageTitle\";\nimport { RouteProps, withRouter } from \"hoc/withRouter\";\nimport queryString from \"query-string\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { linkPincode } from \"routes\";\nimport {\n  ACTIVE_TYPE,\n  BUTTON_TYPE, INPUT_STYLE_TYPE, PAGE_MODE\n} from \"utils/Constant\";\nimport PincodeService from \"services/masterdata/Location/Pincode\";\nimport { validateGetAPIResponse } from \"utils/CommonUtil\";\n\ninterface IProps extends RouteProps {}\n\nconst PincodeCreateViewEdit = (props: IProps) => {\n  /*\n      -------------------------------------------------------\n        States\n      -------------------------------------------------------\n    */\n  const [pageObj, setPageObj] = useState({\n    pincode: \"\",\n    latitude: \"\",\n    longitude: \"\",\n    city: \"\",\n    state: \"\",\n    country: \"\",\n    description: \"\",\n    reason: \"\",\n    isActive: \"\",\n  });\n  const [initialObj, setInitialObj] = useState({\n    pincode: \"\",\n    latitude: \"\",\n    longitude: \"\",\n    city: \"\",\n    state: \"\",\n    country: \"\",\n    description: \"\",\n    reason: \"\",\n    isActive: \"\",\n  });\n  const [pageMode, setPageMode] = useState(PAGE_MODE.CREATE);\n  const [uid, setUid] = useState<String>(\"\");\n  const toastMessageRef = useRef(null);\n\n  /*\n    -------------------------------------------------------\n      Hooks: useEffect\n    -------------------------------------------------------\n  */\n  useEffect(() => {\n    let parsed: {\n      mode?: string;\n    } = queryString.parse(props.location.search);\n    if (parsed?.mode && parsed?.mode !== undefined) {\n      setPageMode(parsed.mode);\n    }\n  }, []);\n\n  useEffect(() => {\n    let parsed: {\n      mode?: string;\n      uid?: string;\n    } = queryString.parse(props.location.search);\n    if (parsed?.mode && parsed?.mode !== undefined) {\n      setPageMode(parsed.mode);\n    }\n    if (parsed?.uid && parsed?.uid !== undefined) {\n      setUid(parsed.uid);\n\n      PincodeService.findById(parsed.uid)\n        .then((res: any) => {\n          if (validateGetAPIResponse(res)) {\n            console.log(res);\n            if (Object.keys(res.data).length > 0 || res.data.id) {\n              setPageObj({\n                pincode: res?.data?.pinCode || \"\",\n                latitude: res?.data?.latitude || \"\",\n                longitude: res?.data?.longitude || \"\",\n                city: res?.data?.city?.name || \"\",\n                state: res?.data?.city?.state?.name || \"\",\n                country: res?.data?.city?.state?.country || \"\",\n                description: res?.data?.description || \"\",\n                reason: res?.data.reason || \" \",\n                isActive: res?.data?.isActive ? ACTIVE_TYPE.ACTIVE : ACTIVE_TYPE.INACTIVE,\n              });\n              setInitialObj({ ...res?.data });\n            }\n          }\n        })\n        .catch((err) => {\n          // IF API fails to load, show the error message\n        });\n    }\n  }, []);\n\n  /*\n    -------------------------------------------------------\n      Handlers: Event handler for onChange, onBlur etc\n    -------------------------------------------------------\n  */\n\n  const handleInputChange = (event: any) => {\n    const { name, value } = event.target;\n    setPageObj((prevPageObj) => ({\n      ...prevPageObj,\n      [name]: value,\n    }));\n  };\n\n  /* \n    -------------------------------------------------------\n      ButtonClick Functions:\n    -------------------------------------------------------\n  */\n  const onSaveClick = () => {};\n\n  const onCancelClick = () => {\n    props.navigate(linkPincode);\n  };\n\n  const onApproveClick = () => {};\n\n  const onBackClick = () => {\n    props.navigate(linkPincode);\n  };\n\n  const onEditClick = () => {\n    setPageMode(PAGE_MODE.EDIT);\n  };\n\n  /* \n    -------------------------------------------------------\n      Helper Functions:\n    -------------------------------------------------------\n  */\n  const getPageTitle = () => {\n    switch (pageMode) {\n      case PAGE_MODE.CREATE:\n        return \"heading.pincode.create\";\n      case PAGE_MODE.VIEW:\n        return \"heading.pincode.view\";\n      case PAGE_MODE.EDIT:\n        return \"heading.pincode.edit\";\n      default:\n        return \"heading.pincode.create\";\n    }\n  };\n\n  const { pincode, latitude, longitude, city, state, country, description, reason, isActive } =\n    pageObj;\n\n  return (\n    <div className=\"h-full mx-6\">\n      <div className=\"flex w-full justify-between pt-6 items-center\">\n        <div className=\" h-7.5\">\n          <PageTitle title={getPageTitle()} />\n        </div>\n        <div className=\"flex mr-5\">\n          {pageMode === PAGE_MODE.CREATE || pageMode === PAGE_MODE.EDIT ? (\n            <>\n              <div className=\"mr-5\">\n                <ButtonBox\n                  className=\"reset-red\"\n                  buttonType={BUTTON_TYPE.CANCEL_OUTLINE}\n                  onClick={onCancelClick}\n                />\n              </div>\n              <div className=\"mr-10\">\n                <ButtonBox buttonType={BUTTON_TYPE.SAVE_OUTLINE} onClick={onSaveClick} />\n              </div>\n              <div>\n                <ButtonBox\n                  className=\"approve-primary\"\n                  buttonType={BUTTON_TYPE.SEND_FOR_APPROVAL}\n                  onClick={onApproveClick}\n                />\n              </div>\n            </>\n          ) : (\n            <>\n              <div className=\"mr-5\">\n                <ButtonBox buttonType={BUTTON_TYPE.BACK_OUTLINE} onClick={onBackClick} />\n              </div>\n              <div className=\"\">\n                <ButtonBox\n                  buttonType={BUTTON_TYPE.EDIT_OUTLINE}\n                  className=\"blue-primary\"\n                  onClick={onEditClick}\n                />\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n      <div className=\"grid grid-cols-4 gap-3\">\n        <div className=\"col-span-1\">\n          <InputBox\n            label=\"input.pincode.pincode\"\n            name=\"pincode\"\n            variant={INPUT_STYLE_TYPE.SECONDARY}\n            onChange={handleInputChange}\n            value={pincode}\n            disabled={pageMode === PAGE_MODE.VIEW}\n          />\n        </div>\n        <div className=\"col-span-1\">\n          <InputBox\n            label=\"input.pincode.latitude\"\n            name=\"latitude\"\n            variant={INPUT_STYLE_TYPE.SECONDARY}\n            onChange={handleInputChange}\n            value={latitude}\n            disabled={pageMode === PAGE_MODE.VIEW}\n          />\n        </div>\n        <div className=\"col-span-1\">\n          <InputBox\n            label=\"input.pincode.longitude\"\n            name=\"longitude\"\n            variant={INPUT_STYLE_TYPE.SECONDARY}\n            onChange={handleInputChange}\n            value={longitude}\n            disabled={pageMode === PAGE_MODE.VIEW}\n          />\n        </div>\n      </div>\n      <div className=\"grid grid-cols-4 gap-3\">\n        <div className=\"col-span-1\">\n          <InputBox\n            label=\"input.pincode.city\"\n            name=\"state\"\n            variant={INPUT_STYLE_TYPE.SECONDARY}\n            onChange={handleInputChange}\n            value={city}\n            disabled={pageMode === PAGE_MODE.VIEW}\n          />\n        </div>\n        <div className=\"col-span-1\">\n          <InputBox\n            label=\"input.pincode.state\"\n            name=\"state\"\n            variant={INPUT_STYLE_TYPE.SECONDARY}\n            onChange={handleInputChange}\n            value={state}\n            disabled={pageMode === PAGE_MODE.VIEW}\n          />\n        </div>\n        <div className=\"col-span-1\">\n          <InputBox\n            label=\"input.pincode.country\"\n            name=\"country\"\n            variant={INPUT_STYLE_TYPE.SECONDARY}\n            onChange={handleInputChange}\n            value={country}\n            disabled={pageMode === PAGE_MODE.VIEW}\n          />\n        </div>\n      </div>\n      <div className=\"grid grid-cols-4 gap-3\">\n        <div className=\"col-span-2\">\n          <InputTextArea\n            label=\"input.pincode.description\"\n            name=\"description\"\n            variant={INPUT_STYLE_TYPE.SECONDARY}\n            maxCount={200}\n            onChange={handleInputChange}\n            value={description}\n            disabled={pageMode === PAGE_MODE.VIEW}\n          />\n        </div>\n        <div className=\"col-span-2\">\n          <InputTextArea\n            label=\"input.pincode.reason\"\n            name=\"reason\"\n            variant={INPUT_STYLE_TYPE.SECONDARY}\n            maxCount={200}\n            onChange={handleInputChange}\n            value={reason}\n            disabled={pageMode === PAGE_MODE.VIEW}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default withRouter(PincodeCreateViewEdit);\n"],"names":["PincodeCreateViewEdit","props","pageObj","setPageObj","useState","initialObj","setInitialObj","pageMode","setPageMode","PAGE_MODE","uid","setUid","useRef","useEffect","parsed","queryString","PincodeService","res","validateGetAPIResponse","_a","_b","_c","_e","_d","_h","_g","_f","_k","_j","_i","_l","_m","ACTIVE_TYPE","err","handleInputChange","event","name","value","prevPageObj","onSaveClick","onCancelClick","linkPincode","onApproveClick","onBackClick","onEditClick","getPageTitle","pincode","latitude","longitude","city","state","country","description","reason","isActive","jsxs","jsx","PageTitle","Fragment","ButtonBox","BUTTON_TYPE","InputBox","INPUT_STYLE_TYPE","InputTextArea","PincodeCreateViewEdit$1","withRouter"],"mappings":"uYAiBA,MAAMA,EAAyBC,GAAkB,CAM/C,KAAM,CAACC,EAASC,CAAU,EAAIC,WAAS,CACrC,QAAS,GACT,SAAU,GACV,UAAW,GACX,KAAM,GACN,MAAO,GACP,QAAS,GACT,YAAa,GACb,OAAQ,GACR,SAAU,EAAA,CACX,EACK,CAACC,EAAYC,CAAa,EAAIF,WAAS,CAC3C,QAAS,GACT,SAAU,GACV,UAAW,GACX,KAAM,GACN,MAAO,GACP,QAAS,GACT,YAAa,GACb,OAAQ,GACR,SAAU,EAAA,CACX,EACK,CAACG,EAAUC,CAAW,EAAIJ,EAAAA,SAASK,EAAU,MAAM,EACnD,CAACC,GAAKC,CAAM,EAAIP,WAAiB,EAAE,EACjBQ,EAAAA,OAAO,IAAI,EAOnCC,EAAAA,UAAU,IAAM,CACd,IAAIC,EAEAC,EAAY,MAAMd,EAAM,SAAS,MAAM,EACvCa,GAAA,MAAAA,EAAQ,OAAQA,GAAA,YAAAA,EAAQ,QAAS,QACnCN,EAAYM,EAAO,IAAI,CAE3B,EAAG,CAAE,CAAA,EAELD,EAAAA,UAAU,IAAM,CACd,IAAIC,EAGAC,EAAY,MAAMd,EAAM,SAAS,MAAM,EACvCa,GAAA,MAAAA,EAAQ,OAAQA,GAAA,YAAAA,EAAQ,QAAS,QACnCN,EAAYM,EAAO,IAAI,EAErBA,GAAA,MAAAA,EAAQ,MAAOA,GAAA,YAAAA,EAAQ,OAAQ,SACjCH,EAAOG,EAAO,GAAG,EAEjBE,EAAe,SAASF,EAAO,GAAG,EAC/B,KAAMG,GAAa,+BACdC,EAAuBD,CAAG,IAC5B,QAAQ,IAAIA,CAAG,GACX,OAAO,KAAKA,EAAI,IAAI,EAAE,OAAS,GAAKA,EAAI,KAAK,MACpCd,EAAA,CACT,UAASgB,EAAAF,GAAA,YAAAA,EAAK,OAAL,YAAAE,EAAW,UAAW,GAC/B,WAAUC,EAAAH,GAAA,YAAAA,EAAK,OAAL,YAAAG,EAAW,WAAY,GACjC,YAAWC,EAAAJ,GAAA,YAAAA,EAAK,OAAL,YAAAI,EAAW,YAAa,GACnC,OAAMC,GAAAC,EAAAN,GAAA,YAAAA,EAAK,OAAL,YAAAM,EAAW,OAAX,YAAAD,EAAiB,OAAQ,GAC/B,QAAOE,GAAAC,GAAAC,EAAAT,GAAA,YAAAA,EAAK,OAAL,YAAAS,EAAW,OAAX,YAAAD,EAAiB,QAAjB,YAAAD,EAAwB,OAAQ,GACvC,UAASG,GAAAC,GAAAC,EAAAZ,GAAA,YAAAA,EAAK,OAAL,YAAAY,EAAW,OAAX,YAAAD,EAAiB,QAAjB,YAAAD,EAAwB,UAAW,GAC5C,cAAaG,EAAAb,GAAA,YAAAA,EAAK,OAAL,YAAAa,EAAW,cAAe,GACvC,QAAQb,GAAA,YAAAA,EAAK,KAAK,SAAU,IAC5B,UAAUc,EAAAd,GAAA,YAAAA,EAAK,OAAL,MAAAc,EAAW,SAAWC,EAAY,OAASA,EAAY,QAAA,CAClE,EACD1B,EAAc,CAAE,GAAGW,GAAA,YAAAA,EAAK,IAAM,CAAA,GAElC,CACD,EACA,MAAOgB,GAAQ,CAAA,CAEf,EAEP,EAAG,CAAE,CAAA,EAQC,MAAAC,EAAqBC,GAAe,CACxC,KAAM,CAAE,KAAAC,EAAM,MAAAC,GAAUF,EAAM,OAC9BhC,EAAYmC,IAAiB,CAC3B,GAAGA,EACH,CAACF,CAAI,EAAGC,CACR,EAAA,CAAA,EAQEE,EAAc,IAAM,CAAA,EAEpBC,EAAgB,IAAM,CAC1BvC,EAAM,SAASwC,CAAW,CAAA,EAGtBC,EAAiB,IAAM,CAAA,EAEvBC,EAAc,IAAM,CACxB1C,EAAM,SAASwC,CAAW,CAAA,EAGtBG,EAAc,IAAM,CACxBpC,EAAYC,EAAU,IAAI,CAAA,EAQtBoC,EAAe,IAAM,CACzB,OAAQtC,EAAU,CAChB,KAAKE,EAAU,OACN,MAAA,yBACT,KAAKA,EAAU,KACN,MAAA,uBACT,KAAKA,EAAU,KACN,MAAA,uBACT,QACS,MAAA,wBACX,CAAA,EAGI,CAAE,QAAAqC,EAAS,SAAAC,EAAU,UAAAC,EAAW,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,YAAAC,EAAa,OAAAC,EAAQ,SAAAC,EAAA,EAC/EpD,EAGA,OAAAqD,EAAA,KAAC,MAAI,CAAA,UAAU,cACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,gDACb,SAAA,CAACC,EAAAA,IAAA,MAAA,CAAI,UAAU,SACb,SAAAA,MAACC,GAAU,MAAOZ,IAAgB,CACpC,CAAA,EACAW,EAAA,IAAC,MAAI,CAAA,UAAU,YACZ,SAAAjD,IAAaE,EAAU,QAAUF,IAAaE,EAAU,KAErD8C,EAAAA,KAAAG,EAAAA,SAAA,CAAA,SAAA,CAACF,EAAAA,IAAA,MAAA,CAAI,UAAU,OACb,SAAAA,EAAA,IAACG,EAAA,CACC,UAAU,YACV,WAAYC,EAAY,eACxB,QAASpB,CAAA,CAAA,EAEb,EACAgB,EAAA,IAAC,MAAI,CAAA,UAAU,QACb,SAAAA,EAAAA,IAACG,EAAU,CAAA,WAAYC,EAAY,aAAc,QAASrB,CAAA,CAAa,CACzE,CAAA,QACC,MACC,CAAA,SAAAiB,EAAA,IAACG,EAAA,CACC,UAAU,kBACV,WAAYC,EAAY,kBACxB,QAASlB,CAAA,CAAA,EAEb,CAAA,CAAA,CACF,EAGEa,EAAAA,KAAAG,EAAA,SAAA,CAAA,SAAA,CAACF,EAAA,IAAA,MAAA,CAAI,UAAU,OACb,SAACA,EAAAA,IAAAG,EAAA,CAAU,WAAYC,EAAY,aAAc,QAASjB,CAAA,CAAa,CACzE,CAAA,EACAa,EAAAA,IAAC,MAAI,CAAA,UAAU,GACb,SAAAA,EAAA,IAACG,EAAA,CACC,WAAYC,EAAY,aACxB,UAAU,eACV,QAAShB,CAAA,CAAA,EAEb,CAAA,CAAA,CACF,CAEJ,CAAA,CAAA,EACF,EACAW,EAAAA,KAAC,MAAI,CAAA,UAAU,yBACb,SAAA,CAACC,EAAAA,IAAA,MAAA,CAAI,UAAU,aACb,SAAAA,EAAA,IAACK,EAAA,CACC,MAAM,wBACN,KAAK,UACL,QAASC,EAAiB,UAC1B,SAAU5B,EACV,MAAOY,EACP,SAAUvC,IAAaE,EAAU,IAAA,CAAA,EAErC,EACA+C,EAAAA,IAAC,MAAI,CAAA,UAAU,aACb,SAAAA,EAAA,IAACK,EAAA,CACC,MAAM,yBACN,KAAK,WACL,QAASC,EAAiB,UAC1B,SAAU5B,EACV,MAAOa,EACP,SAAUxC,IAAaE,EAAU,IAAA,CAAA,EAErC,EACA+C,EAAAA,IAAC,MAAI,CAAA,UAAU,aACb,SAAAA,EAAA,IAACK,EAAA,CACC,MAAM,0BACN,KAAK,YACL,QAASC,EAAiB,UAC1B,SAAU5B,EACV,MAAOc,EACP,SAAUzC,IAAaE,EAAU,IAAA,CAAA,EAErC,CAAA,EACF,EACA8C,EAAAA,KAAC,MAAI,CAAA,UAAU,yBACb,SAAA,CAACC,EAAAA,IAAA,MAAA,CAAI,UAAU,aACb,SAAAA,EAAA,IAACK,EAAA,CACC,MAAM,qBACN,KAAK,QACL,QAASC,EAAiB,UAC1B,SAAU5B,EACV,MAAOe,EACP,SAAU1C,IAAaE,EAAU,IAAA,CAAA,EAErC,EACA+C,EAAAA,IAAC,MAAI,CAAA,UAAU,aACb,SAAAA,EAAA,IAACK,EAAA,CACC,MAAM,sBACN,KAAK,QACL,QAASC,EAAiB,UAC1B,SAAU5B,EACV,MAAOgB,EACP,SAAU3C,IAAaE,EAAU,IAAA,CAAA,EAErC,EACA+C,EAAAA,IAAC,MAAI,CAAA,UAAU,aACb,SAAAA,EAAA,IAACK,EAAA,CACC,MAAM,wBACN,KAAK,UACL,QAASC,EAAiB,UAC1B,SAAU5B,EACV,MAAOiB,EACP,SAAU5C,IAAaE,EAAU,IAAA,CAAA,EAErC,CAAA,EACF,EACA8C,EAAAA,KAAC,MAAI,CAAA,UAAU,yBACb,SAAA,CAACC,EAAAA,IAAA,MAAA,CAAI,UAAU,aACb,SAAAA,EAAA,IAACO,EAAA,CACC,MAAM,4BACN,KAAK,cACL,QAASD,EAAiB,UAC1B,SAAU,IACV,SAAU5B,EACV,MAAOkB,EACP,SAAU7C,IAAaE,EAAU,IAAA,CAAA,EAErC,EACA+C,EAAAA,IAAC,MAAI,CAAA,UAAU,aACb,SAAAA,EAAA,IAACO,EAAA,CACC,MAAM,uBACN,KAAK,SACL,QAASD,EAAiB,UAC1B,SAAU,IACV,SAAU5B,EACV,MAAOmB,EACP,SAAU9C,IAAaE,EAAU,IAAA,CAAA,EAErC,CAAA,EACF,CACF,CAAA,CAAA,CAEJ,EACeuD,GAAAC,EAAWjE,CAAqB"}