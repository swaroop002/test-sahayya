{"version":3,"file":"view6-e299e3d6.js","sources":["../../src/assets/img/buttonIcons/Add.svg","../../src/views/view6/view6.tsx"],"sourcesContent":["export default \"__VITE_ASSET__c839cf87__\"","import SimpleTab from \"components/SimpleTab\";\nimport Text from \"components/Text\";\nimport React, { useState, useRef } from \"react\";\n\nimport addIcon from \"assets/img/buttonIcons/Add.svg\";\n\nimport InputBox from \"components/InputBox/InputBox\";\nimport { Button } from \"primereact/button\";\n\nconst view6 = () => {\n  const [tabs, setTabs] = useState<any>([\n    {\n      name: \"New Tab\",\n      key: \"1\",\n    },\n  ]);\n\n  const [activeIndex, setActiveIndex] = useState<number>(0);\n\n  const [applicantDetails, setApplicantDetails] = useState<any>([\n    {\n      firstName: \"\",\n      secondName: \"\",\n    },\n  ]);\n\n  const tabRef = useRef<any>(null);\n\n  const handleChange = (e: any) => {\n    const updatedApplicantDetails = [...applicantDetails];\n\n    updatedApplicantDetails[activeIndex] = {\n      ...updatedApplicantDetails[activeIndex],\n      [e.target.name]: e.target.value,\n    };\n\n    setApplicantDetails(updatedApplicantDetails);\n  };\n\n  const handleTabChange = (e: any) => {\n    setActiveIndex(e.index);\n  };\n\n  const handleBlur = (e: any) => {\n    const matchedObj = applicantDetails[activeIndex];\n    const updatedTab = [...tabs];\n\n    if (matchedObj?.firstName !== \"\" || matchedObj?.secondName !== \"\") {\n      updatedTab[activeIndex] = {\n        ...updatedTab[activeIndex],\n        name: `${matchedObj?.firstName} ${matchedObj?.secondName}`,\n      };\n\n      setTabs(updatedTab);\n    } else {\n      updatedTab[activeIndex] = {\n        ...updatedTab[activeIndex],\n        name: \"New Tab\",\n      };\n\n      setTabs(updatedTab);\n    }\n  };\n\n  const renderContent = (tab: any[], index: any) => {\n    return (\n      <div>\n        <InputBox\n          label=\"First Name\"\n          name=\"firstName\"\n          value={applicantDetails[activeIndex]?.firstName}\n          onChange={handleChange}\n          onBlur={handleBlur}\n        />\n        <InputBox\n          label=\"Second Name\"\n          name=\"secondName\"\n          value={applicantDetails[activeIndex]?.secondName}\n          onChange={handleChange}\n          onBlur={handleBlur}\n        />\n      </div>\n    );\n  };\n\n  const onClickAddTabs = () => {\n    setTabs((prevState: any[]) => {\n      return [\n        ...prevState,\n        {\n          name: \"New Tab\",\n          key: `${parseInt(tabs[tabs.length - 1]?.key) + 1}`,\n        },\n      ];\n    });\n\n    setApplicantDetails((prevState: any[]) => {\n      return [\n        ...prevState,\n        {\n          firstName: \"\",\n          secondName: \"\",\n        },\n      ];\n    });\n  };\n\n  const onDeleteTab = (tab: any, index: any) => {\n    const updatedTab = [...tabs];\n    const updatedApplicantDetails = [...applicantDetails];\n\n    setActiveIndex(2);\n\n    if (tabs.length === 1) {\n      setTabs([\n        {\n          name: \"New Tab\",\n          key: \"1\",\n        },\n      ]);\n      setApplicantDetails([\n        {\n          firstName: \"\",\n          secondName: \"\",\n        },\n      ]);\n      return;\n    }\n    if (index >= 0 && index < tabs.length) {\n      // Check if the index is valid\n      updatedTab.splice(index, 1); // Remove 1 element at the specified index\n      updatedApplicantDetails.splice(index, 1);\n      setTabs(updatedTab);\n      setApplicantDetails(updatedApplicantDetails);\n\n      if (index + 1 === tabs.length - 1 && activeIndex === index + 1) {\n        return;\n      } else if (\n        (index === tabs.length - 1 && activeIndex === index) ||\n        (index !== tabs.length - 1 && activeIndex === tabs.length - 1) ||\n        index < activeIndex\n      ) {\n        setTimeout(() => {\n          setActiveIndex(activeIndex - 1);\n        }, 5);\n        return;\n      } else {\n        const currentIndex = activeIndex;\n        setTimeout(() => {\n          setActiveIndex(currentIndex);\n        }, 5);\n        return;\n      }\n    }\n  };\n\n  const renderCoApplicantsTotal = () => {\n    return (\n      <React.Fragment>\n        <Text className=\" \" label={`(${tabs.length} Co - Applicants )`} />\n      </React.Fragment>\n    );\n  };\n\n  console.log(tabRef);\n\n  return (\n    <div>\n      <h3>Dynamic Tab</h3>\n\n      <div className=\"mt-4 scrollable-tab dynamic-tab relative deleteable-header\">\n        <SimpleTab\n          showTooltip\n          scrollable\n          headerClassName=\"dynamic-header\"\n          ref={tabRef}\n          activeIndex={activeIndex}\n          tabs={tabs}\n          onTabChange={handleTabChange}\n          renderContent={renderContent}\n        />\n\n        <div className=\"absolute top-3 right-18 text-[#A3A3A3] text-xs\">\n          {renderCoApplicantsTotal()}\n        </div>\n\n        <div className=\"absolute top-2 right-6 bg-white\">\n          <img src={addIcon} alt=\"add\" onClick={onClickAddTabs} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default view6;\n"],"names":["addIcon","view6","tabs","setTabs","useState","activeIndex","setActiveIndex","applicantDetails","setApplicantDetails","tabRef","useRef","handleChange","e","updatedApplicantDetails","handleTabChange","handleBlur","matchedObj","updatedTab","renderContent","tab","index","jsx","InputBox","_a","_b","onClickAddTabs","prevState","renderCoApplicantsTotal","React","Text","jsxs","SimpleTab"],"mappings":"0RAAA,MAAeA,EAAA,2BCSTC,EAAQ,IAAM,CAClB,KAAM,CAACC,EAAMC,CAAO,EAAIC,WAAc,CACpC,CACE,KAAM,UACN,IAAK,GACP,CAAA,CACD,EAEK,CAACC,EAAaC,CAAc,EAAIF,WAAiB,CAAC,EAElD,CAACG,EAAkBC,CAAmB,EAAIJ,WAAc,CAC5D,CACE,UAAW,GACX,WAAY,EACd,CAAA,CACD,EAEKK,EAASC,SAAY,IAAI,EAEzBC,EAAgBC,GAAW,CACzB,MAAAC,EAA0B,CAAC,GAAGN,CAAgB,EAEpDM,EAAwBR,CAAW,EAAI,CACrC,GAAGQ,EAAwBR,CAAW,EACtC,CAACO,EAAE,OAAO,IAAI,EAAGA,EAAE,OAAO,KAAA,EAG5BJ,EAAoBK,CAAuB,CAAA,EAGvCC,EAAmBF,GAAW,CAClCN,EAAeM,EAAE,KAAK,CAAA,EAGlBG,EAAcH,GAAW,CACvB,MAAAI,EAAaT,EAAiBF,CAAW,EACzCY,EAAa,CAAC,GAAGf,CAAI,GAEvBc,GAAA,YAAAA,EAAY,aAAc,KAAMA,GAAA,YAAAA,EAAY,cAAe,IAC7DC,EAAWZ,CAAW,EAAI,CACxB,GAAGY,EAAWZ,CAAW,EACzB,KAAM,GAAGW,GAAA,YAAAA,EAAY,aAAaA,GAAA,YAAAA,EAAY,YAAA,EAGhDb,EAAQc,CAAU,IAElBA,EAAWZ,CAAW,EAAI,CACxB,GAAGY,EAAWZ,CAAW,EACzB,KAAM,SAAA,EAGRF,EAAQc,CAAU,EACpB,EAGIC,EAAgB,CAACC,EAAYC,IAAe,SAChD,cACG,MACC,CAAA,SAAA,CAAAC,EAAA,IAACC,EAAA,CACC,MAAM,aACN,KAAK,YACL,OAAOC,EAAAhB,EAAiBF,CAAW,IAA5B,YAAAkB,EAA+B,UACtC,SAAUZ,EACV,OAAQI,CAAA,CACV,EACAM,EAAA,IAACC,EAAA,CACC,MAAM,cACN,KAAK,aACL,OAAOE,EAAAjB,EAAiBF,CAAW,IAA5B,YAAAmB,EAA+B,WACtC,SAAUb,EACV,OAAQI,CAAA,CACV,CACF,CAAA,CAAA,CAAA,EAIEU,EAAiB,IAAM,CAC3BtB,EAASuB,GAAqB,OACrB,MAAA,CACL,GAAGA,EACH,CACE,KAAM,UACN,IAAK,GAAG,UAASH,EAAArB,EAAKA,EAAK,OAAS,CAAC,IAApB,YAAAqB,EAAuB,GAAG,EAAI,GACjD,CAAA,CACF,CACD,EAEDf,EAAqBkB,GACZ,CACL,GAAGA,EACH,CACE,UAAW,GACX,WAAY,EACd,CAAA,CAEH,CAAA,EAoDGC,EAA0B,IAE3BN,EAAAA,IAAAO,EAAM,SAAN,CACC,SAACP,EAAA,IAAAQ,EAAA,CAAK,UAAU,IAAI,MAAO,IAAI3B,EAAK,0BAAA,CAA4B,CAClE,CAAA,EAIJ,eAAQ,IAAIO,CAAM,SAGf,MACC,CAAA,SAAA,CAAAY,EAAAA,IAAC,MAAG,SAAW,aAAA,CAAA,EAEfS,EAAAA,KAAC,MAAI,CAAA,UAAU,6DACb,SAAA,CAAAT,EAAA,IAACU,EAAA,CACC,YAAW,GACX,WAAU,GACV,gBAAgB,iBAChB,IAAKtB,EACL,YAAAJ,EACA,KAAAH,EACA,YAAaY,EACb,cAAAI,CAAA,CACF,EAECG,EAAA,IAAA,MAAA,CAAI,UAAU,iDACZ,aACH,EAECA,EAAA,IAAA,MAAA,CAAI,UAAU,kCACb,SAACA,EAAAA,IAAA,MAAA,CAAI,IAAKrB,EAAS,IAAI,MAAM,QAASyB,CAAgB,CAAA,EACxD,CAAA,EACF,CACF,CAAA,CAAA,CAEJ"}